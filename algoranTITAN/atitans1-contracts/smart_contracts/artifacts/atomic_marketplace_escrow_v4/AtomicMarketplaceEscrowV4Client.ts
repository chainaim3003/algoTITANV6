/* eslint-disable */
/**
 * This file was automatically generated by @algorandfoundation/algokit-client-generator.
 * DO NOT MODIFY IT BY HAND.
 * requires: @algorandfoundation/algokit-utils: ^7
 */
import { type AlgorandClient } from '@algorandfoundation/algokit-utils/types/algorand-client'
import { ABIReturn, AppReturn, SendAppTransactionResult } from '@algorandfoundation/algokit-utils/types/app'
import { Arc56Contract, getArc56ReturnValue, getABIStructFromABITuple } from '@algorandfoundation/algokit-utils/types/app-arc56'
import {
  AppClient as _AppClient,
  AppClientMethodCallParams,
  AppClientParams,
  AppClientBareCallParams,
  CallOnComplete,
  AppClientCompilationParams,
  ResolveAppClientByCreatorAndName,
  ResolveAppClientByNetwork,
  CloneAppClientParams,
} from '@algorandfoundation/algokit-utils/types/app-client'
import { AppFactory as _AppFactory, AppFactoryAppClientParams, AppFactoryResolveAppClientByCreatorAndNameParams, AppFactoryDeployParams, AppFactoryParams, CreateSchema } from '@algorandfoundation/algokit-utils/types/app-factory'
import { TransactionComposer, AppCallMethodCall, AppMethodCallTransactionArgument, SimulateOptions, RawSimulateOptions, SkipSignaturesSimulateOptions } from '@algorandfoundation/algokit-utils/types/composer'
import { SendParams, SendSingleTransactionResult, SendAtomicTransactionComposerResults } from '@algorandfoundation/algokit-utils/types/transaction'
import { Address, encodeAddress, modelsv2, OnApplicationComplete, Transaction, TransactionSigner } from 'algosdk'

export const APP_SPEC: Arc56Contract = {"name":"AtomicMarketplaceEscrowV4","structs":{"TradeEscrow":[{"name":"tradeId","type":"uint64"},{"name":"buyer","type":"address"},{"name":"seller","type":"address"},{"name":"escrowProvider","type":"address"},{"name":"amount","type":"uint64"},{"name":"state","type":"uint64"},{"name":"createdAt","type":"uint64"},{"name":"instrumentAssetId","type":"uint64"},{"name":"instrumentType","type":"uint64"},{"name":"instrumentValue","type":"uint64"},{"name":"regulatorWallet","type":"address"},{"name":"regulatorTaxPaid","type":"uint64"},{"name":"regulatorRefundDue","type":"uint64"},{"name":"marketplaceFee","type":"uint64"}],"TradeMetadata":[{"name":"productType","type":"string"},{"name":"description","type":"string"},{"name":"ipfsHash","type":"string"},{"name":"leiId","type":"string"},{"name":"leiName","type":"string"},{"name":"instrumentNumber","type":"string"}]},"methods":[{"name":"initialize","args":[{"type":"uint64","name":"settlementAssetId","desc":"- 0 for ALGO, ASA ID for USDCA"},{"type":"address","name":"treasuryAddress","desc":"- Platform treasury for fees"}],"returns":{"type":"bool"},"actions":{"create":[],"call":["NoOp"]},"readonly":false,"desc":"Initialize marketplace escrow","events":[],"recommendations":{}},{"name":"setSettlementCurrency","args":[{"type":"uint64","name":"assetId"}],"returns":{"type":"bool"},"actions":{"create":[],"call":["NoOp"]},"readonly":false,"desc":"Update settlement currency (admin only)","events":[],"recommendations":{}},{"name":"setRates","args":[{"type":"uint64","name":"taxRate"},{"type":"uint64","name":"refundRate"},{"type":"uint64","name":"feeRate"}],"returns":{"type":"bool"},"actions":{"create":[],"call":["NoOp"]},"readonly":false,"desc":"Update configurable rates (only creator)","events":[],"recommendations":{}},{"name":"createTrade","args":[{"type":"address","name":"sellerAddress","desc":"- Exporter/seller address"},{"type":"uint64","name":"amount","desc":"- Already divided amount (in microAlgos or microASA)"},{"type":"string","name":"productType","desc":"- Type of product being traded"},{"type":"string","name":"description","desc":"- Trade description"},{"type":"string","name":"ipfsHash","desc":"- IPFS hash of purchase order"}],"returns":{"type":"uint64"},"actions":{"create":[],"call":["NoOp"]},"readonly":false,"desc":"Create trade (buyer initiates)\n\nUI MUST divide instrument price by 100,000 before calling this","events":[],"recommendations":{}},{"name":"escrowTrade","args":[{"type":"pay","name":"paymentTxn"},{"type":"uint64","name":"tradeId"}],"returns":{"type":"bool"},"actions":{"create":[],"call":["NoOp"]},"readonly":false,"desc":"Escrow trade - buyer locks funds (ALGO)\n\nGroup transaction structure:\n[0] Payment (buyer to contract)\n[1] Application call (this method)","events":[],"recommendations":{}},{"name":"escrowTradeWithAsset","args":[{"type":"axfer","name":"assetTxn"},{"type":"uint64","name":"tradeId"}],"returns":{"type":"bool"},"actions":{"create":[],"call":["NoOp"]},"readonly":false,"desc":"Escrow trade - buyer locks funds (ASA)\n\nGroup transaction structure:\n[0] AssetTransfer (buyer to contract)\n[1] Application call (this method)","events":[],"recommendations":{}},{"name":"escrowTradeAsFinancier","args":[{"type":"pay","name":"paymentTxn"},{"type":"uint64","name":"tradeId"}],"returns":{"type":"bool"},"actions":{"create":[],"call":["NoOp"]},"readonly":false,"desc":"Escrow trade as financier - third party locks funds (ALGO)\n\nGroup transaction structure:\n[0] Payment (financier to contract)\n[1] Application call (this method)","events":[],"recommendations":{}},{"name":"escrowTradeAsFinancierWithAsset","args":[{"type":"axfer","name":"assetTxn"},{"type":"uint64","name":"tradeId"}],"returns":{"type":"bool"},"actions":{"create":[],"call":["NoOp"]},"readonly":false,"desc":"Escrow trade as financier - third party locks funds (ASA)\n\nGroup transaction structure:\n[0] AssetTransfer (financier to contract)\n[1] Application call (this method)","events":[],"recommendations":{}},{"name":"executeTrade","args":[{"type":"axfer","name":"instrumentTxn"},{"type":"pay","name":"regulatorPayment"},{"type":"uint64","name":"tradeId"},{"type":"uint64","name":"instrumentAssetId"},{"type":"uint64","name":"instrumentTypeNum"},{"type":"string","name":"leiId"},{"type":"string","name":"leiName"},{"type":"string","name":"instrumentNumber"},{"type":"address","name":"regulatorWallet"}],"returns":{"type":"bool"},"actions":{"create":[],"call":["NoOp"]},"readonly":false,"desc":"Execute trade - seller transfers RWA instrument and receives payment (ALGO)\n\nGroup transaction structure:\n[0] Asset transfer (seller sends instrument NFT to buyer/marketplace)\n[1] Payment (regulator tax payment from seller)\n[2] Application call (this method - triggers internal payments)","events":[],"recommendations":{}},{"name":"executeTradeWithAsset","args":[{"type":"axfer","name":"instrumentTxn"},{"type":"axfer","name":"regulatorAssetPayment"},{"type":"uint64","name":"tradeId"},{"type":"uint64","name":"instrumentAssetId"},{"type":"uint64","name":"instrumentTypeNum"},{"type":"string","name":"leiId"},{"type":"string","name":"leiName"},{"type":"string","name":"instrumentNumber"},{"type":"address","name":"regulatorWallet"}],"returns":{"type":"bool"},"actions":{"create":[],"call":["NoOp"]},"readonly":false,"desc":"Execute trade - seller transfers RWA instrument and receives payment (ASA)\n\nGroup transaction structure:\n[0] Asset transfer (seller sends instrument NFT to buyer/marketplace)\n[1] AssetTransfer (regulator tax payment from seller)\n[2] Application call (this method - triggers internal payments)","events":[],"recommendations":{}},{"name":"acknowledgePayment","args":[{"type":"pay","name":"regulatorRefund"},{"type":"uint64","name":"tradeId"}],"returns":{"type":"bool"},"actions":{"create":[],"call":["NoOp"]},"readonly":false,"desc":"Acknowledge payment - seller confirms receipt and triggers regulator refund (ALGO)\n\nGroup transaction structure:\n[0] Payment (regulator sends refund to seller)\n[1] Application call (this method)","events":[],"recommendations":{}},{"name":"acknowledgePaymentWithAsset","args":[{"type":"axfer","name":"regulatorRefund"},{"type":"uint64","name":"tradeId"}],"returns":{"type":"bool"},"actions":{"create":[],"call":["NoOp"]},"readonly":false,"desc":"Acknowledge payment - seller confirms receipt and triggers regulator refund (ASA)\n\nGroup transaction structure:\n[0] AssetTransfer (regulator sends refund to seller)\n[1] Application call (this method)","events":[],"recommendations":{}},{"name":"expireTrade","args":[{"type":"uint64","name":"tradeId"}],"returns":{"type":"bool"},"actions":{"create":[],"call":["NoOp"]},"readonly":false,"desc":"Expire trade - admin function to cancel and refund","events":[],"recommendations":{}},{"name":"getTrade","args":[{"type":"uint64","name":"tradeId"}],"returns":{"type":"(uint64,address,address,address,uint64,uint64,uint64,uint64,uint64,uint64,address,uint64,uint64,uint64)","struct":"TradeEscrow"},"actions":{"create":[],"call":["NoOp"]},"readonly":true,"desc":"Get trade details","events":[],"recommendations":{}},{"name":"getTradeMetadata","args":[{"type":"uint64","name":"tradeId"}],"returns":{"type":"(string,string,string,string,string,string)","struct":"TradeMetadata"},"actions":{"create":[],"call":["NoOp"]},"readonly":true,"desc":"Get trade metadata","events":[],"recommendations":{}},{"name":"getTradesByBuyer","args":[{"type":"address","name":"buyer"}],"returns":{"type":"uint64[]"},"actions":{"create":[],"call":["NoOp"]},"readonly":true,"desc":"Get trades by buyer","events":[],"recommendations":{}},{"name":"getTradesBySeller","args":[{"type":"address","name":"seller"}],"returns":{"type":"uint64[]"},"actions":{"create":[],"call":["NoOp"]},"readonly":true,"desc":"Get trades by seller","events":[],"recommendations":{}},{"name":"calculateEscrowCost","args":[{"type":"uint64","name":"amount"}],"returns":{"type":"(uint64,uint64)"},"actions":{"create":[],"call":["NoOp"]},"readonly":true,"desc":"Calculate escrow cost (amount + fee)","events":[],"recommendations":{}},{"name":"calculateRegulatorCosts","args":[{"type":"uint64","name":"amount"}],"returns":{"type":"(uint64,uint64)"},"actions":{"create":[],"call":["NoOp"]},"readonly":true,"desc":"Calculate regulator costs","events":[],"recommendations":{}},{"name":"getPaymentConfig","args":[],"returns":{"type":"(uint64,bool)"},"actions":{"create":[],"call":["NoOp"]},"readonly":true,"desc":"Get payment configuration for UI","events":[],"recommendations":{}}],"arcs":[22,28],"networks":{},"state":{"schema":{"global":{"ints":5,"bytes":1},"local":{"ints":0,"bytes":0}},"keys":{"global":{"nextTradeId":{"keyType":"AVMString","valueType":"AVMUint64","key":"bmV4dFRyYWRlSWQ=","desc":"Global state"},"platformTreasury":{"keyType":"AVMString","valueType":"AVMBytes","key":"cGxhdGZvcm1UcmVhc3VyeQ=="},"settlementCurrency":{"keyType":"AVMString","valueType":"AVMUint64","key":"c2V0dGxlbWVudEN1cnJlbmN5"},"regulatorTaxRate":{"keyType":"AVMString","valueType":"AVMUint64","key":"cmVndWxhdG9yVGF4UmF0ZQ==","desc":"Configurable rates (in basis points, 10000 = 100%)"},"regulatorRefundRate":{"keyType":"AVMString","valueType":"AVMUint64","key":"cmVndWxhdG9yUmVmdW5kUmF0ZQ=="},"marketplaceFeeRate":{"keyType":"AVMString","valueType":"AVMUint64","key":"bWFya2V0cGxhY2VGZWVSYXRl"}},"local":{},"box":{}},"maps":{"global":{},"local":{},"box":{"trades":{"keyType":"uint64","valueType":"TradeEscrow","desc":"Storage maps","prefix":"dHJhZGVz"},"metadata":{"keyType":"uint64","valueType":"TradeMetadata","prefix":"bWV0YWRhdGE="},"buyerTrades":{"keyType":"address","valueType":"uint64[]","desc":"Index maps for querying","prefix":"YnV5ZXI="},"sellerTrades":{"keyType":"address","valueType":"uint64[]","prefix":"c2VsbGVy"}}}},"bareActions":{"create":["NoOp"],"call":[]},"sourceInfo":{"approval":{"sourceInfo":[{"pc":[1282],"errorMessage":"Amount must be greater than 0"},{"pc":[1499,1540,1616,1700,1785,1879,1984,2193,2412,2622,2831,2905,2990,3077,3090,3110,3135],"errorMessage":"Box must have value"},{"pc":[1800,1894],"errorMessage":"Buyer cannot be financier"},{"pc":[3013],"errorMessage":"Cannot expire trade in current state"},{"pc":[1279],"errorMessage":"Cannot trade with yourself"},{"pc":[1120],"errorMessage":"Fee rate too high"},{"pc":[1624,1708,1796,1805,1890,1899,1992,2087,2091,2420,2516,2520,2840,2867,2914,2942,3034],"errorMessage":"Index access is out of bounds"},{"pc":[2070,2499],"errorMessage":"Instrument must come from seller"},{"pc":[2108,2537],"errorMessage":"Instrument must go to buyer"},{"pc":[2383,2812],"errorMessage":"Instrument must go to marketplace"},{"pc":[2019,2447],"errorMessage":"Invalid instrument type"},{"pc":[2005,2433],"errorMessage":"Invalid regulator address"},{"pc":[2056,2484],"errorMessage":"Must be 3-transaction group"},{"pc":[1653,1737,1832,1926,2852,2926],"errorMessage":"Must be group transaction"},{"pc":[2085,2514],"errorMessage":"Must transfer 1 instrument NFT"},{"pc":[1659,1838,2062,2858],"errorMessage":"Must use ALGO payment for this method"},{"pc":[1744,1933,2491,2933],"errorMessage":"Must use ASA payment for this method"},{"pc":[360,384,409,434,453,472,492,512,537,573,608,684,759,795,830,866,901,943,976,1001],"errorMessage":"OnCompletion is not NoOp"},{"pc":[1630,1714],"errorMessage":"Only buyer can escrow"},{"pc":[1085],"errorMessage":"Only creator can change settlement"},{"pc":[2977],"errorMessage":"Only creator can expire trades"},{"pc":[1045],"errorMessage":"Only creator can initialize"},{"pc":[1100],"errorMessage":"Only creator can set rates"},{"pc":[2847,2921],"errorMessage":"Only seller can acknowledge"},{"pc":[1999,2427],"errorMessage":"Only seller can execute"},{"pc":[1114],"errorMessage":"Refund rate too high"},{"pc":[1809,1903],"errorMessage":"Seller cannot be financier"},{"pc":[1107],"errorMessage":"Tax rate too high"},{"pc":[1991,2419],"errorMessage":"Trade not escrowed"},{"pc":[2838,2912],"errorMessage":"Trade not executed"},{"pc":[1622,1706,1791,1885],"errorMessage":"Trade not in CREATED state"},{"pc":[1156,1184],"errorMessage":"Wrong amount"},{"pc":[1194],"errorMessage":"Wrong asset"},{"pc":[2078,2507],"errorMessage":"Wrong instrument asset"},{"pc":[1148,1176],"errorMessage":"Wrong receiver"},{"pc":[1164,1202],"errorMessage":"Wrong sender"},{"pc":[1034],"errorMessage":"can only call when creating"},{"pc":[363,387,412,437,456,475,495,515,540,576,611,687,762,798,833,869,904,946,979,1004],"errorMessage":"can only call when not creating"},{"pc":[1192,1210,1235,1266,1293,1639,1657,1723,1741,1818,1836,1912,1930,2033,2045,2060,2129,2461,2473,2488,2558,2856,2930,3149,3169,3179,3189,3194],"errorMessage":"check GlobalState exists"},{"pc":[551,622,633,698,773,844],"errorMessage":"transaction type is axfer"},{"pc":[586,708,808,879],"errorMessage":"transaction type is pay"}],"pcOffsetMethod":"none"},"clear":{"sourceInfo":[],"pcOffsetMethod":"none"}},"source":{"approval":"I3ByYWdtYSB2ZXJzaW9uIDEwCiNwcmFnbWEgdHlwZXRyYWNrIGZhbHNlCgovLyBAYWxnb3JhbmRmb3VuZGF0aW9uL2FsZ29yYW5kLXR5cGVzY3JpcHQvYXJjNC9pbmRleC5kLnRzOjpDb250cmFjdC5hcHByb3ZhbFByb2dyYW0oKSAtPiB1aW50NjQ6Cm1haW46CiAgICBpbnRjYmxvY2sgMSAwIDIgMTAwMDAgMjAwCiAgICBieXRlY2Jsb2NrIDB4MTUxZjdjNzUgInNldHRsZW1lbnRDdXJyZW5jeSIgMHgwMCAidHJhZGVzIiAibWFya2V0cGxhY2VGZWVSYXRlIiAweDAwMDAwMDAwMDAwMDAwMDAgIm5leHRUcmFkZUlkIiAicmVndWxhdG9yVGF4UmF0ZSIgInJlZ3VsYXRvclJlZnVuZFJhdGUiIDB4MDAwMCAibWV0YWRhdGEiIDB4MDAwMDAwMDAwMDAwMDAwMSAicGxhdGZvcm1UcmVhc3VyeSIgImJ1eWVyIiAic2VsbGVyIiAweDAwMDEgMHgwMDAwMDAwMDAwMDAwMDAyIDB4MDAwMDAwMDAwMDAwMDAwMyAweDAwMDAwMDAwMDAwMDAwMDUKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdG9taWNfbWFya2V0cGxhY2VfZXNjcm93X3Y0L0F0b21pY01hcmtldHBsYWNlRXNjcm93VjQuYWxnby50czo4NAogICAgLy8gZXhwb3J0IGRlZmF1bHQgY2xhc3MgQXRvbWljTWFya2V0cGxhY2VFc2Nyb3dWNCBleHRlbmRzIENvbnRyYWN0IHsKICAgIHR4biBOdW1BcHBBcmdzCiAgICBieiBtYWluX2JhcmVfcm91dGluZ0AyNQogICAgcHVzaGJ5dGVzcyAweGYzZjczYmNjIDB4ZjBiNGI2N2EgMHg1NDkyNDE5NCAweDVkNmUyYTM5IDB4ZDYxZWQzZTEgMHg5ODk0NzE4OSAweDg4OWMxZDdlIDB4ODY4N2QyMzAgMHhlYmNjYzkxNSAweDRiMTM5Y2JlIDB4ODY4ZjI2NzUgMHgzMTRmNjQ0YyAweDFjOGUxMGEwIDB4ZGMwM2NiYzggMHhiNDRkZWVjZCAweDFhMTA4MjhiIDB4Y2FhYmQ1YWEgMHg4OGRmNjY1NyAweDUzYjQyNzI3IDB4MWRlOTJlYWYgLy8gbWV0aG9kICJpbml0aWFsaXplKHVpbnQ2NCxhZGRyZXNzKWJvb2wiLCBtZXRob2QgInNldFNldHRsZW1lbnRDdXJyZW5jeSh1aW50NjQpYm9vbCIsIG1ldGhvZCAic2V0UmF0ZXModWludDY0LHVpbnQ2NCx1aW50NjQpYm9vbCIsIG1ldGhvZCAiY3JlYXRlVHJhZGUoYWRkcmVzcyx1aW50NjQsc3RyaW5nLHN0cmluZyxzdHJpbmcpdWludDY0IiwgbWV0aG9kICJlc2Nyb3dUcmFkZShwYXksdWludDY0KWJvb2wiLCBtZXRob2QgImVzY3Jvd1RyYWRlV2l0aEFzc2V0KGF4ZmVyLHVpbnQ2NClib29sIiwgbWV0aG9kICJlc2Nyb3dUcmFkZUFzRmluYW5jaWVyKHBheSx1aW50NjQpYm9vbCIsIG1ldGhvZCAiZXNjcm93VHJhZGVBc0ZpbmFuY2llcldpdGhBc3NldChheGZlcix1aW50NjQpYm9vbCIsIG1ldGhvZCAiZXhlY3V0ZVRyYWRlKGF4ZmVyLHBheSx1aW50NjQsdWludDY0LHVpbnQ2NCxzdHJpbmcsc3RyaW5nLHN0cmluZyxhZGRyZXNzKWJvb2wiLCBtZXRob2QgImV4ZWN1dGVUcmFkZVdpdGhBc3NldChheGZlcixheGZlcix1aW50NjQsdWludDY0LHVpbnQ2NCxzdHJpbmcsc3RyaW5nLHN0cmluZyxhZGRyZXNzKWJvb2wiLCBtZXRob2QgImFja25vd2xlZGdlUGF5bWVudChwYXksdWludDY0KWJvb2wiLCBtZXRob2QgImFja25vd2xlZGdlUGF5bWVudFdpdGhBc3NldChheGZlcix1aW50NjQpYm9vbCIsIG1ldGhvZCAiZXhwaXJlVHJhZGUodWludDY0KWJvb2wiLCBtZXRob2QgImdldFRyYWRlKHVpbnQ2NCkodWludDY0LGFkZHJlc3MsYWRkcmVzcyxhZGRyZXNzLHVpbnQ2NCx1aW50NjQsdWludDY0LHVpbnQ2NCx1aW50NjQsdWludDY0LGFkZHJlc3MsdWludDY0LHVpbnQ2NCx1aW50NjQpIiwgbWV0aG9kICJnZXRUcmFkZU1ldGFkYXRhKHVpbnQ2NCkoc3RyaW5nLHN0cmluZyxzdHJpbmcsc3RyaW5nLHN0cmluZyxzdHJpbmcpIiwgbWV0aG9kICJnZXRUcmFkZXNCeUJ1eWVyKGFkZHJlc3MpdWludDY0W10iLCBtZXRob2QgImdldFRyYWRlc0J5U2VsbGVyKGFkZHJlc3MpdWludDY0W10iLCBtZXRob2QgImNhbGN1bGF0ZUVzY3Jvd0Nvc3QodWludDY0KSh1aW50NjQsdWludDY0KSIsIG1ldGhvZCAiY2FsY3VsYXRlUmVndWxhdG9yQ29zdHModWludDY0KSh1aW50NjQsdWludDY0KSIsIG1ldGhvZCAiZ2V0UGF5bWVudENvbmZpZygpKHVpbnQ2NCxib29sKSIKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDAKICAgIG1hdGNoIG1haW5faW5pdGlhbGl6ZV9yb3V0ZUAzIG1haW5fc2V0U2V0dGxlbWVudEN1cnJlbmN5X3JvdXRlQDQgbWFpbl9zZXRSYXRlc19yb3V0ZUA1IG1haW5fY3JlYXRlVHJhZGVfcm91dGVANiBtYWluX2VzY3Jvd1RyYWRlX3JvdXRlQDcgbWFpbl9lc2Nyb3dUcmFkZVdpdGhBc3NldF9yb3V0ZUA4IG1haW5fZXNjcm93VHJhZGVBc0ZpbmFuY2llcl9yb3V0ZUA5IG1haW5fZXNjcm93VHJhZGVBc0ZpbmFuY2llcldpdGhBc3NldF9yb3V0ZUAxMCBtYWluX2V4ZWN1dGVUcmFkZV9yb3V0ZUAxMSBtYWluX2V4ZWN1dGVUcmFkZVdpdGhBc3NldF9yb3V0ZUAxMiBtYWluX2Fja25vd2xlZGdlUGF5bWVudF9yb3V0ZUAxMyBtYWluX2Fja25vd2xlZGdlUGF5bWVudFdpdGhBc3NldF9yb3V0ZUAxNCBtYWluX2V4cGlyZVRyYWRlX3JvdXRlQDE1IG1haW5fZ2V0VHJhZGVfcm91dGVAMTYgbWFpbl9nZXRUcmFkZU1ldGFkYXRhX3JvdXRlQDE3IG1haW5fZ2V0VHJhZGVzQnlCdXllcl9yb3V0ZUAxOCBtYWluX2dldFRyYWRlc0J5U2VsbGVyX3JvdXRlQDE5IG1haW5fY2FsY3VsYXRlRXNjcm93Q29zdF9yb3V0ZUAyMCBtYWluX2NhbGN1bGF0ZVJlZ3VsYXRvckNvc3RzX3JvdXRlQDIxIG1haW5fZ2V0UGF5bWVudENvbmZpZ19yb3V0ZUAyMgoKbWFpbl9hZnRlcl9pZl9lbHNlQDI5OgogICAgLy8gc21hcnRfY29udHJhY3RzL2F0b21pY19tYXJrZXRwbGFjZV9lc2Nyb3dfdjQvQXRvbWljTWFya2V0cGxhY2VFc2Nyb3dWNC5hbGdvLnRzOjg0CiAgICAvLyBleHBvcnQgZGVmYXVsdCBjbGFzcyBBdG9taWNNYXJrZXRwbGFjZUVzY3Jvd1Y0IGV4dGVuZHMgQ29udHJhY3QgewogICAgaW50Y18xIC8vIDAKICAgIHJldHVybgoKbWFpbl9nZXRQYXltZW50Q29uZmlnX3JvdXRlQDIyOgogICAgLy8gc21hcnRfY29udHJhY3RzL2F0b21pY19tYXJrZXRwbGFjZV9lc2Nyb3dfdjQvQXRvbWljTWFya2V0cGxhY2VFc2Nyb3dWNC5hbGdvLnRzOjczNAogICAgLy8gQGFiaW1ldGhvZCh7IHJlYWRvbmx5OiB0cnVlIH0pCiAgICB0eG4gT25Db21wbGV0aW9uCiAgICAhCiAgICBhc3NlcnQgLy8gT25Db21wbGV0aW9uIGlzIG5vdCBOb09wCiAgICB0eG4gQXBwbGljYXRpb25JRAogICAgYXNzZXJ0IC8vIGNhbiBvbmx5IGNhbGwgd2hlbiBub3QgY3JlYXRpbmcKICAgIGNhbGxzdWIgZ2V0UGF5bWVudENvbmZpZwogICAgc3dhcAogICAgaXRvYgogICAgYnl0ZWNfMiAvLyAweDAwCiAgICBpbnRjXzEgLy8gMAogICAgdW5jb3ZlciAzCiAgICBzZXRiaXQKICAgIGNvbmNhdAogICAgYnl0ZWNfMCAvLyAweDE1MWY3Yzc1CiAgICBzd2FwCiAgICBjb25jYXQKICAgIGxvZwogICAgaW50Y18wIC8vIDEKICAgIHJldHVybgoKbWFpbl9jYWxjdWxhdGVSZWd1bGF0b3JDb3N0c19yb3V0ZUAyMToKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdG9taWNfbWFya2V0cGxhY2VfZXNjcm93X3Y0L0F0b21pY01hcmtldHBsYWNlRXNjcm93VjQuYWxnby50czo3MjMKICAgIC8vIEBhYmltZXRob2QoeyByZWFkb25seTogdHJ1ZSB9KQogICAgdHhuIE9uQ29tcGxldGlvbgogICAgIQogICAgYXNzZXJ0IC8vIE9uQ29tcGxldGlvbiBpcyBub3QgTm9PcAogICAgdHhuIEFwcGxpY2F0aW9uSUQKICAgIGFzc2VydCAvLyBjYW4gb25seSBjYWxsIHdoZW4gbm90IGNyZWF0aW5nCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXRvbWljX21hcmtldHBsYWNlX2VzY3Jvd192NC9BdG9taWNNYXJrZXRwbGFjZUVzY3Jvd1Y0LmFsZ28udHM6ODQKICAgIC8vIGV4cG9ydCBkZWZhdWx0IGNsYXNzIEF0b21pY01hcmtldHBsYWNlRXNjcm93VjQgZXh0ZW5kcyBDb250cmFjdCB7CiAgICB0eG5hIEFwcGxpY2F0aW9uQXJncyAxCiAgICBidG9pCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXRvbWljX21hcmtldHBsYWNlX2VzY3Jvd192NC9BdG9taWNNYXJrZXRwbGFjZUVzY3Jvd1Y0LmFsZ28udHM6NzIzCiAgICAvLyBAYWJpbWV0aG9kKHsgcmVhZG9ubHk6IHRydWUgfSkKICAgIGNhbGxzdWIgY2FsY3VsYXRlUmVndWxhdG9yQ29zdHMKICAgIHN3YXAKICAgIGl0b2IKICAgIHN3YXAKICAgIGl0b2IKICAgIGNvbmNhdAogICAgYnl0ZWNfMCAvLyAweDE1MWY3Yzc1CiAgICBzd2FwCiAgICBjb25jYXQKICAgIGxvZwogICAgaW50Y18wIC8vIDEKICAgIHJldHVybgoKbWFpbl9jYWxjdWxhdGVFc2Nyb3dDb3N0X3JvdXRlQDIwOgogICAgLy8gc21hcnRfY29udHJhY3RzL2F0b21pY19tYXJrZXRwbGFjZV9lc2Nyb3dfdjQvQXRvbWljTWFya2V0cGxhY2VFc2Nyb3dWNC5hbGdvLnRzOjcxMgogICAgLy8gQGFiaW1ldGhvZCh7IHJlYWRvbmx5OiB0cnVlIH0pCiAgICB0eG4gT25Db21wbGV0aW9uCiAgICAhCiAgICBhc3NlcnQgLy8gT25Db21wbGV0aW9uIGlzIG5vdCBOb09wCiAgICB0eG4gQXBwbGljYXRpb25JRAogICAgYXNzZXJ0IC8vIGNhbiBvbmx5IGNhbGwgd2hlbiBub3QgY3JlYXRpbmcKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdG9taWNfbWFya2V0cGxhY2VfZXNjcm93X3Y0L0F0b21pY01hcmtldHBsYWNlRXNjcm93VjQuYWxnby50czo4NAogICAgLy8gZXhwb3J0IGRlZmF1bHQgY2xhc3MgQXRvbWljTWFya2V0cGxhY2VFc2Nyb3dWNCBleHRlbmRzIENvbnRyYWN0IHsKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDEKICAgIGJ0b2kKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdG9taWNfbWFya2V0cGxhY2VfZXNjcm93X3Y0L0F0b21pY01hcmtldHBsYWNlRXNjcm93VjQuYWxnby50czo3MTIKICAgIC8vIEBhYmltZXRob2QoeyByZWFkb25seTogdHJ1ZSB9KQogICAgY2FsbHN1YiBjYWxjdWxhdGVFc2Nyb3dDb3N0CiAgICBzd2FwCiAgICBpdG9iCiAgICBzd2FwCiAgICBpdG9iCiAgICBjb25jYXQKICAgIGJ5dGVjXzAgLy8gMHgxNTFmN2M3NQogICAgc3dhcAogICAgY29uY2F0CiAgICBsb2cKICAgIGludGNfMCAvLyAxCiAgICByZXR1cm4KCm1haW5fZ2V0VHJhZGVzQnlTZWxsZXJfcm91dGVAMTk6CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXRvbWljX21hcmtldHBsYWNlX2VzY3Jvd192NC9BdG9taWNNYXJrZXRwbGFjZUVzY3Jvd1Y0LmFsZ28udHM6NzAxCiAgICAvLyBAYWJpbWV0aG9kKHsgcmVhZG9ubHk6IHRydWUgfSkKICAgIHR4biBPbkNvbXBsZXRpb24KICAgICEKICAgIGFzc2VydCAvLyBPbkNvbXBsZXRpb24gaXMgbm90IE5vT3AKICAgIHR4biBBcHBsaWNhdGlvbklECiAgICBhc3NlcnQgLy8gY2FuIG9ubHkgY2FsbCB3aGVuIG5vdCBjcmVhdGluZwogICAgLy8gc21hcnRfY29udHJhY3RzL2F0b21pY19tYXJrZXRwbGFjZV9lc2Nyb3dfdjQvQXRvbWljTWFya2V0cGxhY2VFc2Nyb3dWNC5hbGdvLnRzOjg0CiAgICAvLyBleHBvcnQgZGVmYXVsdCBjbGFzcyBBdG9taWNNYXJrZXRwbGFjZUVzY3Jvd1Y0IGV4dGVuZHMgQ29udHJhY3QgewogICAgdHhuYSBBcHBsaWNhdGlvbkFyZ3MgMQogICAgLy8gc21hcnRfY29udHJhY3RzL2F0b21pY19tYXJrZXRwbGFjZV9lc2Nyb3dfdjQvQXRvbWljTWFya2V0cGxhY2VFc2Nyb3dWNC5hbGdvLnRzOjcwMQogICAgLy8gQGFiaW1ldGhvZCh7IHJlYWRvbmx5OiB0cnVlIH0pCiAgICBjYWxsc3ViIGdldFRyYWRlc0J5U2VsbGVyCiAgICBieXRlY18wIC8vIDB4MTUxZjdjNzUKICAgIHN3YXAKICAgIGNvbmNhdAogICAgbG9nCiAgICBpbnRjXzAgLy8gMQogICAgcmV0dXJuCgptYWluX2dldFRyYWRlc0J5QnV5ZXJfcm91dGVAMTg6CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXRvbWljX21hcmtldHBsYWNlX2VzY3Jvd192NC9BdG9taWNNYXJrZXRwbGFjZUVzY3Jvd1Y0LmFsZ28udHM6NjkwCiAgICAvLyBAYWJpbWV0aG9kKHsgcmVhZG9ubHk6IHRydWUgfSkKICAgIHR4biBPbkNvbXBsZXRpb24KICAgICEKICAgIGFzc2VydCAvLyBPbkNvbXBsZXRpb24gaXMgbm90IE5vT3AKICAgIHR4biBBcHBsaWNhdGlvbklECiAgICBhc3NlcnQgLy8gY2FuIG9ubHkgY2FsbCB3aGVuIG5vdCBjcmVhdGluZwogICAgLy8gc21hcnRfY29udHJhY3RzL2F0b21pY19tYXJrZXRwbGFjZV9lc2Nyb3dfdjQvQXRvbWljTWFya2V0cGxhY2VFc2Nyb3dWNC5hbGdvLnRzOjg0CiAgICAvLyBleHBvcnQgZGVmYXVsdCBjbGFzcyBBdG9taWNNYXJrZXRwbGFjZUVzY3Jvd1Y0IGV4dGVuZHMgQ29udHJhY3QgewogICAgdHhuYSBBcHBsaWNhdGlvbkFyZ3MgMQogICAgLy8gc21hcnRfY29udHJhY3RzL2F0b21pY19tYXJrZXRwbGFjZV9lc2Nyb3dfdjQvQXRvbWljTWFya2V0cGxhY2VFc2Nyb3dWNC5hbGdvLnRzOjY5MAogICAgLy8gQGFiaW1ldGhvZCh7IHJlYWRvbmx5OiB0cnVlIH0pCiAgICBjYWxsc3ViIGdldFRyYWRlc0J5QnV5ZXIKICAgIGJ5dGVjXzAgLy8gMHgxNTFmN2M3NQogICAgc3dhcAogICAgY29uY2F0CiAgICBsb2cKICAgIGludGNfMCAvLyAxCiAgICByZXR1cm4KCm1haW5fZ2V0VHJhZGVNZXRhZGF0YV9yb3V0ZUAxNzoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdG9taWNfbWFya2V0cGxhY2VfZXNjcm93X3Y0L0F0b21pY01hcmtldHBsYWNlRXNjcm93VjQuYWxnby50czo2ODIKICAgIC8vIEBhYmltZXRob2QoeyByZWFkb25seTogdHJ1ZSB9KQogICAgdHhuIE9uQ29tcGxldGlvbgogICAgIQogICAgYXNzZXJ0IC8vIE9uQ29tcGxldGlvbiBpcyBub3QgTm9PcAogICAgdHhuIEFwcGxpY2F0aW9uSUQKICAgIGFzc2VydCAvLyBjYW4gb25seSBjYWxsIHdoZW4gbm90IGNyZWF0aW5nCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXRvbWljX21hcmtldHBsYWNlX2VzY3Jvd192NC9BdG9taWNNYXJrZXRwbGFjZUVzY3Jvd1Y0LmFsZ28udHM6ODQKICAgIC8vIGV4cG9ydCBkZWZhdWx0IGNsYXNzIEF0b21pY01hcmtldHBsYWNlRXNjcm93VjQgZXh0ZW5kcyBDb250cmFjdCB7CiAgICB0eG5hIEFwcGxpY2F0aW9uQXJncyAxCiAgICBidG9pCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXRvbWljX21hcmtldHBsYWNlX2VzY3Jvd192NC9BdG9taWNNYXJrZXRwbGFjZUVzY3Jvd1Y0LmFsZ28udHM6NjgyCiAgICAvLyBAYWJpbWV0aG9kKHsgcmVhZG9ubHk6IHRydWUgfSkKICAgIGNhbGxzdWIgZ2V0VHJhZGVNZXRhZGF0YQogICAgYnl0ZWNfMCAvLyAweDE1MWY3Yzc1CiAgICBzd2FwCiAgICBjb25jYXQKICAgIGxvZwogICAgaW50Y18wIC8vIDEKICAgIHJldHVybgoKbWFpbl9nZXRUcmFkZV9yb3V0ZUAxNjoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdG9taWNfbWFya2V0cGxhY2VfZXNjcm93X3Y0L0F0b21pY01hcmtldHBsYWNlRXNjcm93VjQuYWxnby50czo2NzQKICAgIC8vIEBhYmltZXRob2QoeyByZWFkb25seTogdHJ1ZSB9KQogICAgdHhuIE9uQ29tcGxldGlvbgogICAgIQogICAgYXNzZXJ0IC8vIE9uQ29tcGxldGlvbiBpcyBub3QgTm9PcAogICAgdHhuIEFwcGxpY2F0aW9uSUQKICAgIGFzc2VydCAvLyBjYW4gb25seSBjYWxsIHdoZW4gbm90IGNyZWF0aW5nCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXRvbWljX21hcmtldHBsYWNlX2VzY3Jvd192NC9BdG9taWNNYXJrZXRwbGFjZUVzY3Jvd1Y0LmFsZ28udHM6ODQKICAgIC8vIGV4cG9ydCBkZWZhdWx0IGNsYXNzIEF0b21pY01hcmtldHBsYWNlRXNjcm93VjQgZXh0ZW5kcyBDb250cmFjdCB7CiAgICB0eG5hIEFwcGxpY2F0aW9uQXJncyAxCiAgICBidG9pCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXRvbWljX21hcmtldHBsYWNlX2VzY3Jvd192NC9BdG9taWNNYXJrZXRwbGFjZUVzY3Jvd1Y0LmFsZ28udHM6Njc0CiAgICAvLyBAYWJpbWV0aG9kKHsgcmVhZG9ubHk6IHRydWUgfSkKICAgIGNhbGxzdWIgZ2V0VHJhZGUKICAgIGJ5dGVjXzAgLy8gMHgxNTFmN2M3NQogICAgc3dhcAogICAgY29uY2F0CiAgICBsb2cKICAgIGludGNfMCAvLyAxCiAgICByZXR1cm4KCm1haW5fZXhwaXJlVHJhZGVfcm91dGVAMTU6CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXRvbWljX21hcmtldHBsYWNlX2VzY3Jvd192NC9BdG9taWNNYXJrZXRwbGFjZUVzY3Jvd1Y0LmFsZ28udHM6NjQzCiAgICAvLyBAYWJpbWV0aG9kKCkKICAgIHR4biBPbkNvbXBsZXRpb24KICAgICEKICAgIGFzc2VydCAvLyBPbkNvbXBsZXRpb24gaXMgbm90IE5vT3AKICAgIHR4biBBcHBsaWNhdGlvbklECiAgICBhc3NlcnQgLy8gY2FuIG9ubHkgY2FsbCB3aGVuIG5vdCBjcmVhdGluZwogICAgLy8gc21hcnRfY29udHJhY3RzL2F0b21pY19tYXJrZXRwbGFjZV9lc2Nyb3dfdjQvQXRvbWljTWFya2V0cGxhY2VFc2Nyb3dWNC5hbGdvLnRzOjg0CiAgICAvLyBleHBvcnQgZGVmYXVsdCBjbGFzcyBBdG9taWNNYXJrZXRwbGFjZUVzY3Jvd1Y0IGV4dGVuZHMgQ29udHJhY3QgewogICAgdHhuYSBBcHBsaWNhdGlvbkFyZ3MgMQogICAgYnRvaQogICAgLy8gc21hcnRfY29udHJhY3RzL2F0b21pY19tYXJrZXRwbGFjZV9lc2Nyb3dfdjQvQXRvbWljTWFya2V0cGxhY2VFc2Nyb3dWNC5hbGdvLnRzOjY0MwogICAgLy8gQGFiaW1ldGhvZCgpCiAgICBjYWxsc3ViIGV4cGlyZVRyYWRlCiAgICBieXRlY18yIC8vIDB4MDAKICAgIGludGNfMSAvLyAwCiAgICB1bmNvdmVyIDIKICAgIHNldGJpdAogICAgYnl0ZWNfMCAvLyAweDE1MWY3Yzc1CiAgICBzd2FwCiAgICBjb25jYXQKICAgIGxvZwogICAgaW50Y18wIC8vIDEKICAgIHJldHVybgoKbWFpbl9hY2tub3dsZWRnZVBheW1lbnRXaXRoQXNzZXRfcm91dGVAMTQ6CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXRvbWljX21hcmtldHBsYWNlX2VzY3Jvd192NC9BdG9taWNNYXJrZXRwbGFjZUVzY3Jvd1Y0LmFsZ28udHM6NjE4CiAgICAvLyBAYWJpbWV0aG9kKCkKICAgIHR4biBPbkNvbXBsZXRpb24KICAgICEKICAgIGFzc2VydCAvLyBPbkNvbXBsZXRpb24gaXMgbm90IE5vT3AKICAgIHR4biBBcHBsaWNhdGlvbklECiAgICBhc3NlcnQgLy8gY2FuIG9ubHkgY2FsbCB3aGVuIG5vdCBjcmVhdGluZwogICAgLy8gc21hcnRfY29udHJhY3RzL2F0b21pY19tYXJrZXRwbGFjZV9lc2Nyb3dfdjQvQXRvbWljTWFya2V0cGxhY2VFc2Nyb3dWNC5hbGdvLnRzOjg0CiAgICAvLyBleHBvcnQgZGVmYXVsdCBjbGFzcyBBdG9taWNNYXJrZXRwbGFjZUVzY3Jvd1Y0IGV4dGVuZHMgQ29udHJhY3QgewogICAgdHhuIEdyb3VwSW5kZXgKICAgIGludGNfMCAvLyAxCiAgICAtCiAgICBkdXAKICAgIGd0eG5zIFR5cGVFbnVtCiAgICBwdXNoaW50IDQgLy8gYXhmZXIKICAgID09CiAgICBhc3NlcnQgLy8gdHJhbnNhY3Rpb24gdHlwZSBpcyBheGZlcgogICAgdHhuYSBBcHBsaWNhdGlvbkFyZ3MgMQogICAgYnRvaQogICAgLy8gc21hcnRfY29udHJhY3RzL2F0b21pY19tYXJrZXRwbGFjZV9lc2Nyb3dfdjQvQXRvbWljTWFya2V0cGxhY2VFc2Nyb3dWNC5hbGdvLnRzOjYxOAogICAgLy8gQGFiaW1ldGhvZCgpCiAgICBjYWxsc3ViIGFja25vd2xlZGdlUGF5bWVudFdpdGhBc3NldAogICAgYnl0ZWNfMiAvLyAweDAwCiAgICBpbnRjXzEgLy8gMAogICAgdW5jb3ZlciAyCiAgICBzZXRiaXQKICAgIGJ5dGVjXzAgLy8gMHgxNTFmN2M3NQogICAgc3dhcAogICAgY29uY2F0CiAgICBsb2cKICAgIGludGNfMCAvLyAxCiAgICByZXR1cm4KCm1haW5fYWNrbm93bGVkZ2VQYXltZW50X3JvdXRlQDEzOgogICAgLy8gc21hcnRfY29udHJhY3RzL2F0b21pY19tYXJrZXRwbGFjZV9lc2Nyb3dfdjQvQXRvbWljTWFya2V0cGxhY2VFc2Nyb3dWNC5hbGdvLnRzOjU4OQogICAgLy8gQGFiaW1ldGhvZCgpCiAgICB0eG4gT25Db21wbGV0aW9uCiAgICAhCiAgICBhc3NlcnQgLy8gT25Db21wbGV0aW9uIGlzIG5vdCBOb09wCiAgICB0eG4gQXBwbGljYXRpb25JRAogICAgYXNzZXJ0IC8vIGNhbiBvbmx5IGNhbGwgd2hlbiBub3QgY3JlYXRpbmcKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdG9taWNfbWFya2V0cGxhY2VfZXNjcm93X3Y0L0F0b21pY01hcmtldHBsYWNlRXNjcm93VjQuYWxnby50czo4NAogICAgLy8gZXhwb3J0IGRlZmF1bHQgY2xhc3MgQXRvbWljTWFya2V0cGxhY2VFc2Nyb3dWNCBleHRlbmRzIENvbnRyYWN0IHsKICAgIHR4biBHcm91cEluZGV4CiAgICBpbnRjXzAgLy8gMQogICAgLQogICAgZHVwCiAgICBndHhucyBUeXBlRW51bQogICAgaW50Y18wIC8vIHBheQogICAgPT0KICAgIGFzc2VydCAvLyB0cmFuc2FjdGlvbiB0eXBlIGlzIHBheQogICAgdHhuYSBBcHBsaWNhdGlvbkFyZ3MgMQogICAgYnRvaQogICAgLy8gc21hcnRfY29udHJhY3RzL2F0b21pY19tYXJrZXRwbGFjZV9lc2Nyb3dfdjQvQXRvbWljTWFya2V0cGxhY2VFc2Nyb3dWNC5hbGdvLnRzOjU4OQogICAgLy8gQGFiaW1ldGhvZCgpCiAgICBjYWxsc3ViIGFja25vd2xlZGdlUGF5bWVudAogICAgYnl0ZWNfMiAvLyAweDAwCiAgICBpbnRjXzEgLy8gMAogICAgdW5jb3ZlciAyCiAgICBzZXRiaXQKICAgIGJ5dGVjXzAgLy8gMHgxNTFmN2M3NQogICAgc3dhcAogICAgY29uY2F0CiAgICBsb2cKICAgIGludGNfMCAvLyAxCiAgICByZXR1cm4KCm1haW5fZXhlY3V0ZVRyYWRlV2l0aEFzc2V0X3JvdXRlQDEyOgogICAgLy8gc21hcnRfY29udHJhY3RzL2F0b21pY19tYXJrZXRwbGFjZV9lc2Nyb3dfdjQvQXRvbWljTWFya2V0cGxhY2VFc2Nyb3dWNC5hbGdvLnRzOjUxMQogICAgLy8gQGFiaW1ldGhvZCgpCiAgICB0eG4gT25Db21wbGV0aW9uCiAgICAhCiAgICBhc3NlcnQgLy8gT25Db21wbGV0aW9uIGlzIG5vdCBOb09wCiAgICB0eG4gQXBwbGljYXRpb25JRAogICAgYXNzZXJ0IC8vIGNhbiBvbmx5IGNhbGwgd2hlbiBub3QgY3JlYXRpbmcKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdG9taWNfbWFya2V0cGxhY2VfZXNjcm93X3Y0L0F0b21pY01hcmtldHBsYWNlRXNjcm93VjQuYWxnby50czo4NAogICAgLy8gZXhwb3J0IGRlZmF1bHQgY2xhc3MgQXRvbWljTWFya2V0cGxhY2VFc2Nyb3dWNCBleHRlbmRzIENvbnRyYWN0IHsKICAgIHR4biBHcm91cEluZGV4CiAgICBpbnRjXzIgLy8gMgogICAgLQogICAgZHVwCiAgICBndHhucyBUeXBlRW51bQogICAgcHVzaGludCA0IC8vIGF4ZmVyCiAgICA9PQogICAgYXNzZXJ0IC8vIHRyYW5zYWN0aW9uIHR5cGUgaXMgYXhmZXIKICAgIHR4biBHcm91cEluZGV4CiAgICBpbnRjXzAgLy8gMQogICAgLQogICAgZHVwCiAgICBndHhucyBUeXBlRW51bQogICAgcHVzaGludCA0IC8vIGF4ZmVyCiAgICA9PQogICAgYXNzZXJ0IC8vIHRyYW5zYWN0aW9uIHR5cGUgaXMgYXhmZXIKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDEKICAgIGJ0b2kKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDIKICAgIGJ0b2kKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDMKICAgIGJ0b2kKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDQKICAgIGV4dHJhY3QgMiAwCiAgICB0eG5hIEFwcGxpY2F0aW9uQXJncyA1CiAgICBleHRyYWN0IDIgMAogICAgdHhuYSBBcHBsaWNhdGlvbkFyZ3MgNgogICAgZXh0cmFjdCAyIDAKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDcKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdG9taWNfbWFya2V0cGxhY2VfZXNjcm93X3Y0L0F0b21pY01hcmtldHBsYWNlRXNjcm93VjQuYWxnby50czo1MTEKICAgIC8vIEBhYmltZXRob2QoKQogICAgY2FsbHN1YiBleGVjdXRlVHJhZGVXaXRoQXNzZXQKICAgIGJ5dGVjXzIgLy8gMHgwMAogICAgaW50Y18xIC8vIDAKICAgIHVuY292ZXIgMgogICAgc2V0Yml0CiAgICBieXRlY18wIC8vIDB4MTUxZjdjNzUKICAgIHN3YXAKICAgIGNvbmNhdAogICAgbG9nCiAgICBpbnRjXzAgLy8gMQogICAgcmV0dXJuCgptYWluX2V4ZWN1dGVUcmFkZV9yb3V0ZUAxMToKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdG9taWNfbWFya2V0cGxhY2VfZXNjcm93X3Y0L0F0b21pY01hcmtldHBsYWNlRXNjcm93VjQuYWxnby50czo0MzIKICAgIC8vIEBhYmltZXRob2QoKQogICAgdHhuIE9uQ29tcGxldGlvbgogICAgIQogICAgYXNzZXJ0IC8vIE9uQ29tcGxldGlvbiBpcyBub3QgTm9PcAogICAgdHhuIEFwcGxpY2F0aW9uSUQKICAgIGFzc2VydCAvLyBjYW4gb25seSBjYWxsIHdoZW4gbm90IGNyZWF0aW5nCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXRvbWljX21hcmtldHBsYWNlX2VzY3Jvd192NC9BdG9taWNNYXJrZXRwbGFjZUVzY3Jvd1Y0LmFsZ28udHM6ODQKICAgIC8vIGV4cG9ydCBkZWZhdWx0IGNsYXNzIEF0b21pY01hcmtldHBsYWNlRXNjcm93VjQgZXh0ZW5kcyBDb250cmFjdCB7CiAgICB0eG4gR3JvdXBJbmRleAogICAgaW50Y18yIC8vIDIKICAgIC0KICAgIGR1cAogICAgZ3R4bnMgVHlwZUVudW0KICAgIHB1c2hpbnQgNCAvLyBheGZlcgogICAgPT0KICAgIGFzc2VydCAvLyB0cmFuc2FjdGlvbiB0eXBlIGlzIGF4ZmVyCiAgICB0eG4gR3JvdXBJbmRleAogICAgaW50Y18wIC8vIDEKICAgIC0KICAgIGR1cAogICAgZ3R4bnMgVHlwZUVudW0KICAgIGludGNfMCAvLyBwYXkKICAgID09CiAgICBhc3NlcnQgLy8gdHJhbnNhY3Rpb24gdHlwZSBpcyBwYXkKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDEKICAgIGJ0b2kKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDIKICAgIGJ0b2kKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDMKICAgIGJ0b2kKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDQKICAgIGV4dHJhY3QgMiAwCiAgICB0eG5hIEFwcGxpY2F0aW9uQXJncyA1CiAgICBleHRyYWN0IDIgMAogICAgdHhuYSBBcHBsaWNhdGlvbkFyZ3MgNgogICAgZXh0cmFjdCAyIDAKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDcKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdG9taWNfbWFya2V0cGxhY2VfZXNjcm93X3Y0L0F0b21pY01hcmtldHBsYWNlRXNjcm93VjQuYWxnby50czo0MzIKICAgIC8vIEBhYmltZXRob2QoKQogICAgY2FsbHN1YiBleGVjdXRlVHJhZGUKICAgIGJ5dGVjXzIgLy8gMHgwMAogICAgaW50Y18xIC8vIDAKICAgIHVuY292ZXIgMgogICAgc2V0Yml0CiAgICBieXRlY18wIC8vIDB4MTUxZjdjNzUKICAgIHN3YXAKICAgIGNvbmNhdAogICAgbG9nCiAgICBpbnRjXzAgLy8gMQogICAgcmV0dXJuCgptYWluX2VzY3Jvd1RyYWRlQXNGaW5hbmNpZXJXaXRoQXNzZXRfcm91dGVAMTA6CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXRvbWljX21hcmtldHBsYWNlX2VzY3Jvd192NC9BdG9taWNNYXJrZXRwbGFjZUVzY3Jvd1Y0LmFsZ28udHM6Mzk5CiAgICAvLyBAYWJpbWV0aG9kKCkKICAgIHR4biBPbkNvbXBsZXRpb24KICAgICEKICAgIGFzc2VydCAvLyBPbkNvbXBsZXRpb24gaXMgbm90IE5vT3AKICAgIHR4biBBcHBsaWNhdGlvbklECiAgICBhc3NlcnQgLy8gY2FuIG9ubHkgY2FsbCB3aGVuIG5vdCBjcmVhdGluZwogICAgLy8gc21hcnRfY29udHJhY3RzL2F0b21pY19tYXJrZXRwbGFjZV9lc2Nyb3dfdjQvQXRvbWljTWFya2V0cGxhY2VFc2Nyb3dWNC5hbGdvLnRzOjg0CiAgICAvLyBleHBvcnQgZGVmYXVsdCBjbGFzcyBBdG9taWNNYXJrZXRwbGFjZUVzY3Jvd1Y0IGV4dGVuZHMgQ29udHJhY3QgewogICAgdHhuIEdyb3VwSW5kZXgKICAgIGludGNfMCAvLyAxCiAgICAtCiAgICBkdXAKICAgIGd0eG5zIFR5cGVFbnVtCiAgICBwdXNoaW50IDQgLy8gYXhmZXIKICAgID09CiAgICBhc3NlcnQgLy8gdHJhbnNhY3Rpb24gdHlwZSBpcyBheGZlcgogICAgdHhuYSBBcHBsaWNhdGlvbkFyZ3MgMQogICAgYnRvaQogICAgLy8gc21hcnRfY29udHJhY3RzL2F0b21pY19tYXJrZXRwbGFjZV9lc2Nyb3dfdjQvQXRvbWljTWFya2V0cGxhY2VFc2Nyb3dWNC5hbGdvLnRzOjM5OQogICAgLy8gQGFiaW1ldGhvZCgpCiAgICBjYWxsc3ViIGVzY3Jvd1RyYWRlQXNGaW5hbmNpZXJXaXRoQXNzZXQKICAgIGJ5dGVjXzIgLy8gMHgwMAogICAgaW50Y18xIC8vIDAKICAgIHVuY292ZXIgMgogICAgc2V0Yml0CiAgICBieXRlY18wIC8vIDB4MTUxZjdjNzUKICAgIHN3YXAKICAgIGNvbmNhdAogICAgbG9nCiAgICBpbnRjXzAgLy8gMQogICAgcmV0dXJuCgptYWluX2VzY3Jvd1RyYWRlQXNGaW5hbmNpZXJfcm91dGVAOToKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdG9taWNfbWFya2V0cGxhY2VfZXNjcm93X3Y0L0F0b21pY01hcmtldHBsYWNlRXNjcm93VjQuYWxnby50czozNjcKICAgIC8vIEBhYmltZXRob2QoKQogICAgdHhuIE9uQ29tcGxldGlvbgogICAgIQogICAgYXNzZXJ0IC8vIE9uQ29tcGxldGlvbiBpcyBub3QgTm9PcAogICAgdHhuIEFwcGxpY2F0aW9uSUQKICAgIGFzc2VydCAvLyBjYW4gb25seSBjYWxsIHdoZW4gbm90IGNyZWF0aW5nCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXRvbWljX21hcmtldHBsYWNlX2VzY3Jvd192NC9BdG9taWNNYXJrZXRwbGFjZUVzY3Jvd1Y0LmFsZ28udHM6ODQKICAgIC8vIGV4cG9ydCBkZWZhdWx0IGNsYXNzIEF0b21pY01hcmtldHBsYWNlRXNjcm93VjQgZXh0ZW5kcyBDb250cmFjdCB7CiAgICB0eG4gR3JvdXBJbmRleAogICAgaW50Y18wIC8vIDEKICAgIC0KICAgIGR1cAogICAgZ3R4bnMgVHlwZUVudW0KICAgIGludGNfMCAvLyBwYXkKICAgID09CiAgICBhc3NlcnQgLy8gdHJhbnNhY3Rpb24gdHlwZSBpcyBwYXkKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDEKICAgIGJ0b2kKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdG9taWNfbWFya2V0cGxhY2VfZXNjcm93X3Y0L0F0b21pY01hcmtldHBsYWNlRXNjcm93VjQuYWxnby50czozNjcKICAgIC8vIEBhYmltZXRob2QoKQogICAgY2FsbHN1YiBlc2Nyb3dUcmFkZUFzRmluYW5jaWVyCiAgICBieXRlY18yIC8vIDB4MDAKICAgIGludGNfMSAvLyAwCiAgICB1bmNvdmVyIDIKICAgIHNldGJpdAogICAgYnl0ZWNfMCAvLyAweDE1MWY3Yzc1CiAgICBzd2FwCiAgICBjb25jYXQKICAgIGxvZwogICAgaW50Y18wIC8vIDEKICAgIHJldHVybgoKbWFpbl9lc2Nyb3dUcmFkZVdpdGhBc3NldF9yb3V0ZUA4OgogICAgLy8gc21hcnRfY29udHJhY3RzL2F0b21pY19tYXJrZXRwbGFjZV9lc2Nyb3dfdjQvQXRvbWljTWFya2V0cGxhY2VFc2Nyb3dWNC5hbGdvLnRzOjMzNgogICAgLy8gQGFiaW1ldGhvZCgpCiAgICB0eG4gT25Db21wbGV0aW9uCiAgICAhCiAgICBhc3NlcnQgLy8gT25Db21wbGV0aW9uIGlzIG5vdCBOb09wCiAgICB0eG4gQXBwbGljYXRpb25JRAogICAgYXNzZXJ0IC8vIGNhbiBvbmx5IGNhbGwgd2hlbiBub3QgY3JlYXRpbmcKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdG9taWNfbWFya2V0cGxhY2VfZXNjcm93X3Y0L0F0b21pY01hcmtldHBsYWNlRXNjcm93VjQuYWxnby50czo4NAogICAgLy8gZXhwb3J0IGRlZmF1bHQgY2xhc3MgQXRvbWljTWFya2V0cGxhY2VFc2Nyb3dWNCBleHRlbmRzIENvbnRyYWN0IHsKICAgIHR4biBHcm91cEluZGV4CiAgICBpbnRjXzAgLy8gMQogICAgLQogICAgZHVwCiAgICBndHhucyBUeXBlRW51bQogICAgcHVzaGludCA0IC8vIGF4ZmVyCiAgICA9PQogICAgYXNzZXJ0IC8vIHRyYW5zYWN0aW9uIHR5cGUgaXMgYXhmZXIKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDEKICAgIGJ0b2kKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdG9taWNfbWFya2V0cGxhY2VfZXNjcm93X3Y0L0F0b21pY01hcmtldHBsYWNlRXNjcm93VjQuYWxnby50czozMzYKICAgIC8vIEBhYmltZXRob2QoKQogICAgY2FsbHN1YiBlc2Nyb3dUcmFkZVdpdGhBc3NldAogICAgYnl0ZWNfMiAvLyAweDAwCiAgICBpbnRjXzEgLy8gMAogICAgdW5jb3ZlciAyCiAgICBzZXRiaXQKICAgIGJ5dGVjXzAgLy8gMHgxNTFmN2M3NQogICAgc3dhcAogICAgY29uY2F0CiAgICBsb2cKICAgIGludGNfMCAvLyAxCiAgICByZXR1cm4KCm1haW5fZXNjcm93VHJhZGVfcm91dGVANzoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdG9taWNfbWFya2V0cGxhY2VfZXNjcm93X3Y0L0F0b21pY01hcmtldHBsYWNlRXNjcm93VjQuYWxnby50czozMDUKICAgIC8vIEBhYmltZXRob2QoKQogICAgdHhuIE9uQ29tcGxldGlvbgogICAgIQogICAgYXNzZXJ0IC8vIE9uQ29tcGxldGlvbiBpcyBub3QgTm9PcAogICAgdHhuIEFwcGxpY2F0aW9uSUQKICAgIGFzc2VydCAvLyBjYW4gb25seSBjYWxsIHdoZW4gbm90IGNyZWF0aW5nCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXRvbWljX21hcmtldHBsYWNlX2VzY3Jvd192NC9BdG9taWNNYXJrZXRwbGFjZUVzY3Jvd1Y0LmFsZ28udHM6ODQKICAgIC8vIGV4cG9ydCBkZWZhdWx0IGNsYXNzIEF0b21pY01hcmtldHBsYWNlRXNjcm93VjQgZXh0ZW5kcyBDb250cmFjdCB7CiAgICB0eG4gR3JvdXBJbmRleAogICAgaW50Y18wIC8vIDEKICAgIC0KICAgIGR1cAogICAgZ3R4bnMgVHlwZUVudW0KICAgIGludGNfMCAvLyBwYXkKICAgID09CiAgICBhc3NlcnQgLy8gdHJhbnNhY3Rpb24gdHlwZSBpcyBwYXkKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDEKICAgIGJ0b2kKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdG9taWNfbWFya2V0cGxhY2VfZXNjcm93X3Y0L0F0b21pY01hcmtldHBsYWNlRXNjcm93VjQuYWxnby50czozMDUKICAgIC8vIEBhYmltZXRob2QoKQogICAgY2FsbHN1YiBlc2Nyb3dUcmFkZQogICAgYnl0ZWNfMiAvLyAweDAwCiAgICBpbnRjXzEgLy8gMAogICAgdW5jb3ZlciAyCiAgICBzZXRiaXQKICAgIGJ5dGVjXzAgLy8gMHgxNTFmN2M3NQogICAgc3dhcAogICAgY29uY2F0CiAgICBsb2cKICAgIGludGNfMCAvLyAxCiAgICByZXR1cm4KCm1haW5fY3JlYXRlVHJhZGVfcm91dGVANjoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdG9taWNfbWFya2V0cGxhY2VfZXNjcm93X3Y0L0F0b21pY01hcmtldHBsYWNlRXNjcm93VjQuYWxnby50czoyMzMKICAgIC8vIEBhYmltZXRob2QoKQogICAgdHhuIE9uQ29tcGxldGlvbgogICAgIQogICAgYXNzZXJ0IC8vIE9uQ29tcGxldGlvbiBpcyBub3QgTm9PcAogICAgdHhuIEFwcGxpY2F0aW9uSUQKICAgIGFzc2VydCAvLyBjYW4gb25seSBjYWxsIHdoZW4gbm90IGNyZWF0aW5nCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXRvbWljX21hcmtldHBsYWNlX2VzY3Jvd192NC9BdG9taWNNYXJrZXRwbGFjZUVzY3Jvd1Y0LmFsZ28udHM6ODQKICAgIC8vIGV4cG9ydCBkZWZhdWx0IGNsYXNzIEF0b21pY01hcmtldHBsYWNlRXNjcm93VjQgZXh0ZW5kcyBDb250cmFjdCB7CiAgICB0eG5hIEFwcGxpY2F0aW9uQXJncyAxCiAgICB0eG5hIEFwcGxpY2F0aW9uQXJncyAyCiAgICBidG9pCiAgICB0eG5hIEFwcGxpY2F0aW9uQXJncyAzCiAgICBleHRyYWN0IDIgMAogICAgdHhuYSBBcHBsaWNhdGlvbkFyZ3MgNAogICAgZXh0cmFjdCAyIDAKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDUKICAgIGV4dHJhY3QgMiAwCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXRvbWljX21hcmtldHBsYWNlX2VzY3Jvd192NC9BdG9taWNNYXJrZXRwbGFjZUVzY3Jvd1Y0LmFsZ28udHM6MjMzCiAgICAvLyBAYWJpbWV0aG9kKCkKICAgIGNhbGxzdWIgY3JlYXRlVHJhZGUKICAgIGl0b2IKICAgIGJ5dGVjXzAgLy8gMHgxNTFmN2M3NQogICAgc3dhcAogICAgY29uY2F0CiAgICBsb2cKICAgIGludGNfMCAvLyAxCiAgICByZXR1cm4KCm1haW5fc2V0UmF0ZXNfcm91dGVANToKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdG9taWNfbWFya2V0cGxhY2VfZXNjcm93X3Y0L0F0b21pY01hcmtldHBsYWNlRXNjcm93VjQuYWxnby50czoxNDgKICAgIC8vIEBhYmltZXRob2QoKQogICAgdHhuIE9uQ29tcGxldGlvbgogICAgIQogICAgYXNzZXJ0IC8vIE9uQ29tcGxldGlvbiBpcyBub3QgTm9PcAogICAgdHhuIEFwcGxpY2F0aW9uSUQKICAgIGFzc2VydCAvLyBjYW4gb25seSBjYWxsIHdoZW4gbm90IGNyZWF0aW5nCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXRvbWljX21hcmtldHBsYWNlX2VzY3Jvd192NC9BdG9taWNNYXJrZXRwbGFjZUVzY3Jvd1Y0LmFsZ28udHM6ODQKICAgIC8vIGV4cG9ydCBkZWZhdWx0IGNsYXNzIEF0b21pY01hcmtldHBsYWNlRXNjcm93VjQgZXh0ZW5kcyBDb250cmFjdCB7CiAgICB0eG5hIEFwcGxpY2F0aW9uQXJncyAxCiAgICBidG9pCiAgICB0eG5hIEFwcGxpY2F0aW9uQXJncyAyCiAgICBidG9pCiAgICB0eG5hIEFwcGxpY2F0aW9uQXJncyAzCiAgICBidG9pCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXRvbWljX21hcmtldHBsYWNlX2VzY3Jvd192NC9BdG9taWNNYXJrZXRwbGFjZUVzY3Jvd1Y0LmFsZ28udHM6MTQ4CiAgICAvLyBAYWJpbWV0aG9kKCkKICAgIGNhbGxzdWIgc2V0UmF0ZXMKICAgIGJ5dGVjXzIgLy8gMHgwMAogICAgaW50Y18xIC8vIDAKICAgIHVuY292ZXIgMgogICAgc2V0Yml0CiAgICBieXRlY18wIC8vIDB4MTUxZjdjNzUKICAgIHN3YXAKICAgIGNvbmNhdAogICAgbG9nCiAgICBpbnRjXzAgLy8gMQogICAgcmV0dXJuCgptYWluX3NldFNldHRsZW1lbnRDdXJyZW5jeV9yb3V0ZUA0OgogICAgLy8gc21hcnRfY29udHJhY3RzL2F0b21pY19tYXJrZXRwbGFjZV9lc2Nyb3dfdjQvQXRvbWljTWFya2V0cGxhY2VFc2Nyb3dWNC5hbGdvLnRzOjEzOAogICAgLy8gQGFiaW1ldGhvZCgpCiAgICB0eG4gT25Db21wbGV0aW9uCiAgICAhCiAgICBhc3NlcnQgLy8gT25Db21wbGV0aW9uIGlzIG5vdCBOb09wCiAgICB0eG4gQXBwbGljYXRpb25JRAogICAgYXNzZXJ0IC8vIGNhbiBvbmx5IGNhbGwgd2hlbiBub3QgY3JlYXRpbmcKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdG9taWNfbWFya2V0cGxhY2VfZXNjcm93X3Y0L0F0b21pY01hcmtldHBsYWNlRXNjcm93VjQuYWxnby50czo4NAogICAgLy8gZXhwb3J0IGRlZmF1bHQgY2xhc3MgQXRvbWljTWFya2V0cGxhY2VFc2Nyb3dWNCBleHRlbmRzIENvbnRyYWN0IHsKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDEKICAgIGJ0b2kKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdG9taWNfbWFya2V0cGxhY2VfZXNjcm93X3Y0L0F0b21pY01hcmtldHBsYWNlRXNjcm93VjQuYWxnby50czoxMzgKICAgIC8vIEBhYmltZXRob2QoKQogICAgY2FsbHN1YiBzZXRTZXR0bGVtZW50Q3VycmVuY3kKICAgIGJ5dGVjXzIgLy8gMHgwMAogICAgaW50Y18xIC8vIDAKICAgIHVuY292ZXIgMgogICAgc2V0Yml0CiAgICBieXRlY18wIC8vIDB4MTUxZjdjNzUKICAgIHN3YXAKICAgIGNvbmNhdAogICAgbG9nCiAgICBpbnRjXzAgLy8gMQogICAgcmV0dXJuCgptYWluX2luaXRpYWxpemVfcm91dGVAMzoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdG9taWNfbWFya2V0cGxhY2VfZXNjcm93X3Y0L0F0b21pY01hcmtldHBsYWNlRXNjcm93VjQuYWxnby50czoxMTYKICAgIC8vIEBhYmltZXRob2QoKQogICAgdHhuIE9uQ29tcGxldGlvbgogICAgIQogICAgYXNzZXJ0IC8vIE9uQ29tcGxldGlvbiBpcyBub3QgTm9PcAogICAgdHhuIEFwcGxpY2F0aW9uSUQKICAgIGFzc2VydCAvLyBjYW4gb25seSBjYWxsIHdoZW4gbm90IGNyZWF0aW5nCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXRvbWljX21hcmtldHBsYWNlX2VzY3Jvd192NC9BdG9taWNNYXJrZXRwbGFjZUVzY3Jvd1Y0LmFsZ28udHM6ODQKICAgIC8vIGV4cG9ydCBkZWZhdWx0IGNsYXNzIEF0b21pY01hcmtldHBsYWNlRXNjcm93VjQgZXh0ZW5kcyBDb250cmFjdCB7CiAgICB0eG5hIEFwcGxpY2F0aW9uQXJncyAxCiAgICBidG9pCiAgICB0eG5hIEFwcGxpY2F0aW9uQXJncyAyCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXRvbWljX21hcmtldHBsYWNlX2VzY3Jvd192NC9BdG9taWNNYXJrZXRwbGFjZUVzY3Jvd1Y0LmFsZ28udHM6MTE2CiAgICAvLyBAYWJpbWV0aG9kKCkKICAgIGNhbGxzdWIgaW5pdGlhbGl6ZQogICAgYnl0ZWNfMiAvLyAweDAwCiAgICBpbnRjXzEgLy8gMAogICAgdW5jb3ZlciAyCiAgICBzZXRiaXQKICAgIGJ5dGVjXzAgLy8gMHgxNTFmN2M3NQogICAgc3dhcAogICAgY29uY2F0CiAgICBsb2cKICAgIGludGNfMCAvLyAxCiAgICByZXR1cm4KCm1haW5fYmFyZV9yb3V0aW5nQDI1OgogICAgLy8gc21hcnRfY29udHJhY3RzL2F0b21pY19tYXJrZXRwbGFjZV9lc2Nyb3dfdjQvQXRvbWljTWFya2V0cGxhY2VFc2Nyb3dWNC5hbGdvLnRzOjg0CiAgICAvLyBleHBvcnQgZGVmYXVsdCBjbGFzcyBBdG9taWNNYXJrZXRwbGFjZUVzY3Jvd1Y0IGV4dGVuZHMgQ29udHJhY3QgewogICAgdHhuIE9uQ29tcGxldGlvbgogICAgYm56IG1haW5fYWZ0ZXJfaWZfZWxzZUAyOQogICAgdHhuIEFwcGxpY2F0aW9uSUQKICAgICEKICAgIGFzc2VydCAvLyBjYW4gb25seSBjYWxsIHdoZW4gY3JlYXRpbmcKICAgIGludGNfMCAvLyAxCiAgICByZXR1cm4KCgovLyBzbWFydF9jb250cmFjdHMvYXRvbWljX21hcmtldHBsYWNlX2VzY3Jvd192NC9BdG9taWNNYXJrZXRwbGFjZUVzY3Jvd1Y0LmFsZ28udHM6OkF0b21pY01hcmtldHBsYWNlRXNjcm93VjQuaW5pdGlhbGl6ZShzZXR0bGVtZW50QXNzZXRJZDogdWludDY0LCB0cmVhc3VyeUFkZHJlc3M6IGJ5dGVzKSAtPiB1aW50NjQ6CmluaXRpYWxpemU6CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXRvbWljX21hcmtldHBsYWNlX2VzY3Jvd192NC9BdG9taWNNYXJrZXRwbGFjZUVzY3Jvd1Y0LmFsZ28udHM6MTE2LTEyMAogICAgLy8gQGFiaW1ldGhvZCgpCiAgICAvLyBwdWJsaWMgaW5pdGlhbGl6ZSgKICAgIC8vICAgc2V0dGxlbWVudEFzc2V0SWQ6IHVpbnQ2NCwKICAgIC8vICAgdHJlYXN1cnlBZGRyZXNzOiBhcmM0LkFkZHJlc3MKICAgIC8vICk6IGJvb2xlYW4gewogICAgcHJvdG8gMiAxCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXRvbWljX21hcmtldHBsYWNlX2VzY3Jvd192NC9BdG9taWNNYXJrZXRwbGFjZUVzY3Jvd1Y0LmFsZ28udHM6MTIxCiAgICAvLyBhc3NlcnQoVHhuLnNlbmRlciA9PT0gR2xvYmFsLmNyZWF0b3JBZGRyZXNzLCAnT25seSBjcmVhdG9yIGNhbiBpbml0aWFsaXplJykKICAgIHR4biBTZW5kZXIKICAgIGdsb2JhbCBDcmVhdG9yQWRkcmVzcwogICAgPT0KICAgIGFzc2VydCAvLyBPbmx5IGNyZWF0b3IgY2FuIGluaXRpYWxpemUKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdG9taWNfbWFya2V0cGxhY2VfZXNjcm93X3Y0L0F0b21pY01hcmtldHBsYWNlRXNjcm93VjQuYWxnby50czoxMDAKICAgIC8vIHB1YmxpYyBuZXh0VHJhZGVJZCA9IEdsb2JhbFN0YXRlPHVpbnQ2ND4oKQogICAgYnl0ZWMgNiAvLyAibmV4dFRyYWRlSWQiCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXRvbWljX21hcmtldHBsYWNlX2VzY3Jvd192NC9BdG9taWNNYXJrZXRwbGFjZUVzY3Jvd1Y0LmFsZ28udHM6MTIzCiAgICAvLyB0aGlzLm5leHRUcmFkZUlkLnZhbHVlID0gMQogICAgaW50Y18wIC8vIDEKICAgIGFwcF9nbG9iYWxfcHV0CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXRvbWljX21hcmtldHBsYWNlX2VzY3Jvd192NC9BdG9taWNNYXJrZXRwbGFjZUVzY3Jvd1Y0LmFsZ28udHM6MTAxCiAgICAvLyBwdWJsaWMgcGxhdGZvcm1UcmVhc3VyeSA9IEdsb2JhbFN0YXRlPGJ5dGVzPigpCiAgICBieXRlYyAxMiAvLyAicGxhdGZvcm1UcmVhc3VyeSIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdG9taWNfbWFya2V0cGxhY2VfZXNjcm93X3Y0L0F0b21pY01hcmtldHBsYWNlRXNjcm93VjQuYWxnby50czoxMjQKICAgIC8vIHRoaXMucGxhdGZvcm1UcmVhc3VyeS52YWx1ZSA9IHRyZWFzdXJ5QWRkcmVzcy5ieXRlcwogICAgZnJhbWVfZGlnIC0xCiAgICBhcHBfZ2xvYmFsX3B1dAogICAgLy8gc21hcnRfY29udHJhY3RzL2F0b21pY19tYXJrZXRwbGFjZV9lc2Nyb3dfdjQvQXRvbWljTWFya2V0cGxhY2VFc2Nyb3dWNC5hbGdvLnRzOjEwMgogICAgLy8gcHVibGljIHNldHRsZW1lbnRDdXJyZW5jeSA9IEdsb2JhbFN0YXRlPHVpbnQ2ND4oKSAgLy8gMCA9IEFMR08sIEFTQSBJRCA9IHRoYXQgYXNzZXQKICAgIGJ5dGVjXzEgLy8gInNldHRsZW1lbnRDdXJyZW5jeSIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdG9taWNfbWFya2V0cGxhY2VfZXNjcm93X3Y0L0F0b21pY01hcmtldHBsYWNlRXNjcm93VjQuYWxnby50czoxMjUKICAgIC8vIHRoaXMuc2V0dGxlbWVudEN1cnJlbmN5LnZhbHVlID0gc2V0dGxlbWVudEFzc2V0SWQgIC8vIDAgPSBBTEdPLCA+MCA9IEFTQQogICAgZnJhbWVfZGlnIC0yCiAgICBhcHBfZ2xvYmFsX3B1dAogICAgLy8gc21hcnRfY29udHJhY3RzL2F0b21pY19tYXJrZXRwbGFjZV9lc2Nyb3dfdjQvQXRvbWljTWFya2V0cGxhY2VFc2Nyb3dWNC5hbGdvLnRzOjEwNwogICAgLy8gcHVibGljIHJlZ3VsYXRvclRheFJhdGUgPSBHbG9iYWxTdGF0ZTx1aW50NjQ+KCkKICAgIGJ5dGVjIDcgLy8gInJlZ3VsYXRvclRheFJhdGUiCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXRvbWljX21hcmtldHBsYWNlX2VzY3Jvd192NC9BdG9taWNNYXJrZXRwbGFjZUVzY3Jvd1Y0LmFsZ28udHM6MTI4CiAgICAvLyB0aGlzLnJlZ3VsYXRvclRheFJhdGUudmFsdWUgPSA1MDAgICAgICAvLyA1LjAwJQogICAgcHVzaGludCA1MDAgLy8gNTAwCiAgICBhcHBfZ2xvYmFsX3B1dAogICAgLy8gc21hcnRfY29udHJhY3RzL2F0b21pY19tYXJrZXRwbGFjZV9lc2Nyb3dfdjQvQXRvbWljTWFya2V0cGxhY2VFc2Nyb3dWNC5hbGdvLnRzOjEwOAogICAgLy8gcHVibGljIHJlZ3VsYXRvclJlZnVuZFJhdGUgPSBHbG9iYWxTdGF0ZTx1aW50NjQ+KCkKICAgIGJ5dGVjIDggLy8gInJlZ3VsYXRvclJlZnVuZFJhdGUiCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXRvbWljX21hcmtldHBsYWNlX2VzY3Jvd192NC9BdG9taWNNYXJrZXRwbGFjZUVzY3Jvd1Y0LmFsZ28udHM6MTI5CiAgICAvLyB0aGlzLnJlZ3VsYXRvclJlZnVuZFJhdGUudmFsdWUgPSAyMDAgICAvLyAyLjAwJQogICAgaW50YyA0IC8vIDIwMAogICAgYXBwX2dsb2JhbF9wdXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdG9taWNfbWFya2V0cGxhY2VfZXNjcm93X3Y0L0F0b21pY01hcmtldHBsYWNlRXNjcm93VjQuYWxnby50czoxMDkKICAgIC8vIHB1YmxpYyBtYXJrZXRwbGFjZUZlZVJhdGUgPSBHbG9iYWxTdGF0ZTx1aW50NjQ+KCkKICAgIGJ5dGVjIDQgLy8gIm1hcmtldHBsYWNlRmVlUmF0ZSIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdG9taWNfbWFya2V0cGxhY2VfZXNjcm93X3Y0L0F0b21pY01hcmtldHBsYWNlRXNjcm93VjQuYWxnby50czoxMzAKICAgIC8vIHRoaXMubWFya2V0cGxhY2VGZWVSYXRlLnZhbHVlID0gMjUgICAgIC8vIDAuMjUlCiAgICBwdXNoaW50IDI1IC8vIDI1CiAgICBhcHBfZ2xvYmFsX3B1dAogICAgLy8gc21hcnRfY29udHJhY3RzL2F0b21pY19tYXJrZXRwbGFjZV9lc2Nyb3dfdjQvQXRvbWljTWFya2V0cGxhY2VFc2Nyb3dWNC5hbGdvLnRzOjEzMgogICAgLy8gcmV0dXJuIHRydWUKICAgIGludGNfMCAvLyAxCiAgICByZXRzdWIKCgovLyBzbWFydF9jb250cmFjdHMvYXRvbWljX21hcmtldHBsYWNlX2VzY3Jvd192NC9BdG9taWNNYXJrZXRwbGFjZUVzY3Jvd1Y0LmFsZ28udHM6OkF0b21pY01hcmtldHBsYWNlRXNjcm93VjQuc2V0U2V0dGxlbWVudEN1cnJlbmN5KGFzc2V0SWQ6IHVpbnQ2NCkgLT4gdWludDY0OgpzZXRTZXR0bGVtZW50Q3VycmVuY3k6CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXRvbWljX21hcmtldHBsYWNlX2VzY3Jvd192NC9BdG9taWNNYXJrZXRwbGFjZUVzY3Jvd1Y0LmFsZ28udHM6MTM4LTEzOQogICAgLy8gQGFiaW1ldGhvZCgpCiAgICAvLyBwdWJsaWMgc2V0U2V0dGxlbWVudEN1cnJlbmN5KGFzc2V0SWQ6IHVpbnQ2NCk6IGJvb2xlYW4gewogICAgcHJvdG8gMSAxCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXRvbWljX21hcmtldHBsYWNlX2VzY3Jvd192NC9BdG9taWNNYXJrZXRwbGFjZUVzY3Jvd1Y0LmFsZ28udHM6MTQwCiAgICAvLyBhc3NlcnQoVHhuLnNlbmRlciA9PT0gR2xvYmFsLmNyZWF0b3JBZGRyZXNzLCAnT25seSBjcmVhdG9yIGNhbiBjaGFuZ2Ugc2V0dGxlbWVudCcpCiAgICB0eG4gU2VuZGVyCiAgICBnbG9iYWwgQ3JlYXRvckFkZHJlc3MKICAgID09CiAgICBhc3NlcnQgLy8gT25seSBjcmVhdG9yIGNhbiBjaGFuZ2Ugc2V0dGxlbWVudAogICAgLy8gc21hcnRfY29udHJhY3RzL2F0b21pY19tYXJrZXRwbGFjZV9lc2Nyb3dfdjQvQXRvbWljTWFya2V0cGxhY2VFc2Nyb3dWNC5hbGdvLnRzOjEwMgogICAgLy8gcHVibGljIHNldHRsZW1lbnRDdXJyZW5jeSA9IEdsb2JhbFN0YXRlPHVpbnQ2ND4oKSAgLy8gMCA9IEFMR08sIEFTQSBJRCA9IHRoYXQgYXNzZXQKICAgIGJ5dGVjXzEgLy8gInNldHRsZW1lbnRDdXJyZW5jeSIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdG9taWNfbWFya2V0cGxhY2VfZXNjcm93X3Y0L0F0b21pY01hcmtldHBsYWNlRXNjcm93VjQuYWxnby50czoxNDEKICAgIC8vIHRoaXMuc2V0dGxlbWVudEN1cnJlbmN5LnZhbHVlID0gYXNzZXRJZAogICAgZnJhbWVfZGlnIC0xCiAgICBhcHBfZ2xvYmFsX3B1dAogICAgLy8gc21hcnRfY29udHJhY3RzL2F0b21pY19tYXJrZXRwbGFjZV9lc2Nyb3dfdjQvQXRvbWljTWFya2V0cGxhY2VFc2Nyb3dWNC5hbGdvLnRzOjE0MgogICAgLy8gcmV0dXJuIHRydWUKICAgIGludGNfMCAvLyAxCiAgICByZXRzdWIKCgovLyBzbWFydF9jb250cmFjdHMvYXRvbWljX21hcmtldHBsYWNlX2VzY3Jvd192NC9BdG9taWNNYXJrZXRwbGFjZUVzY3Jvd1Y0LmFsZ28udHM6OkF0b21pY01hcmtldHBsYWNlRXNjcm93VjQuc2V0UmF0ZXModGF4UmF0ZTogdWludDY0LCByZWZ1bmRSYXRlOiB1aW50NjQsIGZlZVJhdGU6IHVpbnQ2NCkgLT4gdWludDY0OgpzZXRSYXRlczoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdG9taWNfbWFya2V0cGxhY2VfZXNjcm93X3Y0L0F0b21pY01hcmtldHBsYWNlRXNjcm93VjQuYWxnby50czoxNDgtMTUzCiAgICAvLyBAYWJpbWV0aG9kKCkKICAgIC8vIHB1YmxpYyBzZXRSYXRlcygKICAgIC8vICAgdGF4UmF0ZTogdWludDY0LAogICAgLy8gICByZWZ1bmRSYXRlOiB1aW50NjQsCiAgICAvLyAgIGZlZVJhdGU6IHVpbnQ2NAogICAgLy8gKTogYm9vbGVhbiB7CiAgICBwcm90byAzIDEKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdG9taWNfbWFya2V0cGxhY2VfZXNjcm93X3Y0L0F0b21pY01hcmtldHBsYWNlRXNjcm93VjQuYWxnby50czoxNTQKICAgIC8vIGFzc2VydChUeG4uc2VuZGVyID09PSBHbG9iYWwuY3JlYXRvckFkZHJlc3MsICdPbmx5IGNyZWF0b3IgY2FuIHNldCByYXRlcycpCiAgICB0eG4gU2VuZGVyCiAgICBnbG9iYWwgQ3JlYXRvckFkZHJlc3MKICAgID09CiAgICBhc3NlcnQgLy8gT25seSBjcmVhdG9yIGNhbiBzZXQgcmF0ZXMKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdG9taWNfbWFya2V0cGxhY2VfZXNjcm93X3Y0L0F0b21pY01hcmtldHBsYWNlRXNjcm93VjQuYWxnby50czoxNTUKICAgIC8vIGFzc2VydCh0YXhSYXRlIDw9IDEwMDAsICdUYXggcmF0ZSB0b28gaGlnaCcpCiAgICBmcmFtZV9kaWcgLTMKICAgIHB1c2hpbnQgMTAwMCAvLyAxMDAwCiAgICA8PQogICAgYXNzZXJ0IC8vIFRheCByYXRlIHRvbyBoaWdoCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXRvbWljX21hcmtldHBsYWNlX2VzY3Jvd192NC9BdG9taWNNYXJrZXRwbGFjZUVzY3Jvd1Y0LmFsZ28udHM6MTU2CiAgICAvLyBhc3NlcnQocmVmdW5kUmF0ZSA8PSA1MDAsICdSZWZ1bmQgcmF0ZSB0b28gaGlnaCcpCiAgICBmcmFtZV9kaWcgLTIKICAgIHB1c2hpbnQgNTAwIC8vIDUwMAogICAgPD0KICAgIGFzc2VydCAvLyBSZWZ1bmQgcmF0ZSB0b28gaGlnaAogICAgLy8gc21hcnRfY29udHJhY3RzL2F0b21pY19tYXJrZXRwbGFjZV9lc2Nyb3dfdjQvQXRvbWljTWFya2V0cGxhY2VFc2Nyb3dWNC5hbGdvLnRzOjE1NwogICAgLy8gYXNzZXJ0KGZlZVJhdGUgPD0gMTAwLCAnRmVlIHJhdGUgdG9vIGhpZ2gnKQogICAgZnJhbWVfZGlnIC0xCiAgICBwdXNoaW50IDEwMCAvLyAxMDAKICAgIDw9CiAgICBhc3NlcnQgLy8gRmVlIHJhdGUgdG9vIGhpZ2gKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdG9taWNfbWFya2V0cGxhY2VfZXNjcm93X3Y0L0F0b21pY01hcmtldHBsYWNlRXNjcm93VjQuYWxnby50czoxMDcKICAgIC8vIHB1YmxpYyByZWd1bGF0b3JUYXhSYXRlID0gR2xvYmFsU3RhdGU8dWludDY0PigpCiAgICBieXRlYyA3IC8vICJyZWd1bGF0b3JUYXhSYXRlIgogICAgLy8gc21hcnRfY29udHJhY3RzL2F0b21pY19tYXJrZXRwbGFjZV9lc2Nyb3dfdjQvQXRvbWljTWFya2V0cGxhY2VFc2Nyb3dWNC5hbGdvLnRzOjE1OQogICAgLy8gdGhpcy5yZWd1bGF0b3JUYXhSYXRlLnZhbHVlID0gdGF4UmF0ZQogICAgZnJhbWVfZGlnIC0zCiAgICBhcHBfZ2xvYmFsX3B1dAogICAgLy8gc21hcnRfY29udHJhY3RzL2F0b21pY19tYXJrZXRwbGFjZV9lc2Nyb3dfdjQvQXRvbWljTWFya2V0cGxhY2VFc2Nyb3dWNC5hbGdvLnRzOjEwOAogICAgLy8gcHVibGljIHJlZ3VsYXRvclJlZnVuZFJhdGUgPSBHbG9iYWxTdGF0ZTx1aW50NjQ+KCkKICAgIGJ5dGVjIDggLy8gInJlZ3VsYXRvclJlZnVuZFJhdGUiCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXRvbWljX21hcmtldHBsYWNlX2VzY3Jvd192NC9BdG9taWNNYXJrZXRwbGFjZUVzY3Jvd1Y0LmFsZ28udHM6MTYwCiAgICAvLyB0aGlzLnJlZ3VsYXRvclJlZnVuZFJhdGUudmFsdWUgPSByZWZ1bmRSYXRlCiAgICBmcmFtZV9kaWcgLTIKICAgIGFwcF9nbG9iYWxfcHV0CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXRvbWljX21hcmtldHBsYWNlX2VzY3Jvd192NC9BdG9taWNNYXJrZXRwbGFjZUVzY3Jvd1Y0LmFsZ28udHM6MTA5CiAgICAvLyBwdWJsaWMgbWFya2V0cGxhY2VGZWVSYXRlID0gR2xvYmFsU3RhdGU8dWludDY0PigpCiAgICBieXRlYyA0IC8vICJtYXJrZXRwbGFjZUZlZVJhdGUiCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXRvbWljX21hcmtldHBsYWNlX2VzY3Jvd192NC9BdG9taWNNYXJrZXRwbGFjZUVzY3Jvd1Y0LmFsZ28udHM6MTYxCiAgICAvLyB0aGlzLm1hcmtldHBsYWNlRmVlUmF0ZS52YWx1ZSA9IGZlZVJhdGUKICAgIGZyYW1lX2RpZyAtMQogICAgYXBwX2dsb2JhbF9wdXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdG9taWNfbWFya2V0cGxhY2VfZXNjcm93X3Y0L0F0b21pY01hcmtldHBsYWNlRXNjcm93VjQuYWxnby50czoxNjMKICAgIC8vIHJldHVybiB0cnVlCiAgICBpbnRjXzAgLy8gMQogICAgcmV0c3ViCgoKLy8gc21hcnRfY29udHJhY3RzL2F0b21pY19tYXJrZXRwbGFjZV9lc2Nyb3dfdjQvQXRvbWljTWFya2V0cGxhY2VFc2Nyb3dWNC5hbGdvLnRzOjpBdG9taWNNYXJrZXRwbGFjZUVzY3Jvd1Y0LnZlcmlmeVBheW1lbnRUeG4odHhuOiB1aW50NjQsIGFtb3VudDogdWludDY0LCByZWNlaXZlcjogYnl0ZXMsIHNlbmRlcjogYnl0ZXMpIC0+IHZvaWQ6CnZlcmlmeVBheW1lbnRUeG46CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXRvbWljX21hcmtldHBsYWNlX2VzY3Jvd192NC9BdG9taWNNYXJrZXRwbGFjZUVzY3Jvd1Y0LmFsZ28udHM6MTc2LTE4MQogICAgLy8gcHJpdmF0ZSB2ZXJpZnlQYXltZW50VHhuKAogICAgLy8gICB0eG46IGd0eG4uUGF5bWVudFR4biwKICAgIC8vICAgYW1vdW50OiB1aW50NjQsCiAgICAvLyAgIHJlY2VpdmVyOiBieXRlcywKICAgIC8vICAgc2VuZGVyOiBieXRlcwogICAgLy8gKTogdm9pZCB7CiAgICBwcm90byA0IDAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdG9taWNfbWFya2V0cGxhY2VfZXNjcm93X3Y0L0F0b21pY01hcmtldHBsYWNlRXNjcm93VjQuYWxnby50czoxODIKICAgIC8vIGFzc2VydCh0eG4ucmVjZWl2ZXIuYnl0ZXMgPT09IHJlY2VpdmVyLCAnV3JvbmcgcmVjZWl2ZXInKQogICAgZnJhbWVfZGlnIC00CiAgICBndHhucyBSZWNlaXZlcgogICAgZnJhbWVfZGlnIC0yCiAgICA9PQogICAgYXNzZXJ0IC8vIFdyb25nIHJlY2VpdmVyCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXRvbWljX21hcmtldHBsYWNlX2VzY3Jvd192NC9BdG9taWNNYXJrZXRwbGFjZUVzY3Jvd1Y0LmFsZ28udHM6MTgzCiAgICAvLyBhc3NlcnQodHhuLmFtb3VudCA9PT0gYW1vdW50LCAnV3JvbmcgYW1vdW50JykKICAgIGZyYW1lX2RpZyAtNAogICAgZ3R4bnMgQW1vdW50CiAgICBmcmFtZV9kaWcgLTMKICAgID09CiAgICBhc3NlcnQgLy8gV3JvbmcgYW1vdW50CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXRvbWljX21hcmtldHBsYWNlX2VzY3Jvd192NC9BdG9taWNNYXJrZXRwbGFjZUVzY3Jvd1Y0LmFsZ28udHM6MTg0CiAgICAvLyBhc3NlcnQodHhuLnNlbmRlci5ieXRlcyA9PT0gc2VuZGVyLCAnV3Jvbmcgc2VuZGVyJykKICAgIGZyYW1lX2RpZyAtNAogICAgZ3R4bnMgU2VuZGVyCiAgICBmcmFtZV9kaWcgLTEKICAgID09CiAgICBhc3NlcnQgLy8gV3Jvbmcgc2VuZGVyCiAgICByZXRzdWIKCgovLyBzbWFydF9jb250cmFjdHMvYXRvbWljX21hcmtldHBsYWNlX2VzY3Jvd192NC9BdG9taWNNYXJrZXRwbGFjZUVzY3Jvd1Y0LmFsZ28udHM6OkF0b21pY01hcmtldHBsYWNlRXNjcm93VjQudmVyaWZ5QXNzZXRUcmFuc2ZlclR4bih0eG46IHVpbnQ2NCwgYW1vdW50OiB1aW50NjQsIHJlY2VpdmVyOiBieXRlcywgc2VuZGVyOiBieXRlcykgLT4gdm9pZDoKdmVyaWZ5QXNzZXRUcmFuc2ZlclR4bjoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdG9taWNfbWFya2V0cGxhY2VfZXNjcm93X3Y0L0F0b21pY01hcmtldHBsYWNlRXNjcm93VjQuYWxnby50czoxOTAtMTk1CiAgICAvLyBwcml2YXRlIHZlcmlmeUFzc2V0VHJhbnNmZXJUeG4oCiAgICAvLyAgIHR4bjogZ3R4bi5Bc3NldFRyYW5zZmVyVHhuLAogICAgLy8gICBhbW91bnQ6IHVpbnQ2NCwKICAgIC8vICAgcmVjZWl2ZXI6IGJ5dGVzLAogICAgLy8gICBzZW5kZXI6IGJ5dGVzCiAgICAvLyApOiB2b2lkIHsKICAgIHByb3RvIDQgMAogICAgLy8gc21hcnRfY29udHJhY3RzL2F0b21pY19tYXJrZXRwbGFjZV9lc2Nyb3dfdjQvQXRvbWljTWFya2V0cGxhY2VFc2Nyb3dWNC5hbGdvLnRzOjE5NgogICAgLy8gYXNzZXJ0KHR4bi5hc3NldFJlY2VpdmVyLmJ5dGVzID09PSByZWNlaXZlciwgJ1dyb25nIHJlY2VpdmVyJykKICAgIGZyYW1lX2RpZyAtNAogICAgZ3R4bnMgQXNzZXRSZWNlaXZlcgogICAgZnJhbWVfZGlnIC0yCiAgICA9PQogICAgYXNzZXJ0IC8vIFdyb25nIHJlY2VpdmVyCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXRvbWljX21hcmtldHBsYWNlX2VzY3Jvd192NC9BdG9taWNNYXJrZXRwbGFjZUVzY3Jvd1Y0LmFsZ28udHM6MTk3CiAgICAvLyBhc3NlcnQodHhuLmFzc2V0QW1vdW50ID09PSBhbW91bnQsICdXcm9uZyBhbW91bnQnKQogICAgZnJhbWVfZGlnIC00CiAgICBndHhucyBBc3NldEFtb3VudAogICAgZnJhbWVfZGlnIC0zCiAgICA9PQogICAgYXNzZXJ0IC8vIFdyb25nIGFtb3VudAogICAgLy8gc21hcnRfY29udHJhY3RzL2F0b21pY19tYXJrZXRwbGFjZV9lc2Nyb3dfdjQvQXRvbWljTWFya2V0cGxhY2VFc2Nyb3dWNC5hbGdvLnRzOjE5OAogICAgLy8gYXNzZXJ0KHR4bi54ZmVyQXNzZXQgPT09IEFzc2V0KHRoaXMuc2V0dGxlbWVudEN1cnJlbmN5LnZhbHVlKSwgJ1dyb25nIGFzc2V0JykKICAgIGZyYW1lX2RpZyAtNAogICAgZ3R4bnMgWGZlckFzc2V0CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXRvbWljX21hcmtldHBsYWNlX2VzY3Jvd192NC9BdG9taWNNYXJrZXRwbGFjZUVzY3Jvd1Y0LmFsZ28udHM6MTAyCiAgICAvLyBwdWJsaWMgc2V0dGxlbWVudEN1cnJlbmN5ID0gR2xvYmFsU3RhdGU8dWludDY0PigpICAvLyAwID0gQUxHTywgQVNBIElEID0gdGhhdCBhc3NldAogICAgaW50Y18xIC8vIDAKICAgIGJ5dGVjXzEgLy8gInNldHRsZW1lbnRDdXJyZW5jeSIKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgR2xvYmFsU3RhdGUgZXhpc3RzCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXRvbWljX21hcmtldHBsYWNlX2VzY3Jvd192NC9BdG9taWNNYXJrZXRwbGFjZUVzY3Jvd1Y0LmFsZ28udHM6MTk4CiAgICAvLyBhc3NlcnQodHhuLnhmZXJBc3NldCA9PT0gQXNzZXQodGhpcy5zZXR0bGVtZW50Q3VycmVuY3kudmFsdWUpLCAnV3JvbmcgYXNzZXQnKQogICAgPT0KICAgIGFzc2VydCAvLyBXcm9uZyBhc3NldAogICAgLy8gc21hcnRfY29udHJhY3RzL2F0b21pY19tYXJrZXRwbGFjZV9lc2Nyb3dfdjQvQXRvbWljTWFya2V0cGxhY2VFc2Nyb3dWNC5hbGdvLnRzOjE5OQogICAgLy8gYXNzZXJ0KHR4bi5zZW5kZXIuYnl0ZXMgPT09IHNlbmRlciwgJ1dyb25nIHNlbmRlcicpCiAgICBmcmFtZV9kaWcgLTQKICAgIGd0eG5zIFNlbmRlcgogICAgZnJhbWVfZGlnIC0xCiAgICA9PQogICAgYXNzZXJ0IC8vIFdyb25nIHNlbmRlcgogICAgcmV0c3ViCgoKLy8gc21hcnRfY29udHJhY3RzL2F0b21pY19tYXJrZXRwbGFjZV9lc2Nyb3dfdjQvQXRvbWljTWFya2V0cGxhY2VFc2Nyb3dWNC5hbGdvLnRzOjpBdG9taWNNYXJrZXRwbGFjZUVzY3Jvd1Y0LnNlbmRQYXltZW50KHJlY2VpdmVyOiBieXRlcywgYW1vdW50OiB1aW50NjQpIC0+IHZvaWQ6CnNlbmRQYXltZW50OgogICAgLy8gc21hcnRfY29udHJhY3RzL2F0b21pY19tYXJrZXRwbGFjZV9lc2Nyb3dfdjQvQXRvbWljTWFya2V0cGxhY2VFc2Nyb3dWNC5hbGdvLnRzOjIwNQogICAgLy8gcHJpdmF0ZSBzZW5kUGF5bWVudChyZWNlaXZlcjogYnl0ZXMsIGFtb3VudDogdWludDY0KTogdm9pZCB7CiAgICBwcm90byAyIDAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdG9taWNfbWFya2V0cGxhY2VfZXNjcm93X3Y0L0F0b21pY01hcmtldHBsYWNlRXNjcm93VjQuYWxnby50czoxMDIKICAgIC8vIHB1YmxpYyBzZXR0bGVtZW50Q3VycmVuY3kgPSBHbG9iYWxTdGF0ZTx1aW50NjQ+KCkgIC8vIDAgPSBBTEdPLCBBU0EgSUQgPSB0aGF0IGFzc2V0CiAgICBpbnRjXzEgLy8gMAogICAgYnl0ZWNfMSAvLyAic2V0dGxlbWVudEN1cnJlbmN5IgogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIGFzc2VydCAvLyBjaGVjayBHbG9iYWxTdGF0ZSBleGlzdHMKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdG9taWNfbWFya2V0cGxhY2VfZXNjcm93X3Y0L0F0b21pY01hcmtldHBsYWNlRXNjcm93VjQuYWxnby50czoyMDYKICAgIC8vIGlmICh0aGlzLmlzQWxnb1BheW1lbnQoKSkgewogICAgYm56IHNlbmRQYXltZW50X2Vsc2VfYm9keUAzCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXRvbWljX21hcmtldHBsYWNlX2VzY3Jvd192NC9BdG9taWNNYXJrZXRwbGFjZUVzY3Jvd1Y0LmFsZ28udHM6MjA3LTIxMQogICAgLy8gaXR4bi5wYXltZW50KHsKICAgIC8vICAgcmVjZWl2ZXI6IHJlY2VpdmVyLAogICAgLy8gICBhbW91bnQ6IGFtb3VudCwKICAgIC8vICAgZmVlOiAwCiAgICAvLyB9KS5zdWJtaXQoKQogICAgaXR4bl9iZWdpbgogICAgZnJhbWVfZGlnIC0xCiAgICBpdHhuX2ZpZWxkIEFtb3VudAogICAgZnJhbWVfZGlnIC0yCiAgICBpdHhuX2ZpZWxkIFJlY2VpdmVyCiAgICBpbnRjXzAgLy8gMQogICAgaXR4bl9maWVsZCBUeXBlRW51bQogICAgLy8gc21hcnRfY29udHJhY3RzL2F0b21pY19tYXJrZXRwbGFjZV9lc2Nyb3dfdjQvQXRvbWljTWFya2V0cGxhY2VFc2Nyb3dWNC5hbGdvLnRzOjIxMAogICAgLy8gZmVlOiAwCiAgICBpbnRjXzEgLy8gMAogICAgaXR4bl9maWVsZCBGZWUKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdG9taWNfbWFya2V0cGxhY2VfZXNjcm93X3Y0L0F0b21pY01hcmtldHBsYWNlRXNjcm93VjQuYWxnby50czoyMDctMjExCiAgICAvLyBpdHhuLnBheW1lbnQoewogICAgLy8gICByZWNlaXZlcjogcmVjZWl2ZXIsCiAgICAvLyAgIGFtb3VudDogYW1vdW50LAogICAgLy8gICBmZWU6IDAKICAgIC8vIH0pLnN1Ym1pdCgpCiAgICBpdHhuX3N1Ym1pdAogICAgcmV0c3ViCgpzZW5kUGF5bWVudF9lbHNlX2JvZHlAMzoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdG9taWNfbWFya2V0cGxhY2VfZXNjcm93X3Y0L0F0b21pY01hcmtldHBsYWNlRXNjcm93VjQuYWxnby50czoyMTMtMjE4CiAgICAvLyBpdHhuLmFzc2V0VHJhbnNmZXIoewogICAgLy8gICB4ZmVyQXNzZXQ6IEFzc2V0KHRoaXMuc2V0dGxlbWVudEN1cnJlbmN5LnZhbHVlKSwKICAgIC8vICAgYXNzZXRSZWNlaXZlcjogcmVjZWl2ZXIsCiAgICAvLyAgIGFzc2V0QW1vdW50OiBhbW91bnQsCiAgICAvLyAgIGZlZTogMAogICAgLy8gfSkuc3VibWl0KCkKICAgIGl0eG5fYmVnaW4KICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdG9taWNfbWFya2V0cGxhY2VfZXNjcm93X3Y0L0F0b21pY01hcmtldHBsYWNlRXNjcm93VjQuYWxnby50czoxMDIKICAgIC8vIHB1YmxpYyBzZXR0bGVtZW50Q3VycmVuY3kgPSBHbG9iYWxTdGF0ZTx1aW50NjQ+KCkgIC8vIDAgPSBBTEdPLCBBU0EgSUQgPSB0aGF0IGFzc2V0CiAgICBpbnRjXzEgLy8gMAogICAgYnl0ZWNfMSAvLyAic2V0dGxlbWVudEN1cnJlbmN5IgogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIGFzc2VydCAvLyBjaGVjayBHbG9iYWxTdGF0ZSBleGlzdHMKICAgIGZyYW1lX2RpZyAtMQogICAgaXR4bl9maWVsZCBBc3NldEFtb3VudAogICAgZnJhbWVfZGlnIC0yCiAgICBpdHhuX2ZpZWxkIEFzc2V0UmVjZWl2ZXIKICAgIGl0eG5fZmllbGQgWGZlckFzc2V0CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXRvbWljX21hcmtldHBsYWNlX2VzY3Jvd192NC9BdG9taWNNYXJrZXRwbGFjZUVzY3Jvd1Y0LmFsZ28udHM6MjEzLTIxOAogICAgLy8gaXR4bi5hc3NldFRyYW5zZmVyKHsKICAgIC8vICAgeGZlckFzc2V0OiBBc3NldCh0aGlzLnNldHRsZW1lbnRDdXJyZW5jeS52YWx1ZSksCiAgICAvLyAgIGFzc2V0UmVjZWl2ZXI6IHJlY2VpdmVyLAogICAgLy8gICBhc3NldEFtb3VudDogYW1vdW50LAogICAgLy8gICBmZWU6IDAKICAgIC8vIH0pLnN1Ym1pdCgpCiAgICBwdXNoaW50IDQgLy8gNAogICAgaXR4bl9maWVsZCBUeXBlRW51bQogICAgLy8gc21hcnRfY29udHJhY3RzL2F0b21pY19tYXJrZXRwbGFjZV9lc2Nyb3dfdjQvQXRvbWljTWFya2V0cGxhY2VFc2Nyb3dWNC5hbGdvLnRzOjIxNwogICAgLy8gZmVlOiAwCiAgICBpbnRjXzEgLy8gMAogICAgaXR4bl9maWVsZCBGZWUKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdG9taWNfbWFya2V0cGxhY2VfZXNjcm93X3Y0L0F0b21pY01hcmtldHBsYWNlRXNjcm93VjQuYWxnby50czoyMTMtMjE4CiAgICAvLyBpdHhuLmFzc2V0VHJhbnNmZXIoewogICAgLy8gICB4ZmVyQXNzZXQ6IEFzc2V0KHRoaXMuc2V0dGxlbWVudEN1cnJlbmN5LnZhbHVlKSwKICAgIC8vICAgYXNzZXRSZWNlaXZlcjogcmVjZWl2ZXIsCiAgICAvLyAgIGFzc2V0QW1vdW50OiBhbW91bnQsCiAgICAvLyAgIGZlZTogMAogICAgLy8gfSkuc3VibWl0KCkKICAgIGl0eG5fc3VibWl0CiAgICByZXRzdWIKCgovLyBzbWFydF9jb250cmFjdHMvYXRvbWljX21hcmtldHBsYWNlX2VzY3Jvd192NC9BdG9taWNNYXJrZXRwbGFjZUVzY3Jvd1Y0LmFsZ28udHM6OkF0b21pY01hcmtldHBsYWNlRXNjcm93VjQuY3JlYXRlVHJhZGUoc2VsbGVyQWRkcmVzczogYnl0ZXMsIGFtb3VudDogdWludDY0LCBwcm9kdWN0VHlwZTogYnl0ZXMsIGRlc2NyaXB0aW9uOiBieXRlcywgaXBmc0hhc2g6IGJ5dGVzKSAtPiB1aW50NjQ6CmNyZWF0ZVRyYWRlOgogICAgLy8gc21hcnRfY29udHJhY3RzL2F0b21pY19tYXJrZXRwbGFjZV9lc2Nyb3dfdjQvQXRvbWljTWFya2V0cGxhY2VFc2Nyb3dWNC5hbGdvLnRzOjIzMy0yNDAKICAgIC8vIEBhYmltZXRob2QoKQogICAgLy8gcHVibGljIGNyZWF0ZVRyYWRlKAogICAgLy8gICBzZWxsZXJBZGRyZXNzOiBhcmM0LkFkZHJlc3MsCiAgICAvLyAgIGFtb3VudDogdWludDY0LAogICAgLy8gICBwcm9kdWN0VHlwZTogc3RyaW5nLAogICAgLy8gICBkZXNjcmlwdGlvbjogc3RyaW5nLAogICAgLy8gICBpcGZzSGFzaDogc3RyaW5nCiAgICAvLyApOiB1aW50NjQgewogICAgcHJvdG8gNSAxCiAgICBpbnRjXzEgLy8gMAogICAgZHVwCiAgICBwdXNoYnl0ZXMgIiIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdG9taWNfbWFya2V0cGxhY2VfZXNjcm93X3Y0L0F0b21pY01hcmtldHBsYWNlRXNjcm93VjQuYWxnby50czoxMDAKICAgIC8vIHB1YmxpYyBuZXh0VHJhZGVJZCA9IEdsb2JhbFN0YXRlPHVpbnQ2ND4oKQogICAgaW50Y18xIC8vIDAKICAgIGJ5dGVjIDYgLy8gIm5leHRUcmFkZUlkIgogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIGFzc2VydCAvLyBjaGVjayBHbG9iYWxTdGF0ZSBleGlzdHMKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdG9taWNfbWFya2V0cGxhY2VfZXNjcm93X3Y0L0F0b21pY01hcmtldHBsYWNlRXNjcm93VjQuYWxnby50czoyNDIKICAgIC8vIGlmICh0aGlzLm5leHRUcmFkZUlkLnZhbHVlID09PSAwKSB7CiAgICBibnogY3JlYXRlVHJhZGVfYWZ0ZXJfaWZfZWxzZUAyCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXRvbWljX21hcmtldHBsYWNlX2VzY3Jvd192NC9BdG9taWNNYXJrZXRwbGFjZUVzY3Jvd1Y0LmFsZ28udHM6MTAwCiAgICAvLyBwdWJsaWMgbmV4dFRyYWRlSWQgPSBHbG9iYWxTdGF0ZTx1aW50NjQ+KCkKICAgIGJ5dGVjIDYgLy8gIm5leHRUcmFkZUlkIgogICAgLy8gc21hcnRfY29udHJhY3RzL2F0b21pY19tYXJrZXRwbGFjZV9lc2Nyb3dfdjQvQXRvbWljTWFya2V0cGxhY2VFc2Nyb3dWNC5hbGdvLnRzOjI0MwogICAgLy8gdGhpcy5uZXh0VHJhZGVJZC52YWx1ZSA9IDEKICAgIGludGNfMCAvLyAxCiAgICBhcHBfZ2xvYmFsX3B1dAoKY3JlYXRlVHJhZGVfYWZ0ZXJfaWZfZWxzZUAyOgogICAgLy8gc21hcnRfY29udHJhY3RzL2F0b21pY19tYXJrZXRwbGFjZV9lc2Nyb3dfdjQvQXRvbWljTWFya2V0cGxhY2VFc2Nyb3dWNC5hbGdvLnRzOjI0NgogICAgLy8gYXNzZXJ0KHNlbGxlckFkZHJlc3MuYnl0ZXMgIT09IFR4bi5zZW5kZXIuYnl0ZXMsICdDYW5ub3QgdHJhZGUgd2l0aCB5b3Vyc2VsZicpCiAgICBmcmFtZV9kaWcgLTUKICAgIHR4biBTZW5kZXIKICAgICE9CiAgICBhc3NlcnQgLy8gQ2Fubm90IHRyYWRlIHdpdGggeW91cnNlbGYKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdG9taWNfbWFya2V0cGxhY2VfZXNjcm93X3Y0L0F0b21pY01hcmtldHBsYWNlRXNjcm93VjQuYWxnby50czoyNDcKICAgIC8vIGFzc2VydChhbW91bnQgPiAwLCAnQW1vdW50IG11c3QgYmUgZ3JlYXRlciB0aGFuIDAnKQogICAgZnJhbWVfZGlnIC00CiAgICBhc3NlcnQgLy8gQW1vdW50IG11c3QgYmUgZ3JlYXRlciB0aGFuIDAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdG9taWNfbWFya2V0cGxhY2VfZXNjcm93X3Y0L0F0b21pY01hcmtldHBsYWNlRXNjcm93VjQuYWxnby50czoxMDAKICAgIC8vIHB1YmxpYyBuZXh0VHJhZGVJZCA9IEdsb2JhbFN0YXRlPHVpbnQ2ND4oKQogICAgaW50Y18xIC8vIDAKICAgIGJ5dGVjIDYgLy8gIm5leHRUcmFkZUlkIgogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIHN3YXAKICAgIGR1cAogICAgY292ZXIgMgogICAgZnJhbWVfYnVyeSAyCiAgICBhc3NlcnQgLy8gY2hlY2sgR2xvYmFsU3RhdGUgZXhpc3RzCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXRvbWljX21hcmtldHBsYWNlX2VzY3Jvd192NC9BdG9taWNNYXJrZXRwbGFjZUVzY3Jvd1Y0LmFsZ28udHM6MjUzCiAgICAvLyB0cmFkZUlkOiBuZXcgYXJjNC5VaW50TjY0KHRyYWRlSWQpLAogICAgaXRvYgogICAgZHVwCiAgICBmcmFtZV9idXJ5IDEKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdG9taWNfbWFya2V0cGxhY2VfZXNjcm93X3Y0L0F0b21pY01hcmtldHBsYWNlRXNjcm93VjQuYWxnby50czoyNTQKICAgIC8vIGJ1eWVyOiBuZXcgYXJjNC5BZGRyZXNzKFR4bi5zZW5kZXIpLAogICAgdHhuIFNlbmRlcgogICAgLy8gc21hcnRfY29udHJhY3RzL2F0b21pY19tYXJrZXRwbGFjZV9lc2Nyb3dfdjQvQXRvbWljTWFya2V0cGxhY2VFc2Nyb3dWNC5hbGdvLnRzOjI1NgogICAgLy8gZXNjcm93UHJvdmlkZXI6IG5ldyBhcmM0LkFkZHJlc3MoR2xvYmFsLnplcm9BZGRyZXNzKSwKICAgIGdsb2JhbCBaZXJvQWRkcmVzcwogICAgLy8gc21hcnRfY29udHJhY3RzL2F0b21pY19tYXJrZXRwbGFjZV9lc2Nyb3dfdjQvQXRvbWljTWFya2V0cGxhY2VFc2Nyb3dWNC5hbGdvLnRzOjI1NwogICAgLy8gYW1vdW50OiBuZXcgYXJjNC5VaW50TjY0KGFtb3VudCksCiAgICBmcmFtZV9kaWcgLTQKICAgIGl0b2IKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdG9taWNfbWFya2V0cGxhY2VfZXNjcm93X3Y0L0F0b21pY01hcmtldHBsYWNlRXNjcm93VjQuYWxnby50czoyNTkKICAgIC8vIGNyZWF0ZWRBdDogbmV3IGFyYzQuVWludE42NChHbG9iYWwubGF0ZXN0VGltZXN0YW1wKSwKICAgIGdsb2JhbCBMYXRlc3RUaW1lc3RhbXAKICAgIGl0b2IKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdG9taWNfbWFya2V0cGxhY2VfZXNjcm93X3Y0L0F0b21pY01hcmtldHBsYWNlRXNjcm93VjQuYWxnby50czoyNjUKICAgIC8vIHJlZ3VsYXRvcldhbGxldDogbmV3IGFyYzQuQWRkcmVzcyhHbG9iYWwuemVyb0FkZHJlc3MpLAogICAgZ2xvYmFsIFplcm9BZGRyZXNzCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXRvbWljX21hcmtldHBsYWNlX2VzY3Jvd192NC9BdG9taWNNYXJrZXRwbGFjZUVzY3Jvd1Y0LmFsZ28udHM6MjUyLTI3MAogICAgLy8gY29uc3QgdHJhZGUgPSBuZXcgVHJhZGVFc2Nyb3coewogICAgLy8gICB0cmFkZUlkOiBuZXcgYXJjNC5VaW50TjY0KHRyYWRlSWQpLAogICAgLy8gICBidXllcjogbmV3IGFyYzQuQWRkcmVzcyhUeG4uc2VuZGVyKSwKICAgIC8vICAgc2VsbGVyOiBzZWxsZXJBZGRyZXNzLAogICAgLy8gICBlc2Nyb3dQcm92aWRlcjogbmV3IGFyYzQuQWRkcmVzcyhHbG9iYWwuemVyb0FkZHJlc3MpLAogICAgLy8gICBhbW91bnQ6IG5ldyBhcmM0LlVpbnRONjQoYW1vdW50KSwKICAgIC8vICAgc3RhdGU6IG5ldyBhcmM0LlVpbnRONjQoQ1JFQVRFRCksCiAgICAvLyAgIGNyZWF0ZWRBdDogbmV3IGFyYzQuVWludE42NChHbG9iYWwubGF0ZXN0VGltZXN0YW1wKSwKICAgIC8vIAogICAgLy8gICBpbnN0cnVtZW50QXNzZXRJZDogbmV3IGFyYzQuVWludE42NCgwKSwKICAgIC8vICAgaW5zdHJ1bWVudFR5cGU6IG5ldyBhcmM0LlVpbnRONjQoMCksCiAgICAvLyAgIGluc3RydW1lbnRWYWx1ZTogbmV3IGFyYzQuVWludE42NCgwKSwKICAgIC8vIAogICAgLy8gICByZWd1bGF0b3JXYWxsZXQ6IG5ldyBhcmM0LkFkZHJlc3MoR2xvYmFsLnplcm9BZGRyZXNzKSwKICAgIC8vICAgcmVndWxhdG9yVGF4UGFpZDogbmV3IGFyYzQuVWludE42NCgwKSwKICAgIC8vICAgcmVndWxhdG9yUmVmdW5kRHVlOiBuZXcgYXJjNC5VaW50TjY0KDApLAogICAgLy8gCiAgICAvLyAgIG1hcmtldHBsYWNlRmVlOiBuZXcgYXJjNC5VaW50TjY0KDApCiAgICAvLyB9KQogICAgZGlnIDUKICAgIHVuY292ZXIgNQogICAgY29uY2F0CiAgICBmcmFtZV9kaWcgLTUKICAgIGNvbmNhdAogICAgdW5jb3ZlciA0CiAgICBjb25jYXQKICAgIHVuY292ZXIgMwogICAgY29uY2F0CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXRvbWljX21hcmtldHBsYWNlX2VzY3Jvd192NC9BdG9taWNNYXJrZXRwbGFjZUVzY3Jvd1Y0LmFsZ28udHM6MjU4CiAgICAvLyBzdGF0ZTogbmV3IGFyYzQuVWludE42NChDUkVBVEVEKSwKICAgIGJ5dGVjIDUgLy8gMHgwMDAwMDAwMDAwMDAwMDAwCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXRvbWljX21hcmtldHBsYWNlX2VzY3Jvd192NC9BdG9taWNNYXJrZXRwbGFjZUVzY3Jvd1Y0LmFsZ28udHM6MjUyLTI3MAogICAgLy8gY29uc3QgdHJhZGUgPSBuZXcgVHJhZGVFc2Nyb3coewogICAgLy8gICB0cmFkZUlkOiBuZXcgYXJjNC5VaW50TjY0KHRyYWRlSWQpLAogICAgLy8gICBidXllcjogbmV3IGFyYzQuQWRkcmVzcyhUeG4uc2VuZGVyKSwKICAgIC8vICAgc2VsbGVyOiBzZWxsZXJBZGRyZXNzLAogICAgLy8gICBlc2Nyb3dQcm92aWRlcjogbmV3IGFyYzQuQWRkcmVzcyhHbG9iYWwuemVyb0FkZHJlc3MpLAogICAgLy8gICBhbW91bnQ6IG5ldyBhcmM0LlVpbnRONjQoYW1vdW50KSwKICAgIC8vICAgc3RhdGU6IG5ldyBhcmM0LlVpbnRONjQoQ1JFQVRFRCksCiAgICAvLyAgIGNyZWF0ZWRBdDogbmV3IGFyYzQuVWludE42NChHbG9iYWwubGF0ZXN0VGltZXN0YW1wKSwKICAgIC8vIAogICAgLy8gICBpbnN0cnVtZW50QXNzZXRJZDogbmV3IGFyYzQuVWludE42NCgwKSwKICAgIC8vICAgaW5zdHJ1bWVudFR5cGU6IG5ldyBhcmM0LlVpbnRONjQoMCksCiAgICAvLyAgIGluc3RydW1lbnRWYWx1ZTogbmV3IGFyYzQuVWludE42NCgwKSwKICAgIC8vIAogICAgLy8gICByZWd1bGF0b3JXYWxsZXQ6IG5ldyBhcmM0LkFkZHJlc3MoR2xvYmFsLnplcm9BZGRyZXNzKSwKICAgIC8vICAgcmVndWxhdG9yVGF4UGFpZDogbmV3IGFyYzQuVWludE42NCgwKSwKICAgIC8vICAgcmVndWxhdG9yUmVmdW5kRHVlOiBuZXcgYXJjNC5VaW50TjY0KDApLAogICAgLy8gCiAgICAvLyAgIG1hcmtldHBsYWNlRmVlOiBuZXcgYXJjNC5VaW50TjY0KDApCiAgICAvLyB9KQogICAgY29uY2F0CiAgICB1bmNvdmVyIDIKICAgIGNvbmNhdAogICAgLy8gc21hcnRfY29udHJhY3RzL2F0b21pY19tYXJrZXRwbGFjZV9lc2Nyb3dfdjQvQXRvbWljTWFya2V0cGxhY2VFc2Nyb3dWNC5hbGdvLnRzOjI2MQogICAgLy8gaW5zdHJ1bWVudEFzc2V0SWQ6IG5ldyBhcmM0LlVpbnRONjQoMCksCiAgICBieXRlYyA1IC8vIDB4MDAwMDAwMDAwMDAwMDAwMAogICAgLy8gc21hcnRfY29udHJhY3RzL2F0b21pY19tYXJrZXRwbGFjZV9lc2Nyb3dfdjQvQXRvbWljTWFya2V0cGxhY2VFc2Nyb3dWNC5hbGdvLnRzOjI1Mi0yNzAKICAgIC8vIGNvbnN0IHRyYWRlID0gbmV3IFRyYWRlRXNjcm93KHsKICAgIC8vICAgdHJhZGVJZDogbmV3IGFyYzQuVWludE42NCh0cmFkZUlkKSwKICAgIC8vICAgYnV5ZXI6IG5ldyBhcmM0LkFkZHJlc3MoVHhuLnNlbmRlciksCiAgICAvLyAgIHNlbGxlcjogc2VsbGVyQWRkcmVzcywKICAgIC8vICAgZXNjcm93UHJvdmlkZXI6IG5ldyBhcmM0LkFkZHJlc3MoR2xvYmFsLnplcm9BZGRyZXNzKSwKICAgIC8vICAgYW1vdW50OiBuZXcgYXJjNC5VaW50TjY0KGFtb3VudCksCiAgICAvLyAgIHN0YXRlOiBuZXcgYXJjNC5VaW50TjY0KENSRUFURUQpLAogICAgLy8gICBjcmVhdGVkQXQ6IG5ldyBhcmM0LlVpbnRONjQoR2xvYmFsLmxhdGVzdFRpbWVzdGFtcCksCiAgICAvLyAKICAgIC8vICAgaW5zdHJ1bWVudEFzc2V0SWQ6IG5ldyBhcmM0LlVpbnRONjQoMCksCiAgICAvLyAgIGluc3RydW1lbnRUeXBlOiBuZXcgYXJjNC5VaW50TjY0KDApLAogICAgLy8gICBpbnN0cnVtZW50VmFsdWU6IG5ldyBhcmM0LlVpbnRONjQoMCksCiAgICAvLyAKICAgIC8vICAgcmVndWxhdG9yV2FsbGV0OiBuZXcgYXJjNC5BZGRyZXNzKEdsb2JhbC56ZXJvQWRkcmVzcyksCiAgICAvLyAgIHJlZ3VsYXRvclRheFBhaWQ6IG5ldyBhcmM0LlVpbnRONjQoMCksCiAgICAvLyAgIHJlZ3VsYXRvclJlZnVuZER1ZTogbmV3IGFyYzQuVWludE42NCgwKSwKICAgIC8vIAogICAgLy8gICBtYXJrZXRwbGFjZUZlZTogbmV3IGFyYzQuVWludE42NCgwKQogICAgLy8gfSkKICAgIGNvbmNhdAogICAgLy8gc21hcnRfY29udHJhY3RzL2F0b21pY19tYXJrZXRwbGFjZV9lc2Nyb3dfdjQvQXRvbWljTWFya2V0cGxhY2VFc2Nyb3dWNC5hbGdvLnRzOjI2MgogICAgLy8gaW5zdHJ1bWVudFR5cGU6IG5ldyBhcmM0LlVpbnRONjQoMCksCiAgICBieXRlYyA1IC8vIDB4MDAwMDAwMDAwMDAwMDAwMAogICAgLy8gc21hcnRfY29udHJhY3RzL2F0b21pY19tYXJrZXRwbGFjZV9lc2Nyb3dfdjQvQXRvbWljTWFya2V0cGxhY2VFc2Nyb3dWNC5hbGdvLnRzOjI1Mi0yNzAKICAgIC8vIGNvbnN0IHRyYWRlID0gbmV3IFRyYWRlRXNjcm93KHsKICAgIC8vICAgdHJhZGVJZDogbmV3IGFyYzQuVWludE42NCh0cmFkZUlkKSwKICAgIC8vICAgYnV5ZXI6IG5ldyBhcmM0LkFkZHJlc3MoVHhuLnNlbmRlciksCiAgICAvLyAgIHNlbGxlcjogc2VsbGVyQWRkcmVzcywKICAgIC8vICAgZXNjcm93UHJvdmlkZXI6IG5ldyBhcmM0LkFkZHJlc3MoR2xvYmFsLnplcm9BZGRyZXNzKSwKICAgIC8vICAgYW1vdW50OiBuZXcgYXJjNC5VaW50TjY0KGFtb3VudCksCiAgICAvLyAgIHN0YXRlOiBuZXcgYXJjNC5VaW50TjY0KENSRUFURUQpLAogICAgLy8gICBjcmVhdGVkQXQ6IG5ldyBhcmM0LlVpbnRONjQoR2xvYmFsLmxhdGVzdFRpbWVzdGFtcCksCiAgICAvLyAKICAgIC8vICAgaW5zdHJ1bWVudEFzc2V0SWQ6IG5ldyBhcmM0LlVpbnRONjQoMCksCiAgICAvLyAgIGluc3RydW1lbnRUeXBlOiBuZXcgYXJjNC5VaW50TjY0KDApLAogICAgLy8gICBpbnN0cnVtZW50VmFsdWU6IG5ldyBhcmM0LlVpbnRONjQoMCksCiAgICAvLyAKICAgIC8vICAgcmVndWxhdG9yV2FsbGV0OiBuZXcgYXJjNC5BZGRyZXNzKEdsb2JhbC56ZXJvQWRkcmVzcyksCiAgICAvLyAgIHJlZ3VsYXRvclRheFBhaWQ6IG5ldyBhcmM0LlVpbnRONjQoMCksCiAgICAvLyAgIHJlZ3VsYXRvclJlZnVuZER1ZTogbmV3IGFyYzQuVWludE42NCgwKSwKICAgIC8vIAogICAgLy8gICBtYXJrZXRwbGFjZUZlZTogbmV3IGFyYzQuVWludE42NCgwKQogICAgLy8gfSkKICAgIGNvbmNhdAogICAgLy8gc21hcnRfY29udHJhY3RzL2F0b21pY19tYXJrZXRwbGFjZV9lc2Nyb3dfdjQvQXRvbWljTWFya2V0cGxhY2VFc2Nyb3dWNC5hbGdvLnRzOjI2MwogICAgLy8gaW5zdHJ1bWVudFZhbHVlOiBuZXcgYXJjNC5VaW50TjY0KDApLAogICAgYnl0ZWMgNSAvLyAweDAwMDAwMDAwMDAwMDAwMDAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdG9taWNfbWFya2V0cGxhY2VfZXNjcm93X3Y0L0F0b21pY01hcmtldHBsYWNlRXNjcm93VjQuYWxnby50czoyNTItMjcwCiAgICAvLyBjb25zdCB0cmFkZSA9IG5ldyBUcmFkZUVzY3Jvdyh7CiAgICAvLyAgIHRyYWRlSWQ6IG5ldyBhcmM0LlVpbnRONjQodHJhZGVJZCksCiAgICAvLyAgIGJ1eWVyOiBuZXcgYXJjNC5BZGRyZXNzKFR4bi5zZW5kZXIpLAogICAgLy8gICBzZWxsZXI6IHNlbGxlckFkZHJlc3MsCiAgICAvLyAgIGVzY3Jvd1Byb3ZpZGVyOiBuZXcgYXJjNC5BZGRyZXNzKEdsb2JhbC56ZXJvQWRkcmVzcyksCiAgICAvLyAgIGFtb3VudDogbmV3IGFyYzQuVWludE42NChhbW91bnQpLAogICAgLy8gICBzdGF0ZTogbmV3IGFyYzQuVWludE42NChDUkVBVEVEKSwKICAgIC8vICAgY3JlYXRlZEF0OiBuZXcgYXJjNC5VaW50TjY0KEdsb2JhbC5sYXRlc3RUaW1lc3RhbXApLAogICAgLy8gCiAgICAvLyAgIGluc3RydW1lbnRBc3NldElkOiBuZXcgYXJjNC5VaW50TjY0KDApLAogICAgLy8gICBpbnN0cnVtZW50VHlwZTogbmV3IGFyYzQuVWludE42NCgwKSwKICAgIC8vICAgaW5zdHJ1bWVudFZhbHVlOiBuZXcgYXJjNC5VaW50TjY0KDApLAogICAgLy8gCiAgICAvLyAgIHJlZ3VsYXRvcldhbGxldDogbmV3IGFyYzQuQWRkcmVzcyhHbG9iYWwuemVyb0FkZHJlc3MpLAogICAgLy8gICByZWd1bGF0b3JUYXhQYWlkOiBuZXcgYXJjNC5VaW50TjY0KDApLAogICAgLy8gICByZWd1bGF0b3JSZWZ1bmREdWU6IG5ldyBhcmM0LlVpbnRONjQoMCksCiAgICAvLyAKICAgIC8vICAgbWFya2V0cGxhY2VGZWU6IG5ldyBhcmM0LlVpbnRONjQoMCkKICAgIC8vIH0pCiAgICBjb25jYXQKICAgIHN3YXAKICAgIGNvbmNhdAogICAgLy8gc21hcnRfY29udHJhY3RzL2F0b21pY19tYXJrZXRwbGFjZV9lc2Nyb3dfdjQvQXRvbWljTWFya2V0cGxhY2VFc2Nyb3dWNC5hbGdvLnRzOjI2NgogICAgLy8gcmVndWxhdG9yVGF4UGFpZDogbmV3IGFyYzQuVWludE42NCgwKSwKICAgIGJ5dGVjIDUgLy8gMHgwMDAwMDAwMDAwMDAwMDAwCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXRvbWljX21hcmtldHBsYWNlX2VzY3Jvd192NC9BdG9taWNNYXJrZXRwbGFjZUVzY3Jvd1Y0LmFsZ28udHM6MjUyLTI3MAogICAgLy8gY29uc3QgdHJhZGUgPSBuZXcgVHJhZGVFc2Nyb3coewogICAgLy8gICB0cmFkZUlkOiBuZXcgYXJjNC5VaW50TjY0KHRyYWRlSWQpLAogICAgLy8gICBidXllcjogbmV3IGFyYzQuQWRkcmVzcyhUeG4uc2VuZGVyKSwKICAgIC8vICAgc2VsbGVyOiBzZWxsZXJBZGRyZXNzLAogICAgLy8gICBlc2Nyb3dQcm92aWRlcjogbmV3IGFyYzQuQWRkcmVzcyhHbG9iYWwuemVyb0FkZHJlc3MpLAogICAgLy8gICBhbW91bnQ6IG5ldyBhcmM0LlVpbnRONjQoYW1vdW50KSwKICAgIC8vICAgc3RhdGU6IG5ldyBhcmM0LlVpbnRONjQoQ1JFQVRFRCksCiAgICAvLyAgIGNyZWF0ZWRBdDogbmV3IGFyYzQuVWludE42NChHbG9iYWwubGF0ZXN0VGltZXN0YW1wKSwKICAgIC8vIAogICAgLy8gICBpbnN0cnVtZW50QXNzZXRJZDogbmV3IGFyYzQuVWludE42NCgwKSwKICAgIC8vICAgaW5zdHJ1bWVudFR5cGU6IG5ldyBhcmM0LlVpbnRONjQoMCksCiAgICAvLyAgIGluc3RydW1lbnRWYWx1ZTogbmV3IGFyYzQuVWludE42NCgwKSwKICAgIC8vIAogICAgLy8gICByZWd1bGF0b3JXYWxsZXQ6IG5ldyBhcmM0LkFkZHJlc3MoR2xvYmFsLnplcm9BZGRyZXNzKSwKICAgIC8vICAgcmVndWxhdG9yVGF4UGFpZDogbmV3IGFyYzQuVWludE42NCgwKSwKICAgIC8vICAgcmVndWxhdG9yUmVmdW5kRHVlOiBuZXcgYXJjNC5VaW50TjY0KDApLAogICAgLy8gCiAgICAvLyAgIG1hcmtldHBsYWNlRmVlOiBuZXcgYXJjNC5VaW50TjY0KDApCiAgICAvLyB9KQogICAgY29uY2F0CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXRvbWljX21hcmtldHBsYWNlX2VzY3Jvd192NC9BdG9taWNNYXJrZXRwbGFjZUVzY3Jvd1Y0LmFsZ28udHM6MjY3CiAgICAvLyByZWd1bGF0b3JSZWZ1bmREdWU6IG5ldyBhcmM0LlVpbnRONjQoMCksCiAgICBieXRlYyA1IC8vIDB4MDAwMDAwMDAwMDAwMDAwMAogICAgLy8gc21hcnRfY29udHJhY3RzL2F0b21pY19tYXJrZXRwbGFjZV9lc2Nyb3dfdjQvQXRvbWljTWFya2V0cGxhY2VFc2Nyb3dWNC5hbGdvLnRzOjI1Mi0yNzAKICAgIC8vIGNvbnN0IHRyYWRlID0gbmV3IFRyYWRlRXNjcm93KHsKICAgIC8vICAgdHJhZGVJZDogbmV3IGFyYzQuVWludE42NCh0cmFkZUlkKSwKICAgIC8vICAgYnV5ZXI6IG5ldyBhcmM0LkFkZHJlc3MoVHhuLnNlbmRlciksCiAgICAvLyAgIHNlbGxlcjogc2VsbGVyQWRkcmVzcywKICAgIC8vICAgZXNjcm93UHJvdmlkZXI6IG5ldyBhcmM0LkFkZHJlc3MoR2xvYmFsLnplcm9BZGRyZXNzKSwKICAgIC8vICAgYW1vdW50OiBuZXcgYXJjNC5VaW50TjY0KGFtb3VudCksCiAgICAvLyAgIHN0YXRlOiBuZXcgYXJjNC5VaW50TjY0KENSRUFURUQpLAogICAgLy8gICBjcmVhdGVkQXQ6IG5ldyBhcmM0LlVpbnRONjQoR2xvYmFsLmxhdGVzdFRpbWVzdGFtcCksCiAgICAvLyAKICAgIC8vICAgaW5zdHJ1bWVudEFzc2V0SWQ6IG5ldyBhcmM0LlVpbnRONjQoMCksCiAgICAvLyAgIGluc3RydW1lbnRUeXBlOiBuZXcgYXJjNC5VaW50TjY0KDApLAogICAgLy8gICBpbnN0cnVtZW50VmFsdWU6IG5ldyBhcmM0LlVpbnRONjQoMCksCiAgICAvLyAKICAgIC8vICAgcmVndWxhdG9yV2FsbGV0OiBuZXcgYXJjNC5BZGRyZXNzKEdsb2JhbC56ZXJvQWRkcmVzcyksCiAgICAvLyAgIHJlZ3VsYXRvclRheFBhaWQ6IG5ldyBhcmM0LlVpbnRONjQoMCksCiAgICAvLyAgIHJlZ3VsYXRvclJlZnVuZER1ZTogbmV3IGFyYzQuVWludE42NCgwKSwKICAgIC8vIAogICAgLy8gICBtYXJrZXRwbGFjZUZlZTogbmV3IGFyYzQuVWludE42NCgwKQogICAgLy8gfSkKICAgIGNvbmNhdAogICAgLy8gc21hcnRfY29udHJhY3RzL2F0b21pY19tYXJrZXRwbGFjZV9lc2Nyb3dfdjQvQXRvbWljTWFya2V0cGxhY2VFc2Nyb3dWNC5hbGdvLnRzOjI2OQogICAgLy8gbWFya2V0cGxhY2VGZWU6IG5ldyBhcmM0LlVpbnRONjQoMCkKICAgIGJ5dGVjIDUgLy8gMHgwMDAwMDAwMDAwMDAwMDAwCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXRvbWljX21hcmtldHBsYWNlX2VzY3Jvd192NC9BdG9taWNNYXJrZXRwbGFjZUVzY3Jvd1Y0LmFsZ28udHM6MjUyLTI3MAogICAgLy8gY29uc3QgdHJhZGUgPSBuZXcgVHJhZGVFc2Nyb3coewogICAgLy8gICB0cmFkZUlkOiBuZXcgYXJjNC5VaW50TjY0KHRyYWRlSWQpLAogICAgLy8gICBidXllcjogbmV3IGFyYzQuQWRkcmVzcyhUeG4uc2VuZGVyKSwKICAgIC8vICAgc2VsbGVyOiBzZWxsZXJBZGRyZXNzLAogICAgLy8gICBlc2Nyb3dQcm92aWRlcjogbmV3IGFyYzQuQWRkcmVzcyhHbG9iYWwuemVyb0FkZHJlc3MpLAogICAgLy8gICBhbW91bnQ6IG5ldyBhcmM0LlVpbnRONjQoYW1vdW50KSwKICAgIC8vICAgc3RhdGU6IG5ldyBhcmM0LlVpbnRONjQoQ1JFQVRFRCksCiAgICAvLyAgIGNyZWF0ZWRBdDogbmV3IGFyYzQuVWludE42NChHbG9iYWwubGF0ZXN0VGltZXN0YW1wKSwKICAgIC8vIAogICAgLy8gICBpbnN0cnVtZW50QXNzZXRJZDogbmV3IGFyYzQuVWludE42NCgwKSwKICAgIC8vICAgaW5zdHJ1bWVudFR5cGU6IG5ldyBhcmM0LlVpbnRONjQoMCksCiAgICAvLyAgIGluc3RydW1lbnRWYWx1ZTogbmV3IGFyYzQuVWludE42NCgwKSwKICAgIC8vIAogICAgLy8gICByZWd1bGF0b3JXYWxsZXQ6IG5ldyBhcmM0LkFkZHJlc3MoR2xvYmFsLnplcm9BZGRyZXNzKSwKICAgIC8vICAgcmVndWxhdG9yVGF4UGFpZDogbmV3IGFyYzQuVWludE42NCgwKSwKICAgIC8vICAgcmVndWxhdG9yUmVmdW5kRHVlOiBuZXcgYXJjNC5VaW50TjY0KDApLAogICAgLy8gCiAgICAvLyAgIG1hcmtldHBsYWNlRmVlOiBuZXcgYXJjNC5VaW50TjY0KDApCiAgICAvLyB9KQogICAgY29uY2F0CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXRvbWljX21hcmtldHBsYWNlX2VzY3Jvd192NC9BdG9taWNNYXJrZXRwbGFjZUVzY3Jvd1Y0LmFsZ28udHM6Mjc0CiAgICAvLyBwcm9kdWN0VHlwZTogbmV3IGFyYzQuU3RyKHByb2R1Y3RUeXBlKSwKICAgIGZyYW1lX2RpZyAtMwogICAgbGVuCiAgICBpdG9iCiAgICBleHRyYWN0IDYgMgogICAgZnJhbWVfZGlnIC0zCiAgICBjb25jYXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdG9taWNfbWFya2V0cGxhY2VfZXNjcm93X3Y0L0F0b21pY01hcmtldHBsYWNlRXNjcm93VjQuYWxnby50czoyNzUKICAgIC8vIGRlc2NyaXB0aW9uOiBuZXcgYXJjNC5TdHIoZGVzY3JpcHRpb24pLAogICAgZnJhbWVfZGlnIC0yCiAgICBsZW4KICAgIGl0b2IKICAgIGV4dHJhY3QgNiAyCiAgICBmcmFtZV9kaWcgLTIKICAgIGNvbmNhdAogICAgLy8gc21hcnRfY29udHJhY3RzL2F0b21pY19tYXJrZXRwbGFjZV9lc2Nyb3dfdjQvQXRvbWljTWFya2V0cGxhY2VFc2Nyb3dWNC5hbGdvLnRzOjI3NgogICAgLy8gaXBmc0hhc2g6IG5ldyBhcmM0LlN0cihpcGZzSGFzaCksCiAgICBmcmFtZV9kaWcgLTEKICAgIGxlbgogICAgaXRvYgogICAgZXh0cmFjdCA2IDIKICAgIGZyYW1lX2RpZyAtMQogICAgY29uY2F0CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXRvbWljX21hcmtldHBsYWNlX2VzY3Jvd192NC9BdG9taWNNYXJrZXRwbGFjZUVzY3Jvd1Y0LmFsZ28udHM6MjczLTI4MAogICAgLy8gY29uc3QgbWV0YSA9IG5ldyBUcmFkZU1ldGFkYXRhKHsKICAgIC8vICAgcHJvZHVjdFR5cGU6IG5ldyBhcmM0LlN0cihwcm9kdWN0VHlwZSksCiAgICAvLyAgIGRlc2NyaXB0aW9uOiBuZXcgYXJjNC5TdHIoZGVzY3JpcHRpb24pLAogICAgLy8gICBpcGZzSGFzaDogbmV3IGFyYzQuU3RyKGlwZnNIYXNoKSwKICAgIC8vICAgbGVpSWQ6IG5ldyBhcmM0LlN0cignJyksCiAgICAvLyAgIGxlaU5hbWU6IG5ldyBhcmM0LlN0cignJyksCiAgICAvLyAgIGluc3RydW1lbnROdW1iZXI6IG5ldyBhcmM0LlN0cignJykKICAgIC8vIH0pCiAgICBkaWcgMgogICAgbGVuCiAgICBwdXNoaW50IDEyIC8vIDEyCiAgICArCiAgICBkdXAKICAgIGl0b2IKICAgIGV4dHJhY3QgNiAyCiAgICBwdXNoYnl0ZXMgMHgwMDBjCiAgICBzd2FwCiAgICBjb25jYXQKICAgIGRpZyAzCiAgICBsZW4KICAgIHVuY292ZXIgMgogICAgKwogICAgZHVwCiAgICBpdG9iCiAgICBleHRyYWN0IDYgMgogICAgdW5jb3ZlciAyCiAgICBzd2FwCiAgICBjb25jYXQKICAgIGRpZyAyCiAgICBsZW4KICAgIHVuY292ZXIgMgogICAgKwogICAgZHVwCiAgICBpdG9iCiAgICBleHRyYWN0IDYgMgogICAgdW5jb3ZlciAyCiAgICBzd2FwCiAgICBjb25jYXQKICAgIHN3YXAKICAgIGludGNfMiAvLyAyCiAgICArCiAgICBkdXAKICAgIGl0b2IKICAgIGV4dHJhY3QgNiAyCiAgICB1bmNvdmVyIDIKICAgIHN3YXAKICAgIGNvbmNhdAogICAgc3dhcAogICAgaW50Y18yIC8vIDIKICAgICsKICAgIGl0b2IKICAgIGV4dHJhY3QgNiAyCiAgICBjb25jYXQKICAgIHVuY292ZXIgMwogICAgY29uY2F0CiAgICB1bmNvdmVyIDIKICAgIGNvbmNhdAogICAgc3dhcAogICAgY29uY2F0CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXRvbWljX21hcmtldHBsYWNlX2VzY3Jvd192NC9BdG9taWNNYXJrZXRwbGFjZUVzY3Jvd1Y0LmFsZ28udHM6Mjc3CiAgICAvLyBsZWlJZDogbmV3IGFyYzQuU3RyKCcnKSwKICAgIGJ5dGVjIDkgLy8gMHgwMDAwCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXRvbWljX21hcmtldHBsYWNlX2VzY3Jvd192NC9BdG9taWNNYXJrZXRwbGFjZUVzY3Jvd1Y0LmFsZ28udHM6MjczLTI4MAogICAgLy8gY29uc3QgbWV0YSA9IG5ldyBUcmFkZU1ldGFkYXRhKHsKICAgIC8vICAgcHJvZHVjdFR5cGU6IG5ldyBhcmM0LlN0cihwcm9kdWN0VHlwZSksCiAgICAvLyAgIGRlc2NyaXB0aW9uOiBuZXcgYXJjNC5TdHIoZGVzY3JpcHRpb24pLAogICAgLy8gICBpcGZzSGFzaDogbmV3IGFyYzQuU3RyKGlwZnNIYXNoKSwKICAgIC8vICAgbGVpSWQ6IG5ldyBhcmM0LlN0cignJyksCiAgICAvLyAgIGxlaU5hbWU6IG5ldyBhcmM0LlN0cignJyksCiAgICAvLyAgIGluc3RydW1lbnROdW1iZXI6IG5ldyBhcmM0LlN0cignJykKICAgIC8vIH0pCiAgICBjb25jYXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdG9taWNfbWFya2V0cGxhY2VfZXNjcm93X3Y0L0F0b21pY01hcmtldHBsYWNlRXNjcm93VjQuYWxnby50czoyNzgKICAgIC8vIGxlaU5hbWU6IG5ldyBhcmM0LlN0cignJyksCiAgICBieXRlYyA5IC8vIDB4MDAwMAogICAgLy8gc21hcnRfY29udHJhY3RzL2F0b21pY19tYXJrZXRwbGFjZV9lc2Nyb3dfdjQvQXRvbWljTWFya2V0cGxhY2VFc2Nyb3dWNC5hbGdvLnRzOjI3My0yODAKICAgIC8vIGNvbnN0IG1ldGEgPSBuZXcgVHJhZGVNZXRhZGF0YSh7CiAgICAvLyAgIHByb2R1Y3RUeXBlOiBuZXcgYXJjNC5TdHIocHJvZHVjdFR5cGUpLAogICAgLy8gICBkZXNjcmlwdGlvbjogbmV3IGFyYzQuU3RyKGRlc2NyaXB0aW9uKSwKICAgIC8vICAgaXBmc0hhc2g6IG5ldyBhcmM0LlN0cihpcGZzSGFzaCksCiAgICAvLyAgIGxlaUlkOiBuZXcgYXJjNC5TdHIoJycpLAogICAgLy8gICBsZWlOYW1lOiBuZXcgYXJjNC5TdHIoJycpLAogICAgLy8gICBpbnN0cnVtZW50TnVtYmVyOiBuZXcgYXJjNC5TdHIoJycpCiAgICAvLyB9KQogICAgY29uY2F0CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXRvbWljX21hcmtldHBsYWNlX2VzY3Jvd192NC9BdG9taWNNYXJrZXRwbGFjZUVzY3Jvd1Y0LmFsZ28udHM6Mjc5CiAgICAvLyBpbnN0cnVtZW50TnVtYmVyOiBuZXcgYXJjNC5TdHIoJycpCiAgICBieXRlYyA5IC8vIDB4MDAwMAogICAgLy8gc21hcnRfY29udHJhY3RzL2F0b21pY19tYXJrZXRwbGFjZV9lc2Nyb3dfdjQvQXRvbWljTWFya2V0cGxhY2VFc2Nyb3dWNC5hbGdvLnRzOjI3My0yODAKICAgIC8vIGNvbnN0IG1ldGEgPSBuZXcgVHJhZGVNZXRhZGF0YSh7CiAgICAvLyAgIHByb2R1Y3RUeXBlOiBuZXcgYXJjNC5TdHIocHJvZHVjdFR5cGUpLAogICAgLy8gICBkZXNjcmlwdGlvbjogbmV3IGFyYzQuU3RyKGRlc2NyaXB0aW9uKSwKICAgIC8vICAgaXBmc0hhc2g6IG5ldyBhcmM0LlN0cihpcGZzSGFzaCksCiAgICAvLyAgIGxlaUlkOiBuZXcgYXJjNC5TdHIoJycpLAogICAgLy8gICBsZWlOYW1lOiBuZXcgYXJjNC5TdHIoJycpLAogICAgLy8gICBpbnN0cnVtZW50TnVtYmVyOiBuZXcgYXJjNC5TdHIoJycpCiAgICAvLyB9KQogICAgY29uY2F0CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXRvbWljX21hcmtldHBsYWNlX2VzY3Jvd192NC9BdG9taWNNYXJrZXRwbGFjZUVzY3Jvd1Y0LmFsZ28udHM6ODgKICAgIC8vIHB1YmxpYyB0cmFkZXMgPSBCb3hNYXA8dWludDY0LCBUcmFkZUVzY3Jvdz4oeyBrZXlQcmVmaXg6ICd0cmFkZXMnIH0pCiAgICBieXRlY18zIC8vICJ0cmFkZXMiCiAgICBkaWcgMwogICAgY29uY2F0CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXRvbWljX21hcmtldHBsYWNlX2VzY3Jvd192NC9BdG9taWNNYXJrZXRwbGFjZUVzY3Jvd1Y0LmFsZ28udHM6MjgzCiAgICAvLyB0aGlzLnRyYWRlcyh0cmFkZUlkKS52YWx1ZSA9IHRyYWRlLmNvcHkoKQogICAgdW5jb3ZlciAyCiAgICBib3hfcHV0CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXRvbWljX21hcmtldHBsYWNlX2VzY3Jvd192NC9BdG9taWNNYXJrZXRwbGFjZUVzY3Jvd1Y0LmFsZ28udHM6ODkKICAgIC8vIHB1YmxpYyBtZXRhZGF0YSA9IEJveE1hcDx1aW50NjQsIFRyYWRlTWV0YWRhdGE+KHsga2V5UHJlZml4OiAnbWV0YWRhdGEnIH0pCiAgICBieXRlYyAxMCAvLyAibWV0YWRhdGEiCiAgICB1bmNvdmVyIDIKICAgIGNvbmNhdAogICAgLy8gc21hcnRfY29udHJhY3RzL2F0b21pY19tYXJrZXRwbGFjZV9lc2Nyb3dfdjQvQXRvbWljTWFya2V0cGxhY2VFc2Nyb3dWNC5hbGdvLnRzOjI4NAogICAgLy8gdGhpcy5tZXRhZGF0YSh0cmFkZUlkKS52YWx1ZSA9IG1ldGEuY29weSgpCiAgICBkdXAKICAgIGJveF9kZWwKICAgIHBvcAogICAgc3dhcAogICAgYm94X3B1dAogICAgLy8gc21hcnRfY29udHJhY3RzL2F0b21pY19tYXJrZXRwbGFjZV9lc2Nyb3dfdjQvQXRvbWljTWFya2V0cGxhY2VFc2Nyb3dWNC5hbGdvLnRzOjk0CiAgICAvLyBwdWJsaWMgYnV5ZXJUcmFkZXMgPSBCb3hNYXA8YXJjNC5BZGRyZXNzLCBhcmM0LkR5bmFtaWNBcnJheTxhcmM0LlVpbnRONjQ+Pih7IGtleVByZWZpeDogJ2J1eWVyJyB9KQogICAgYnl0ZWMgMTMgLy8gImJ1eWVyIgogICAgLy8gc21hcnRfY29udHJhY3RzL2F0b21pY19tYXJrZXRwbGFjZV9lc2Nyb3dfdjQvQXRvbWljTWFya2V0cGxhY2VFc2Nyb3dWNC5hbGdvLnRzOjI4NwogICAgLy8gdGhpcy5hZGRUb0J1eWVyVHJhZGVzKG5ldyBhcmM0LkFkZHJlc3MoVHhuLnNlbmRlciksIHRyYWRlSWQpCiAgICB0eG4gU2VuZGVyCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXRvbWljX21hcmtldHBsYWNlX2VzY3Jvd192NC9BdG9taWNNYXJrZXRwbGFjZUVzY3Jvd1Y0LmFsZ28udHM6OTQKICAgIC8vIHB1YmxpYyBidXllclRyYWRlcyA9IEJveE1hcDxhcmM0LkFkZHJlc3MsIGFyYzQuRHluYW1pY0FycmF5PGFyYzQuVWludE42ND4+KHsga2V5UHJlZml4OiAnYnV5ZXInIH0pCiAgICBjb25jYXQKICAgIGR1cAogICAgZnJhbWVfYnVyeSAwCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXRvbWljX21hcmtldHBsYWNlX2VzY3Jvd192NC9BdG9taWNNYXJrZXRwbGFjZUVzY3Jvd1Y0LmFsZ28udHM6NzQ0CiAgICAvLyBpZiAodGhpcy5idXllclRyYWRlcyhidXllcikuZXhpc3RzKSB7CiAgICBib3hfbGVuCiAgICBidXJ5IDEKICAgIGJ6IGNyZWF0ZVRyYWRlX2Vsc2VfYm9keUA1CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXRvbWljX21hcmtldHBsYWNlX2VzY3Jvd192NC9BdG9taWNNYXJrZXRwbGFjZUVzY3Jvd1Y0LmFsZ28udHM6NzQ1CiAgICAvLyBjb25zdCB0cmFkZXMgPSB0aGlzLmJ1eWVyVHJhZGVzKGJ1eWVyKS52YWx1ZS5jb3B5KCkKICAgIGZyYW1lX2RpZyAwCiAgICBkdXAKICAgIGJveF9nZXQKICAgIGFzc2VydCAvLyBCb3ggbXVzdCBoYXZlIHZhbHVlCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXRvbWljX21hcmtldHBsYWNlX2VzY3Jvd192NC9BdG9taWNNYXJrZXRwbGFjZUVzY3Jvd1Y0LmFsZ28udHM6NzQ2CiAgICAvLyB0cmFkZXMucHVzaChuZXcgYXJjNC5VaW50TjY0KHRyYWRlSWQpKQogICAgZXh0cmFjdCAyIDAKICAgIGZyYW1lX2RpZyAxCiAgICBjb25jYXQKICAgIGR1cAogICAgbGVuCiAgICBwdXNoaW50IDggLy8gOAogICAgLwogICAgaXRvYgogICAgZXh0cmFjdCA2IDIKICAgIHN3YXAKICAgIGNvbmNhdAogICAgLy8gc21hcnRfY29udHJhY3RzL2F0b21pY19tYXJrZXRwbGFjZV9lc2Nyb3dfdjQvQXRvbWljTWFya2V0cGxhY2VFc2Nyb3dWNC5hbGdvLnRzOjc0NwogICAgLy8gdGhpcy5idXllclRyYWRlcyhidXllcikudmFsdWUgPSB0cmFkZXMuY29weSgpCiAgICBkaWcgMQogICAgYm94X2RlbAogICAgcG9wCiAgICBib3hfcHV0CgpjcmVhdGVUcmFkZV9hZnRlcl9pZl9lbHNlQDY6CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXRvbWljX21hcmtldHBsYWNlX2VzY3Jvd192NC9BdG9taWNNYXJrZXRwbGFjZUVzY3Jvd1Y0LmFsZ28udHM6OTUKICAgIC8vIHB1YmxpYyBzZWxsZXJUcmFkZXMgPSBCb3hNYXA8YXJjNC5BZGRyZXNzLCBhcmM0LkR5bmFtaWNBcnJheTxhcmM0LlVpbnRONjQ+Pih7IGtleVByZWZpeDogJ3NlbGxlcicgfSkKICAgIGJ5dGVjIDE0IC8vICJzZWxsZXIiCiAgICBmcmFtZV9kaWcgLTUKICAgIGNvbmNhdAogICAgZHVwCiAgICBmcmFtZV9idXJ5IDAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdG9taWNfbWFya2V0cGxhY2VfZXNjcm93X3Y0L0F0b21pY01hcmtldHBsYWNlRXNjcm93VjQuYWxnby50czo3NTYKICAgIC8vIGlmICh0aGlzLnNlbGxlclRyYWRlcyhzZWxsZXIpLmV4aXN0cykgewogICAgYm94X2xlbgogICAgYnVyeSAxCiAgICBieiBjcmVhdGVUcmFkZV9lbHNlX2JvZHlAMTAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdG9taWNfbWFya2V0cGxhY2VfZXNjcm93X3Y0L0F0b21pY01hcmtldHBsYWNlRXNjcm93VjQuYWxnby50czo3NTcKICAgIC8vIGNvbnN0IHRyYWRlcyA9IHRoaXMuc2VsbGVyVHJhZGVzKHNlbGxlcikudmFsdWUuY29weSgpCiAgICBmcmFtZV9kaWcgMAogICAgZHVwCiAgICBib3hfZ2V0CiAgICBhc3NlcnQgLy8gQm94IG11c3QgaGF2ZSB2YWx1ZQogICAgLy8gc21hcnRfY29udHJhY3RzL2F0b21pY19tYXJrZXRwbGFjZV9lc2Nyb3dfdjQvQXRvbWljTWFya2V0cGxhY2VFc2Nyb3dWNC5hbGdvLnRzOjc1OAogICAgLy8gdHJhZGVzLnB1c2gobmV3IGFyYzQuVWludE42NCh0cmFkZUlkKSkKICAgIGV4dHJhY3QgMiAwCiAgICBmcmFtZV9kaWcgMQogICAgY29uY2F0CiAgICBkdXAKICAgIGxlbgogICAgcHVzaGludCA4IC8vIDgKICAgIC8KICAgIGl0b2IKICAgIGV4dHJhY3QgNiAyCiAgICBzd2FwCiAgICBjb25jYXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdG9taWNfbWFya2V0cGxhY2VfZXNjcm93X3Y0L0F0b21pY01hcmtldHBsYWNlRXNjcm93VjQuYWxnby50czo3NTkKICAgIC8vIHRoaXMuc2VsbGVyVHJhZGVzKHNlbGxlcikudmFsdWUgPSB0cmFkZXMuY29weSgpCiAgICBkaWcgMQogICAgYm94X2RlbAogICAgcG9wCiAgICBib3hfcHV0CgpjcmVhdGVUcmFkZV9hZnRlcl9pZl9lbHNlQDExOgogICAgLy8gc21hcnRfY29udHJhY3RzL2F0b21pY19tYXJrZXRwbGFjZV9lc2Nyb3dfdjQvQXRvbWljTWFya2V0cGxhY2VFc2Nyb3dWNC5hbGdvLnRzOjI5MwogICAgLy8gdGhpcy5uZXh0VHJhZGVJZC52YWx1ZSA9IHRyYWRlSWQgKyAxCiAgICBmcmFtZV9kaWcgMgogICAgZHVwCiAgICBpbnRjXzAgLy8gMQogICAgKwogICAgLy8gc21hcnRfY29udHJhY3RzL2F0b21pY19tYXJrZXRwbGFjZV9lc2Nyb3dfdjQvQXRvbWljTWFya2V0cGxhY2VFc2Nyb3dWNC5hbGdvLnRzOjEwMAogICAgLy8gcHVibGljIG5leHRUcmFkZUlkID0gR2xvYmFsU3RhdGU8dWludDY0PigpCiAgICBieXRlYyA2IC8vICJuZXh0VHJhZGVJZCIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdG9taWNfbWFya2V0cGxhY2VfZXNjcm93X3Y0L0F0b21pY01hcmtldHBsYWNlRXNjcm93VjQuYWxnby50czoyOTMKICAgIC8vIHRoaXMubmV4dFRyYWRlSWQudmFsdWUgPSB0cmFkZUlkICsgMQogICAgc3dhcAogICAgYXBwX2dsb2JhbF9wdXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdG9taWNfbWFya2V0cGxhY2VfZXNjcm93X3Y0L0F0b21pY01hcmtldHBsYWNlRXNjcm93VjQuYWxnby50czoyOTUKICAgIC8vIHJldHVybiB0cmFkZUlkCiAgICBmcmFtZV9idXJ5IDAKICAgIHJldHN1YgoKY3JlYXRlVHJhZGVfZWxzZV9ib2R5QDEwOgogICAgLy8gc21hcnRfY29udHJhY3RzL2F0b21pY19tYXJrZXRwbGFjZV9lc2Nyb3dfdjQvQXRvbWljTWFya2V0cGxhY2VFc2Nyb3dWNC5hbGdvLnRzOjc2MgogICAgLy8gdHJhZGVzLnB1c2gobmV3IGFyYzQuVWludE42NCh0cmFkZUlkKSkKICAgIGJ5dGVjIDE1IC8vIDB4MDAwMQogICAgZnJhbWVfZGlnIDEKICAgIGNvbmNhdAogICAgLy8gc21hcnRfY29udHJhY3RzL2F0b21pY19tYXJrZXRwbGFjZV9lc2Nyb3dfdjQvQXRvbWljTWFya2V0cGxhY2VFc2Nyb3dWNC5hbGdvLnRzOjc2MwogICAgLy8gdGhpcy5zZWxsZXJUcmFkZXMoc2VsbGVyKS52YWx1ZSA9IHRyYWRlcy5jb3B5KCkKICAgIGZyYW1lX2RpZyAwCiAgICBkdXAKICAgIGJveF9kZWwKICAgIHBvcAogICAgc3dhcAogICAgYm94X3B1dAogICAgYiBjcmVhdGVUcmFkZV9hZnRlcl9pZl9lbHNlQDExCgpjcmVhdGVUcmFkZV9lbHNlX2JvZHlANToKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdG9taWNfbWFya2V0cGxhY2VfZXNjcm93X3Y0L0F0b21pY01hcmtldHBsYWNlRXNjcm93VjQuYWxnby50czo3NTAKICAgIC8vIHRyYWRlcy5wdXNoKG5ldyBhcmM0LlVpbnRONjQodHJhZGVJZCkpCiAgICBieXRlYyAxNSAvLyAweDAwMDEKICAgIGZyYW1lX2RpZyAxCiAgICBjb25jYXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdG9taWNfbWFya2V0cGxhY2VfZXNjcm93X3Y0L0F0b21pY01hcmtldHBsYWNlRXNjcm93VjQuYWxnby50czo3NTEKICAgIC8vIHRoaXMuYnV5ZXJUcmFkZXMoYnV5ZXIpLnZhbHVlID0gdHJhZGVzLmNvcHkoKQogICAgZnJhbWVfZGlnIDAKICAgIGR1cAogICAgYm94X2RlbAogICAgcG9wCiAgICBzd2FwCiAgICBib3hfcHV0CiAgICBiIGNyZWF0ZVRyYWRlX2FmdGVyX2lmX2Vsc2VANgoKCi8vIHNtYXJ0X2NvbnRyYWN0cy9hdG9taWNfbWFya2V0cGxhY2VfZXNjcm93X3Y0L0F0b21pY01hcmtldHBsYWNlRXNjcm93VjQuYWxnby50czo6QXRvbWljTWFya2V0cGxhY2VFc2Nyb3dWNC5lc2Nyb3dUcmFkZShwYXltZW50VHhuOiB1aW50NjQsIHRyYWRlSWQ6IHVpbnQ2NCkgLT4gdWludDY0Ogplc2Nyb3dUcmFkZToKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdG9taWNfbWFya2V0cGxhY2VfZXNjcm93X3Y0L0F0b21pY01hcmtldHBsYWNlRXNjcm93VjQuYWxnby50czozMDUtMzA2CiAgICAvLyBAYWJpbWV0aG9kKCkKICAgIC8vIHB1YmxpYyBlc2Nyb3dUcmFkZShwYXltZW50VHhuOiBndHhuLlBheW1lbnRUeG4sIHRyYWRlSWQ6IHVpbnQ2NCk6IGJvb2xlYW4gewogICAgcHJvdG8gMiAxCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXRvbWljX21hcmtldHBsYWNlX2VzY3Jvd192NC9BdG9taWNNYXJrZXRwbGFjZUVzY3Jvd1Y0LmFsZ28udHM6MzA3CiAgICAvLyBjb25zdCB0cmFkZSA9IHRoaXMudHJhZGVzKHRyYWRlSWQpLnZhbHVlLmNvcHkoKQogICAgZnJhbWVfZGlnIC0xCiAgICBpdG9iCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXRvbWljX21hcmtldHBsYWNlX2VzY3Jvd192NC9BdG9taWNNYXJrZXRwbGFjZUVzY3Jvd1Y0LmFsZ28udHM6ODgKICAgIC8vIHB1YmxpYyB0cmFkZXMgPSBCb3hNYXA8dWludDY0LCBUcmFkZUVzY3Jvdz4oeyBrZXlQcmVmaXg6ICd0cmFkZXMnIH0pCiAgICBieXRlY18zIC8vICJ0cmFkZXMiCiAgICBzd2FwCiAgICBjb25jYXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdG9taWNfbWFya2V0cGxhY2VfZXNjcm93X3Y0L0F0b21pY01hcmtldHBsYWNlRXNjcm93VjQuYWxnby50czozMDcKICAgIC8vIGNvbnN0IHRyYWRlID0gdGhpcy50cmFkZXModHJhZGVJZCkudmFsdWUuY29weSgpCiAgICBkdXAKICAgIGJveF9nZXQKICAgIGFzc2VydCAvLyBCb3ggbXVzdCBoYXZlIHZhbHVlCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXRvbWljX21hcmtldHBsYWNlX2VzY3Jvd192NC9BdG9taWNNYXJrZXRwbGFjZUVzY3Jvd1Y0LmFsZ28udHM6MzA4CiAgICAvLyBhc3NlcnQodHJhZGUuc3RhdGUubmF0aXZlID09PSBDUkVBVEVELCAnVHJhZGUgbm90IGluIENSRUFURUQgc3RhdGUnKQogICAgZHVwCiAgICBwdXNoaW50IDExMiAvLyAxMTIKICAgIGV4dHJhY3RfdWludDY0CiAgICAhCiAgICBhc3NlcnQgLy8gVHJhZGUgbm90IGluIENSRUFURUQgc3RhdGUKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdG9taWNfbWFya2V0cGxhY2VfZXNjcm93X3Y0L0F0b21pY01hcmtldHBsYWNlRXNjcm93VjQuYWxnby50czozMDkKICAgIC8vIGFzc2VydCh0cmFkZS5idXllci5ieXRlcyA9PT0gVHhuLnNlbmRlci5ieXRlcywgJ09ubHkgYnV5ZXIgY2FuIGVzY3JvdycpCiAgICBkdXAKICAgIGV4dHJhY3QgOCAzMiAvLyBvbiBlcnJvcjogSW5kZXggYWNjZXNzIGlzIG91dCBvZiBib3VuZHMKICAgIHR4biBTZW5kZXIKICAgID09CiAgICBhc3NlcnQgLy8gT25seSBidXllciBjYW4gZXNjcm93CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXRvbWljX21hcmtldHBsYWNlX2VzY3Jvd192NC9BdG9taWNNYXJrZXRwbGFjZUVzY3Jvd1Y0LmFsZ28udHM6MzExCiAgICAvLyBjb25zdCBtYXJrZXRwbGFjZUZlZTogdWludDY0ID0gKHRyYWRlLmFtb3VudC5uYXRpdmUgKiB0aGlzLm1hcmtldHBsYWNlRmVlUmF0ZS52YWx1ZSkgLyAxMDAwMAogICAgZHVwCiAgICBwdXNoaW50IDEwNCAvLyAxMDQKICAgIGV4dHJhY3RfdWludDY0CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXRvbWljX21hcmtldHBsYWNlX2VzY3Jvd192NC9BdG9taWNNYXJrZXRwbGFjZUVzY3Jvd1Y0LmFsZ28udHM6MTA5CiAgICAvLyBwdWJsaWMgbWFya2V0cGxhY2VGZWVSYXRlID0gR2xvYmFsU3RhdGU8dWludDY0PigpCiAgICBpbnRjXzEgLy8gMAogICAgYnl0ZWMgNCAvLyAibWFya2V0cGxhY2VGZWVSYXRlIgogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIGFzc2VydCAvLyBjaGVjayBHbG9iYWxTdGF0ZSBleGlzdHMKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdG9taWNfbWFya2V0cGxhY2VfZXNjcm93X3Y0L0F0b21pY01hcmtldHBsYWNlRXNjcm93VjQuYWxnby50czozMTEKICAgIC8vIGNvbnN0IG1hcmtldHBsYWNlRmVlOiB1aW50NjQgPSAodHJhZGUuYW1vdW50Lm5hdGl2ZSAqIHRoaXMubWFya2V0cGxhY2VGZWVSYXRlLnZhbHVlKSAvIDEwMDAwCiAgICBkaWcgMQogICAgKgogICAgaW50Y18zIC8vIDEwMDAwCiAgICAvCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXRvbWljX21hcmtldHBsYWNlX2VzY3Jvd192NC9BdG9taWNNYXJrZXRwbGFjZUVzY3Jvd1Y0LmFsZ28udHM6MzEyCiAgICAvLyBjb25zdCB0b3RhbFJlcXVpcmVkOiB1aW50NjQgPSB0cmFkZS5hbW91bnQubmF0aXZlICsgbWFya2V0cGxhY2VGZWUKICAgIHN3YXAKICAgIGRpZyAxCiAgICArCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXRvbWljX21hcmtldHBsYWNlX2VzY3Jvd192NC9BdG9taWNNYXJrZXRwbGFjZUVzY3Jvd1Y0LmFsZ28udHM6MzE0CiAgICAvLyBhc3NlcnQoR2xvYmFsLmdyb3VwU2l6ZSA9PT0gMiwgJ011c3QgYmUgZ3JvdXAgdHJhbnNhY3Rpb24nKQogICAgZ2xvYmFsIEdyb3VwU2l6ZQogICAgaW50Y18yIC8vIDIKICAgID09CiAgICBhc3NlcnQgLy8gTXVzdCBiZSBncm91cCB0cmFuc2FjdGlvbgogICAgLy8gc21hcnRfY29udHJhY3RzL2F0b21pY19tYXJrZXRwbGFjZV9lc2Nyb3dfdjQvQXRvbWljTWFya2V0cGxhY2VFc2Nyb3dWNC5hbGdvLnRzOjEwMgogICAgLy8gcHVibGljIHNldHRsZW1lbnRDdXJyZW5jeSA9IEdsb2JhbFN0YXRlPHVpbnQ2ND4oKSAgLy8gMCA9IEFMR08sIEFTQSBJRCA9IHRoYXQgYXNzZXQKICAgIGludGNfMSAvLyAwCiAgICBieXRlY18xIC8vICJzZXR0bGVtZW50Q3VycmVuY3kiCiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIEdsb2JhbFN0YXRlIGV4aXN0cwogICAgLy8gc21hcnRfY29udHJhY3RzL2F0b21pY19tYXJrZXRwbGFjZV9lc2Nyb3dfdjQvQXRvbWljTWFya2V0cGxhY2VFc2Nyb3dWNC5hbGdvLnRzOjE3MAogICAgLy8gcmV0dXJuIHRoaXMuc2V0dGxlbWVudEN1cnJlbmN5LnZhbHVlID09PSAwCiAgICAhCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXRvbWljX21hcmtldHBsYWNlX2VzY3Jvd192NC9BdG9taWNNYXJrZXRwbGFjZUVzY3Jvd1Y0LmFsZ28udHM6MzE1CiAgICAvLyBhc3NlcnQodGhpcy5pc0FsZ29QYXltZW50KCksICdNdXN0IHVzZSBBTEdPIHBheW1lbnQgZm9yIHRoaXMgbWV0aG9kJykKICAgIGFzc2VydCAvLyBNdXN0IHVzZSBBTEdPIHBheW1lbnQgZm9yIHRoaXMgbWV0aG9kCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXRvbWljX21hcmtldHBsYWNlX2VzY3Jvd192NC9BdG9taWNNYXJrZXRwbGFjZUVzY3Jvd1Y0LmFsZ28udHM6MzE4CiAgICAvLyB0aGlzLnZlcmlmeVBheW1lbnRUeG4ocGF5bWVudFR4biwgdG90YWxSZXF1aXJlZCwgR2xvYmFsLmN1cnJlbnRBcHBsaWNhdGlvbkFkZHJlc3MuYnl0ZXMsIFR4bi5zZW5kZXIuYnl0ZXMpCiAgICBnbG9iYWwgQ3VycmVudEFwcGxpY2F0aW9uQWRkcmVzcwogICAgdHhuIFNlbmRlcgogICAgZnJhbWVfZGlnIC0yCiAgICBjb3ZlciAzCiAgICBjYWxsc3ViIHZlcmlmeVBheW1lbnRUeG4KICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdG9taWNfbWFya2V0cGxhY2VfZXNjcm93X3Y0L0F0b21pY01hcmtldHBsYWNlRXNjcm93VjQuYWxnby50czozMjAKICAgIC8vIHRyYWRlLmVzY3Jvd1Byb3ZpZGVyID0gbmV3IGFyYzQuQWRkcmVzcyhUeG4uc2VuZGVyKQogICAgdHhuIFNlbmRlcgogICAgdW5jb3ZlciAyCiAgICBzd2FwCiAgICByZXBsYWNlMiA3MgogICAgLy8gc21hcnRfY29udHJhY3RzL2F0b21pY19tYXJrZXRwbGFjZV9lc2Nyb3dfdjQvQXRvbWljTWFya2V0cGxhY2VFc2Nyb3dWNC5hbGdvLnRzOjMyMQogICAgLy8gdHJhZGUuc3RhdGUgPSBuZXcgYXJjNC5VaW50TjY0KEVTQ1JPV0VEKQogICAgYnl0ZWMgMTEgLy8gMHgwMDAwMDAwMDAwMDAwMDAxCiAgICByZXBsYWNlMiAxMTIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdG9taWNfbWFya2V0cGxhY2VfZXNjcm93X3Y0L0F0b21pY01hcmtldHBsYWNlRXNjcm93VjQuYWxnby50czozMjIKICAgIC8vIHRyYWRlLm1hcmtldHBsYWNlRmVlID0gbmV3IGFyYzQuVWludE42NChtYXJrZXRwbGFjZUZlZSkKICAgIHN3YXAKICAgIGl0b2IKICAgIHJlcGxhY2UyIDIwMAogICAgLy8gc21hcnRfY29udHJhY3RzL2F0b21pY19tYXJrZXRwbGFjZV9lc2Nyb3dfdjQvQXRvbWljTWFya2V0cGxhY2VFc2Nyb3dWNC5hbGdvLnRzOjMyNAogICAgLy8gdGhpcy50cmFkZXModHJhZGVJZCkudmFsdWUgPSB0cmFkZS5jb3B5KCkKICAgIGJveF9wdXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdG9taWNfbWFya2V0cGxhY2VfZXNjcm93X3Y0L0F0b21pY01hcmtldHBsYWNlRXNjcm93VjQuYWxnby50czozMjYKICAgIC8vIHJldHVybiB0cnVlCiAgICBpbnRjXzAgLy8gMQogICAgcmV0c3ViCgoKLy8gc21hcnRfY29udHJhY3RzL2F0b21pY19tYXJrZXRwbGFjZV9lc2Nyb3dfdjQvQXRvbWljTWFya2V0cGxhY2VFc2Nyb3dWNC5hbGdvLnRzOjpBdG9taWNNYXJrZXRwbGFjZUVzY3Jvd1Y0LmVzY3Jvd1RyYWRlV2l0aEFzc2V0KGFzc2V0VHhuOiB1aW50NjQsIHRyYWRlSWQ6IHVpbnQ2NCkgLT4gdWludDY0Ogplc2Nyb3dUcmFkZVdpdGhBc3NldDoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdG9taWNfbWFya2V0cGxhY2VfZXNjcm93X3Y0L0F0b21pY01hcmtldHBsYWNlRXNjcm93VjQuYWxnby50czozMzYtMzM3CiAgICAvLyBAYWJpbWV0aG9kKCkKICAgIC8vIHB1YmxpYyBlc2Nyb3dUcmFkZVdpdGhBc3NldChhc3NldFR4bjogZ3R4bi5Bc3NldFRyYW5zZmVyVHhuLCB0cmFkZUlkOiB1aW50NjQpOiBib29sZWFuIHsKICAgIHByb3RvIDIgMQogICAgLy8gc21hcnRfY29udHJhY3RzL2F0b21pY19tYXJrZXRwbGFjZV9lc2Nyb3dfdjQvQXRvbWljTWFya2V0cGxhY2VFc2Nyb3dWNC5hbGdvLnRzOjMzOAogICAgLy8gY29uc3QgdHJhZGUgPSB0aGlzLnRyYWRlcyh0cmFkZUlkKS52YWx1ZS5jb3B5KCkKICAgIGZyYW1lX2RpZyAtMQogICAgaXRvYgogICAgLy8gc21hcnRfY29udHJhY3RzL2F0b21pY19tYXJrZXRwbGFjZV9lc2Nyb3dfdjQvQXRvbWljTWFya2V0cGxhY2VFc2Nyb3dWNC5hbGdvLnRzOjg4CiAgICAvLyBwdWJsaWMgdHJhZGVzID0gQm94TWFwPHVpbnQ2NCwgVHJhZGVFc2Nyb3c+KHsga2V5UHJlZml4OiAndHJhZGVzJyB9KQogICAgYnl0ZWNfMyAvLyAidHJhZGVzIgogICAgc3dhcAogICAgY29uY2F0CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXRvbWljX21hcmtldHBsYWNlX2VzY3Jvd192NC9BdG9taWNNYXJrZXRwbGFjZUVzY3Jvd1Y0LmFsZ28udHM6MzM4CiAgICAvLyBjb25zdCB0cmFkZSA9IHRoaXMudHJhZGVzKHRyYWRlSWQpLnZhbHVlLmNvcHkoKQogICAgZHVwCiAgICBib3hfZ2V0CiAgICBhc3NlcnQgLy8gQm94IG11c3QgaGF2ZSB2YWx1ZQogICAgLy8gc21hcnRfY29udHJhY3RzL2F0b21pY19tYXJrZXRwbGFjZV9lc2Nyb3dfdjQvQXRvbWljTWFya2V0cGxhY2VFc2Nyb3dWNC5hbGdvLnRzOjMzOQogICAgLy8gYXNzZXJ0KHRyYWRlLnN0YXRlLm5hdGl2ZSA9PT0gQ1JFQVRFRCwgJ1RyYWRlIG5vdCBpbiBDUkVBVEVEIHN0YXRlJykKICAgIGR1cAogICAgcHVzaGludCAxMTIgLy8gMTEyCiAgICBleHRyYWN0X3VpbnQ2NAogICAgIQogICAgYXNzZXJ0IC8vIFRyYWRlIG5vdCBpbiBDUkVBVEVEIHN0YXRlCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXRvbWljX21hcmtldHBsYWNlX2VzY3Jvd192NC9BdG9taWNNYXJrZXRwbGFjZUVzY3Jvd1Y0LmFsZ28udHM6MzQwCiAgICAvLyBhc3NlcnQodHJhZGUuYnV5ZXIuYnl0ZXMgPT09IFR4bi5zZW5kZXIuYnl0ZXMsICdPbmx5IGJ1eWVyIGNhbiBlc2Nyb3cnKQogICAgZHVwCiAgICBleHRyYWN0IDggMzIgLy8gb24gZXJyb3I6IEluZGV4IGFjY2VzcyBpcyBvdXQgb2YgYm91bmRzCiAgICB0eG4gU2VuZGVyCiAgICA9PQogICAgYXNzZXJ0IC8vIE9ubHkgYnV5ZXIgY2FuIGVzY3JvdwogICAgLy8gc21hcnRfY29udHJhY3RzL2F0b21pY19tYXJrZXRwbGFjZV9lc2Nyb3dfdjQvQXRvbWljTWFya2V0cGxhY2VFc2Nyb3dWNC5hbGdvLnRzOjM0MgogICAgLy8gY29uc3QgbWFya2V0cGxhY2VGZWU6IHVpbnQ2NCA9ICh0cmFkZS5hbW91bnQubmF0aXZlICogdGhpcy5tYXJrZXRwbGFjZUZlZVJhdGUudmFsdWUpIC8gMTAwMDAKICAgIGR1cAogICAgcHVzaGludCAxMDQgLy8gMTA0CiAgICBleHRyYWN0X3VpbnQ2NAogICAgLy8gc21hcnRfY29udHJhY3RzL2F0b21pY19tYXJrZXRwbGFjZV9lc2Nyb3dfdjQvQXRvbWljTWFya2V0cGxhY2VFc2Nyb3dWNC5hbGdvLnRzOjEwOQogICAgLy8gcHVibGljIG1hcmtldHBsYWNlRmVlUmF0ZSA9IEdsb2JhbFN0YXRlPHVpbnQ2ND4oKQogICAgaW50Y18xIC8vIDAKICAgIGJ5dGVjIDQgLy8gIm1hcmtldHBsYWNlRmVlUmF0ZSIKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgR2xvYmFsU3RhdGUgZXhpc3RzCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXRvbWljX21hcmtldHBsYWNlX2VzY3Jvd192NC9BdG9taWNNYXJrZXRwbGFjZUVzY3Jvd1Y0LmFsZ28udHM6MzQyCiAgICAvLyBjb25zdCBtYXJrZXRwbGFjZUZlZTogdWludDY0ID0gKHRyYWRlLmFtb3VudC5uYXRpdmUgKiB0aGlzLm1hcmtldHBsYWNlRmVlUmF0ZS52YWx1ZSkgLyAxMDAwMAogICAgZGlnIDEKICAgICoKICAgIGludGNfMyAvLyAxMDAwMAogICAgLwogICAgLy8gc21hcnRfY29udHJhY3RzL2F0b21pY19tYXJrZXRwbGFjZV9lc2Nyb3dfdjQvQXRvbWljTWFya2V0cGxhY2VFc2Nyb3dWNC5hbGdvLnRzOjM0MwogICAgLy8gY29uc3QgdG90YWxSZXF1aXJlZDogdWludDY0ID0gdHJhZGUuYW1vdW50Lm5hdGl2ZSArIG1hcmtldHBsYWNlRmVlCiAgICBzd2FwCiAgICBkaWcgMQogICAgKwogICAgLy8gc21hcnRfY29udHJhY3RzL2F0b21pY19tYXJrZXRwbGFjZV9lc2Nyb3dfdjQvQXRvbWljTWFya2V0cGxhY2VFc2Nyb3dWNC5hbGdvLnRzOjM0NQogICAgLy8gYXNzZXJ0KEdsb2JhbC5ncm91cFNpemUgPT09IDIsICdNdXN0IGJlIGdyb3VwIHRyYW5zYWN0aW9uJykKICAgIGdsb2JhbCBHcm91cFNpemUKICAgIGludGNfMiAvLyAyCiAgICA9PQogICAgYXNzZXJ0IC8vIE11c3QgYmUgZ3JvdXAgdHJhbnNhY3Rpb24KICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdG9taWNfbWFya2V0cGxhY2VfZXNjcm93X3Y0L0F0b21pY01hcmtldHBsYWNlRXNjcm93VjQuYWxnby50czoxMDIKICAgIC8vIHB1YmxpYyBzZXR0bGVtZW50Q3VycmVuY3kgPSBHbG9iYWxTdGF0ZTx1aW50NjQ+KCkgIC8vIDAgPSBBTEdPLCBBU0EgSUQgPSB0aGF0IGFzc2V0CiAgICBpbnRjXzEgLy8gMAogICAgYnl0ZWNfMSAvLyAic2V0dGxlbWVudEN1cnJlbmN5IgogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIGFzc2VydCAvLyBjaGVjayBHbG9iYWxTdGF0ZSBleGlzdHMKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdG9taWNfbWFya2V0cGxhY2VfZXNjcm93X3Y0L0F0b21pY01hcmtldHBsYWNlRXNjcm93VjQuYWxnby50czoxNzAKICAgIC8vIHJldHVybiB0aGlzLnNldHRsZW1lbnRDdXJyZW5jeS52YWx1ZSA9PT0gMAogICAgIQogICAgLy8gc21hcnRfY29udHJhY3RzL2F0b21pY19tYXJrZXRwbGFjZV9lc2Nyb3dfdjQvQXRvbWljTWFya2V0cGxhY2VFc2Nyb3dWNC5hbGdvLnRzOjM0NgogICAgLy8gYXNzZXJ0KCF0aGlzLmlzQWxnb1BheW1lbnQoKSwgJ011c3QgdXNlIEFTQSBwYXltZW50IGZvciB0aGlzIG1ldGhvZCcpCiAgICAhCiAgICBhc3NlcnQgLy8gTXVzdCB1c2UgQVNBIHBheW1lbnQgZm9yIHRoaXMgbWV0aG9kCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXRvbWljX21hcmtldHBsYWNlX2VzY3Jvd192NC9BdG9taWNNYXJrZXRwbGFjZUVzY3Jvd1Y0LmFsZ28udHM6MzQ5CiAgICAvLyB0aGlzLnZlcmlmeUFzc2V0VHJhbnNmZXJUeG4oYXNzZXRUeG4sIHRvdGFsUmVxdWlyZWQsIEdsb2JhbC5jdXJyZW50QXBwbGljYXRpb25BZGRyZXNzLmJ5dGVzLCBUeG4uc2VuZGVyLmJ5dGVzKQogICAgZ2xvYmFsIEN1cnJlbnRBcHBsaWNhdGlvbkFkZHJlc3MKICAgIHR4biBTZW5kZXIKICAgIGZyYW1lX2RpZyAtMgogICAgY292ZXIgMwogICAgY2FsbHN1YiB2ZXJpZnlBc3NldFRyYW5zZmVyVHhuCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXRvbWljX21hcmtldHBsYWNlX2VzY3Jvd192NC9BdG9taWNNYXJrZXRwbGFjZUVzY3Jvd1Y0LmFsZ28udHM6MzUxCiAgICAvLyB0cmFkZS5lc2Nyb3dQcm92aWRlciA9IG5ldyBhcmM0LkFkZHJlc3MoVHhuLnNlbmRlcikKICAgIHR4biBTZW5kZXIKICAgIHVuY292ZXIgMgogICAgc3dhcAogICAgcmVwbGFjZTIgNzIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdG9taWNfbWFya2V0cGxhY2VfZXNjcm93X3Y0L0F0b21pY01hcmtldHBsYWNlRXNjcm93VjQuYWxnby50czozNTIKICAgIC8vIHRyYWRlLnN0YXRlID0gbmV3IGFyYzQuVWludE42NChFU0NST1dFRCkKICAgIGJ5dGVjIDExIC8vIDB4MDAwMDAwMDAwMDAwMDAwMQogICAgcmVwbGFjZTIgMTEyCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXRvbWljX21hcmtldHBsYWNlX2VzY3Jvd192NC9BdG9taWNNYXJrZXRwbGFjZUVzY3Jvd1Y0LmFsZ28udHM6MzUzCiAgICAvLyB0cmFkZS5tYXJrZXRwbGFjZUZlZSA9IG5ldyBhcmM0LlVpbnRONjQobWFya2V0cGxhY2VGZWUpCiAgICBzd2FwCiAgICBpdG9iCiAgICByZXBsYWNlMiAyMDAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdG9taWNfbWFya2V0cGxhY2VfZXNjcm93X3Y0L0F0b21pY01hcmtldHBsYWNlRXNjcm93VjQuYWxnby50czozNTUKICAgIC8vIHRoaXMudHJhZGVzKHRyYWRlSWQpLnZhbHVlID0gdHJhZGUuY29weSgpCiAgICBib3hfcHV0CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXRvbWljX21hcmtldHBsYWNlX2VzY3Jvd192NC9BdG9taWNNYXJrZXRwbGFjZUVzY3Jvd1Y0LmFsZ28udHM6MzU3CiAgICAvLyByZXR1cm4gdHJ1ZQogICAgaW50Y18wIC8vIDEKICAgIHJldHN1YgoKCi8vIHNtYXJ0X2NvbnRyYWN0cy9hdG9taWNfbWFya2V0cGxhY2VfZXNjcm93X3Y0L0F0b21pY01hcmtldHBsYWNlRXNjcm93VjQuYWxnby50czo6QXRvbWljTWFya2V0cGxhY2VFc2Nyb3dWNC5lc2Nyb3dUcmFkZUFzRmluYW5jaWVyKHBheW1lbnRUeG46IHVpbnQ2NCwgdHJhZGVJZDogdWludDY0KSAtPiB1aW50NjQ6CmVzY3Jvd1RyYWRlQXNGaW5hbmNpZXI6CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXRvbWljX21hcmtldHBsYWNlX2VzY3Jvd192NC9BdG9taWNNYXJrZXRwbGFjZUVzY3Jvd1Y0LmFsZ28udHM6MzY3LTM2OAogICAgLy8gQGFiaW1ldGhvZCgpCiAgICAvLyBwdWJsaWMgZXNjcm93VHJhZGVBc0ZpbmFuY2llcihwYXltZW50VHhuOiBndHhuLlBheW1lbnRUeG4sIHRyYWRlSWQ6IHVpbnQ2NCk6IGJvb2xlYW4gewogICAgcHJvdG8gMiAxCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXRvbWljX21hcmtldHBsYWNlX2VzY3Jvd192NC9BdG9taWNNYXJrZXRwbGFjZUVzY3Jvd1Y0LmFsZ28udHM6MzY5CiAgICAvLyBjb25zdCB0cmFkZSA9IHRoaXMudHJhZGVzKHRyYWRlSWQpLnZhbHVlLmNvcHkoKQogICAgZnJhbWVfZGlnIC0xCiAgICBpdG9iCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXRvbWljX21hcmtldHBsYWNlX2VzY3Jvd192NC9BdG9taWNNYXJrZXRwbGFjZUVzY3Jvd1Y0LmFsZ28udHM6ODgKICAgIC8vIHB1YmxpYyB0cmFkZXMgPSBCb3hNYXA8dWludDY0LCBUcmFkZUVzY3Jvdz4oeyBrZXlQcmVmaXg6ICd0cmFkZXMnIH0pCiAgICBieXRlY18zIC8vICJ0cmFkZXMiCiAgICBzd2FwCiAgICBjb25jYXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdG9taWNfbWFya2V0cGxhY2VfZXNjcm93X3Y0L0F0b21pY01hcmtldHBsYWNlRXNjcm93VjQuYWxnby50czozNjkKICAgIC8vIGNvbnN0IHRyYWRlID0gdGhpcy50cmFkZXModHJhZGVJZCkudmFsdWUuY29weSgpCiAgICBkdXAKICAgIGJveF9nZXQKICAgIGFzc2VydCAvLyBCb3ggbXVzdCBoYXZlIHZhbHVlCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXRvbWljX21hcmtldHBsYWNlX2VzY3Jvd192NC9BdG9taWNNYXJrZXRwbGFjZUVzY3Jvd1Y0LmFsZ28udHM6MzcwCiAgICAvLyBhc3NlcnQodHJhZGUuc3RhdGUubmF0aXZlID09PSBDUkVBVEVELCAnVHJhZGUgbm90IGluIENSRUFURUQgc3RhdGUnKQogICAgZHVwCiAgICBwdXNoaW50IDExMiAvLyAxMTIKICAgIGV4dHJhY3RfdWludDY0CiAgICAhCiAgICBhc3NlcnQgLy8gVHJhZGUgbm90IGluIENSRUFURUQgc3RhdGUKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdG9taWNfbWFya2V0cGxhY2VfZXNjcm93X3Y0L0F0b21pY01hcmtldHBsYWNlRXNjcm93VjQuYWxnby50czozNzEKICAgIC8vIGFzc2VydChUeG4uc2VuZGVyLmJ5dGVzICE9PSB0cmFkZS5idXllci5ieXRlcywgJ0J1eWVyIGNhbm5vdCBiZSBmaW5hbmNpZXInKQogICAgdHhuIFNlbmRlcgogICAgZGlnIDEKICAgIGV4dHJhY3QgOCAzMiAvLyBvbiBlcnJvcjogSW5kZXggYWNjZXNzIGlzIG91dCBvZiBib3VuZHMKICAgICE9CiAgICBhc3NlcnQgLy8gQnV5ZXIgY2Fubm90IGJlIGZpbmFuY2llcgogICAgLy8gc21hcnRfY29udHJhY3RzL2F0b21pY19tYXJrZXRwbGFjZV9lc2Nyb3dfdjQvQXRvbWljTWFya2V0cGxhY2VFc2Nyb3dWNC5hbGdvLnRzOjM3MgogICAgLy8gYXNzZXJ0KFR4bi5zZW5kZXIuYnl0ZXMgIT09IHRyYWRlLnNlbGxlci5ieXRlcywgJ1NlbGxlciBjYW5ub3QgYmUgZmluYW5jaWVyJykKICAgIHR4biBTZW5kZXIKICAgIGRpZyAxCiAgICBleHRyYWN0IDQwIDMyIC8vIG9uIGVycm9yOiBJbmRleCBhY2Nlc3MgaXMgb3V0IG9mIGJvdW5kcwogICAgIT0KICAgIGFzc2VydCAvLyBTZWxsZXIgY2Fubm90IGJlIGZpbmFuY2llcgogICAgLy8gc21hcnRfY29udHJhY3RzL2F0b21pY19tYXJrZXRwbGFjZV9lc2Nyb3dfdjQvQXRvbWljTWFya2V0cGxhY2VFc2Nyb3dWNC5hbGdvLnRzOjM3NAogICAgLy8gY29uc3QgbWFya2V0cGxhY2VGZWU6IHVpbnQ2NCA9ICh0cmFkZS5hbW91bnQubmF0aXZlICogdGhpcy5tYXJrZXRwbGFjZUZlZVJhdGUudmFsdWUpIC8gMTAwMDAKICAgIGR1cAogICAgcHVzaGludCAxMDQgLy8gMTA0CiAgICBleHRyYWN0X3VpbnQ2NAogICAgLy8gc21hcnRfY29udHJhY3RzL2F0b21pY19tYXJrZXRwbGFjZV9lc2Nyb3dfdjQvQXRvbWljTWFya2V0cGxhY2VFc2Nyb3dWNC5hbGdvLnRzOjEwOQogICAgLy8gcHVibGljIG1hcmtldHBsYWNlRmVlUmF0ZSA9IEdsb2JhbFN0YXRlPHVpbnQ2ND4oKQogICAgaW50Y18xIC8vIDAKICAgIGJ5dGVjIDQgLy8gIm1hcmtldHBsYWNlRmVlUmF0ZSIKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgR2xvYmFsU3RhdGUgZXhpc3RzCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXRvbWljX21hcmtldHBsYWNlX2VzY3Jvd192NC9BdG9taWNNYXJrZXRwbGFjZUVzY3Jvd1Y0LmFsZ28udHM6Mzc0CiAgICAvLyBjb25zdCBtYXJrZXRwbGFjZUZlZTogdWludDY0ID0gKHRyYWRlLmFtb3VudC5uYXRpdmUgKiB0aGlzLm1hcmtldHBsYWNlRmVlUmF0ZS52YWx1ZSkgLyAxMDAwMAogICAgZGlnIDEKICAgICoKICAgIGludGNfMyAvLyAxMDAwMAogICAgLwogICAgLy8gc21hcnRfY29udHJhY3RzL2F0b21pY19tYXJrZXRwbGFjZV9lc2Nyb3dfdjQvQXRvbWljTWFya2V0cGxhY2VFc2Nyb3dWNC5hbGdvLnRzOjM3NQogICAgLy8gY29uc3QgdG90YWxSZXF1aXJlZDogdWludDY0ID0gdHJhZGUuYW1vdW50Lm5hdGl2ZSArIG1hcmtldHBsYWNlRmVlCiAgICBzd2FwCiAgICBkaWcgMQogICAgKwogICAgLy8gc21hcnRfY29udHJhY3RzL2F0b21pY19tYXJrZXRwbGFjZV9lc2Nyb3dfdjQvQXRvbWljTWFya2V0cGxhY2VFc2Nyb3dWNC5hbGdvLnRzOjM3NwogICAgLy8gYXNzZXJ0KEdsb2JhbC5ncm91cFNpemUgPT09IDIsICdNdXN0IGJlIGdyb3VwIHRyYW5zYWN0aW9uJykKICAgIGdsb2JhbCBHcm91cFNpemUKICAgIGludGNfMiAvLyAyCiAgICA9PQogICAgYXNzZXJ0IC8vIE11c3QgYmUgZ3JvdXAgdHJhbnNhY3Rpb24KICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdG9taWNfbWFya2V0cGxhY2VfZXNjcm93X3Y0L0F0b21pY01hcmtldHBsYWNlRXNjcm93VjQuYWxnby50czoxMDIKICAgIC8vIHB1YmxpYyBzZXR0bGVtZW50Q3VycmVuY3kgPSBHbG9iYWxTdGF0ZTx1aW50NjQ+KCkgIC8vIDAgPSBBTEdPLCBBU0EgSUQgPSB0aGF0IGFzc2V0CiAgICBpbnRjXzEgLy8gMAogICAgYnl0ZWNfMSAvLyAic2V0dGxlbWVudEN1cnJlbmN5IgogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIGFzc2VydCAvLyBjaGVjayBHbG9iYWxTdGF0ZSBleGlzdHMKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdG9taWNfbWFya2V0cGxhY2VfZXNjcm93X3Y0L0F0b21pY01hcmtldHBsYWNlRXNjcm93VjQuYWxnby50czoxNzAKICAgIC8vIHJldHVybiB0aGlzLnNldHRsZW1lbnRDdXJyZW5jeS52YWx1ZSA9PT0gMAogICAgIQogICAgLy8gc21hcnRfY29udHJhY3RzL2F0b21pY19tYXJrZXRwbGFjZV9lc2Nyb3dfdjQvQXRvbWljTWFya2V0cGxhY2VFc2Nyb3dWNC5hbGdvLnRzOjM3OAogICAgLy8gYXNzZXJ0KHRoaXMuaXNBbGdvUGF5bWVudCgpLCAnTXVzdCB1c2UgQUxHTyBwYXltZW50IGZvciB0aGlzIG1ldGhvZCcpCiAgICBhc3NlcnQgLy8gTXVzdCB1c2UgQUxHTyBwYXltZW50IGZvciB0aGlzIG1ldGhvZAogICAgLy8gc21hcnRfY29udHJhY3RzL2F0b21pY19tYXJrZXRwbGFjZV9lc2Nyb3dfdjQvQXRvbWljTWFya2V0cGxhY2VFc2Nyb3dWNC5hbGdvLnRzOjM4MQogICAgLy8gdGhpcy52ZXJpZnlQYXltZW50VHhuKHBheW1lbnRUeG4sIHRvdGFsUmVxdWlyZWQsIEdsb2JhbC5jdXJyZW50QXBwbGljYXRpb25BZGRyZXNzLmJ5dGVzLCBUeG4uc2VuZGVyLmJ5dGVzKQogICAgZ2xvYmFsIEN1cnJlbnRBcHBsaWNhdGlvbkFkZHJlc3MKICAgIHR4biBTZW5kZXIKICAgIGZyYW1lX2RpZyAtMgogICAgY292ZXIgMwogICAgY2FsbHN1YiB2ZXJpZnlQYXltZW50VHhuCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXRvbWljX21hcmtldHBsYWNlX2VzY3Jvd192NC9BdG9taWNNYXJrZXRwbGFjZUVzY3Jvd1Y0LmFsZ28udHM6MzgzCiAgICAvLyB0cmFkZS5lc2Nyb3dQcm92aWRlciA9IG5ldyBhcmM0LkFkZHJlc3MoVHhuLnNlbmRlcikKICAgIHR4biBTZW5kZXIKICAgIHVuY292ZXIgMgogICAgc3dhcAogICAgcmVwbGFjZTIgNzIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdG9taWNfbWFya2V0cGxhY2VfZXNjcm93X3Y0L0F0b21pY01hcmtldHBsYWNlRXNjcm93VjQuYWxnby50czozODQKICAgIC8vIHRyYWRlLnN0YXRlID0gbmV3IGFyYzQuVWludE42NChFU0NST1dFRCkKICAgIGJ5dGVjIDExIC8vIDB4MDAwMDAwMDAwMDAwMDAwMQogICAgcmVwbGFjZTIgMTEyCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXRvbWljX21hcmtldHBsYWNlX2VzY3Jvd192NC9BdG9taWNNYXJrZXRwbGFjZUVzY3Jvd1Y0LmFsZ28udHM6Mzg1CiAgICAvLyB0cmFkZS5tYXJrZXRwbGFjZUZlZSA9IG5ldyBhcmM0LlVpbnRONjQobWFya2V0cGxhY2VGZWUpCiAgICBzd2FwCiAgICBpdG9iCiAgICByZXBsYWNlMiAyMDAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdG9taWNfbWFya2V0cGxhY2VfZXNjcm93X3Y0L0F0b21pY01hcmtldHBsYWNlRXNjcm93VjQuYWxnby50czozODcKICAgIC8vIHRoaXMudHJhZGVzKHRyYWRlSWQpLnZhbHVlID0gdHJhZGUuY29weSgpCiAgICBib3hfcHV0CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXRvbWljX21hcmtldHBsYWNlX2VzY3Jvd192NC9BdG9taWNNYXJrZXRwbGFjZUVzY3Jvd1Y0LmFsZ28udHM6Mzg5CiAgICAvLyByZXR1cm4gdHJ1ZQogICAgaW50Y18wIC8vIDEKICAgIHJldHN1YgoKCi8vIHNtYXJ0X2NvbnRyYWN0cy9hdG9taWNfbWFya2V0cGxhY2VfZXNjcm93X3Y0L0F0b21pY01hcmtldHBsYWNlRXNjcm93VjQuYWxnby50czo6QXRvbWljTWFya2V0cGxhY2VFc2Nyb3dWNC5lc2Nyb3dUcmFkZUFzRmluYW5jaWVyV2l0aEFzc2V0KGFzc2V0VHhuOiB1aW50NjQsIHRyYWRlSWQ6IHVpbnQ2NCkgLT4gdWludDY0Ogplc2Nyb3dUcmFkZUFzRmluYW5jaWVyV2l0aEFzc2V0OgogICAgLy8gc21hcnRfY29udHJhY3RzL2F0b21pY19tYXJrZXRwbGFjZV9lc2Nyb3dfdjQvQXRvbWljTWFya2V0cGxhY2VFc2Nyb3dWNC5hbGdvLnRzOjM5OS00MDAKICAgIC8vIEBhYmltZXRob2QoKQogICAgLy8gcHVibGljIGVzY3Jvd1RyYWRlQXNGaW5hbmNpZXJXaXRoQXNzZXQoYXNzZXRUeG46IGd0eG4uQXNzZXRUcmFuc2ZlclR4biwgdHJhZGVJZDogdWludDY0KTogYm9vbGVhbiB7CiAgICBwcm90byAyIDEKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdG9taWNfbWFya2V0cGxhY2VfZXNjcm93X3Y0L0F0b21pY01hcmtldHBsYWNlRXNjcm93VjQuYWxnby50czo0MDEKICAgIC8vIGNvbnN0IHRyYWRlID0gdGhpcy50cmFkZXModHJhZGVJZCkudmFsdWUuY29weSgpCiAgICBmcmFtZV9kaWcgLTEKICAgIGl0b2IKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdG9taWNfbWFya2V0cGxhY2VfZXNjcm93X3Y0L0F0b21pY01hcmtldHBsYWNlRXNjcm93VjQuYWxnby50czo4OAogICAgLy8gcHVibGljIHRyYWRlcyA9IEJveE1hcDx1aW50NjQsIFRyYWRlRXNjcm93Pih7IGtleVByZWZpeDogJ3RyYWRlcycgfSkKICAgIGJ5dGVjXzMgLy8gInRyYWRlcyIKICAgIHN3YXAKICAgIGNvbmNhdAogICAgLy8gc21hcnRfY29udHJhY3RzL2F0b21pY19tYXJrZXRwbGFjZV9lc2Nyb3dfdjQvQXRvbWljTWFya2V0cGxhY2VFc2Nyb3dWNC5hbGdvLnRzOjQwMQogICAgLy8gY29uc3QgdHJhZGUgPSB0aGlzLnRyYWRlcyh0cmFkZUlkKS52YWx1ZS5jb3B5KCkKICAgIGR1cAogICAgYm94X2dldAogICAgYXNzZXJ0IC8vIEJveCBtdXN0IGhhdmUgdmFsdWUKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdG9taWNfbWFya2V0cGxhY2VfZXNjcm93X3Y0L0F0b21pY01hcmtldHBsYWNlRXNjcm93VjQuYWxnby50czo0MDIKICAgIC8vIGFzc2VydCh0cmFkZS5zdGF0ZS5uYXRpdmUgPT09IENSRUFURUQsICdUcmFkZSBub3QgaW4gQ1JFQVRFRCBzdGF0ZScpCiAgICBkdXAKICAgIHB1c2hpbnQgMTEyIC8vIDExMgogICAgZXh0cmFjdF91aW50NjQKICAgICEKICAgIGFzc2VydCAvLyBUcmFkZSBub3QgaW4gQ1JFQVRFRCBzdGF0ZQogICAgLy8gc21hcnRfY29udHJhY3RzL2F0b21pY19tYXJrZXRwbGFjZV9lc2Nyb3dfdjQvQXRvbWljTWFya2V0cGxhY2VFc2Nyb3dWNC5hbGdvLnRzOjQwMwogICAgLy8gYXNzZXJ0KFR4bi5zZW5kZXIuYnl0ZXMgIT09IHRyYWRlLmJ1eWVyLmJ5dGVzLCAnQnV5ZXIgY2Fubm90IGJlIGZpbmFuY2llcicpCiAgICB0eG4gU2VuZGVyCiAgICBkaWcgMQogICAgZXh0cmFjdCA4IDMyIC8vIG9uIGVycm9yOiBJbmRleCBhY2Nlc3MgaXMgb3V0IG9mIGJvdW5kcwogICAgIT0KICAgIGFzc2VydCAvLyBCdXllciBjYW5ub3QgYmUgZmluYW5jaWVyCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXRvbWljX21hcmtldHBsYWNlX2VzY3Jvd192NC9BdG9taWNNYXJrZXRwbGFjZUVzY3Jvd1Y0LmFsZ28udHM6NDA0CiAgICAvLyBhc3NlcnQoVHhuLnNlbmRlci5ieXRlcyAhPT0gdHJhZGUuc2VsbGVyLmJ5dGVzLCAnU2VsbGVyIGNhbm5vdCBiZSBmaW5hbmNpZXInKQogICAgdHhuIFNlbmRlcgogICAgZGlnIDEKICAgIGV4dHJhY3QgNDAgMzIgLy8gb24gZXJyb3I6IEluZGV4IGFjY2VzcyBpcyBvdXQgb2YgYm91bmRzCiAgICAhPQogICAgYXNzZXJ0IC8vIFNlbGxlciBjYW5ub3QgYmUgZmluYW5jaWVyCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXRvbWljX21hcmtldHBsYWNlX2VzY3Jvd192NC9BdG9taWNNYXJrZXRwbGFjZUVzY3Jvd1Y0LmFsZ28udHM6NDA2CiAgICAvLyBjb25zdCBtYXJrZXRwbGFjZUZlZTogdWludDY0ID0gKHRyYWRlLmFtb3VudC5uYXRpdmUgKiB0aGlzLm1hcmtldHBsYWNlRmVlUmF0ZS52YWx1ZSkgLyAxMDAwMAogICAgZHVwCiAgICBwdXNoaW50IDEwNCAvLyAxMDQKICAgIGV4dHJhY3RfdWludDY0CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXRvbWljX21hcmtldHBsYWNlX2VzY3Jvd192NC9BdG9taWNNYXJrZXRwbGFjZUVzY3Jvd1Y0LmFsZ28udHM6MTA5CiAgICAvLyBwdWJsaWMgbWFya2V0cGxhY2VGZWVSYXRlID0gR2xvYmFsU3RhdGU8dWludDY0PigpCiAgICBpbnRjXzEgLy8gMAogICAgYnl0ZWMgNCAvLyAibWFya2V0cGxhY2VGZWVSYXRlIgogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIGFzc2VydCAvLyBjaGVjayBHbG9iYWxTdGF0ZSBleGlzdHMKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdG9taWNfbWFya2V0cGxhY2VfZXNjcm93X3Y0L0F0b21pY01hcmtldHBsYWNlRXNjcm93VjQuYWxnby50czo0MDYKICAgIC8vIGNvbnN0IG1hcmtldHBsYWNlRmVlOiB1aW50NjQgPSAodHJhZGUuYW1vdW50Lm5hdGl2ZSAqIHRoaXMubWFya2V0cGxhY2VGZWVSYXRlLnZhbHVlKSAvIDEwMDAwCiAgICBkaWcgMQogICAgKgogICAgaW50Y18zIC8vIDEwMDAwCiAgICAvCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXRvbWljX21hcmtldHBsYWNlX2VzY3Jvd192NC9BdG9taWNNYXJrZXRwbGFjZUVzY3Jvd1Y0LmFsZ28udHM6NDA3CiAgICAvLyBjb25zdCB0b3RhbFJlcXVpcmVkOiB1aW50NjQgPSB0cmFkZS5hbW91bnQubmF0aXZlICsgbWFya2V0cGxhY2VGZWUKICAgIHN3YXAKICAgIGRpZyAxCiAgICArCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXRvbWljX21hcmtldHBsYWNlX2VzY3Jvd192NC9BdG9taWNNYXJrZXRwbGFjZUVzY3Jvd1Y0LmFsZ28udHM6NDA5CiAgICAvLyBhc3NlcnQoR2xvYmFsLmdyb3VwU2l6ZSA9PT0gMiwgJ011c3QgYmUgZ3JvdXAgdHJhbnNhY3Rpb24nKQogICAgZ2xvYmFsIEdyb3VwU2l6ZQogICAgaW50Y18yIC8vIDIKICAgID09CiAgICBhc3NlcnQgLy8gTXVzdCBiZSBncm91cCB0cmFuc2FjdGlvbgogICAgLy8gc21hcnRfY29udHJhY3RzL2F0b21pY19tYXJrZXRwbGFjZV9lc2Nyb3dfdjQvQXRvbWljTWFya2V0cGxhY2VFc2Nyb3dWNC5hbGdvLnRzOjEwMgogICAgLy8gcHVibGljIHNldHRsZW1lbnRDdXJyZW5jeSA9IEdsb2JhbFN0YXRlPHVpbnQ2ND4oKSAgLy8gMCA9IEFMR08sIEFTQSBJRCA9IHRoYXQgYXNzZXQKICAgIGludGNfMSAvLyAwCiAgICBieXRlY18xIC8vICJzZXR0bGVtZW50Q3VycmVuY3kiCiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIEdsb2JhbFN0YXRlIGV4aXN0cwogICAgLy8gc21hcnRfY29udHJhY3RzL2F0b21pY19tYXJrZXRwbGFjZV9lc2Nyb3dfdjQvQXRvbWljTWFya2V0cGxhY2VFc2Nyb3dWNC5hbGdvLnRzOjE3MAogICAgLy8gcmV0dXJuIHRoaXMuc2V0dGxlbWVudEN1cnJlbmN5LnZhbHVlID09PSAwCiAgICAhCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXRvbWljX21hcmtldHBsYWNlX2VzY3Jvd192NC9BdG9taWNNYXJrZXRwbGFjZUVzY3Jvd1Y0LmFsZ28udHM6NDEwCiAgICAvLyBhc3NlcnQoIXRoaXMuaXNBbGdvUGF5bWVudCgpLCAnTXVzdCB1c2UgQVNBIHBheW1lbnQgZm9yIHRoaXMgbWV0aG9kJykKICAgICEKICAgIGFzc2VydCAvLyBNdXN0IHVzZSBBU0EgcGF5bWVudCBmb3IgdGhpcyBtZXRob2QKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdG9taWNfbWFya2V0cGxhY2VfZXNjcm93X3Y0L0F0b21pY01hcmtldHBsYWNlRXNjcm93VjQuYWxnby50czo0MTMKICAgIC8vIHRoaXMudmVyaWZ5QXNzZXRUcmFuc2ZlclR4bihhc3NldFR4biwgdG90YWxSZXF1aXJlZCwgR2xvYmFsLmN1cnJlbnRBcHBsaWNhdGlvbkFkZHJlc3MuYnl0ZXMsIFR4bi5zZW5kZXIuYnl0ZXMpCiAgICBnbG9iYWwgQ3VycmVudEFwcGxpY2F0aW9uQWRkcmVzcwogICAgdHhuIFNlbmRlcgogICAgZnJhbWVfZGlnIC0yCiAgICBjb3ZlciAzCiAgICBjYWxsc3ViIHZlcmlmeUFzc2V0VHJhbnNmZXJUeG4KICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdG9taWNfbWFya2V0cGxhY2VfZXNjcm93X3Y0L0F0b21pY01hcmtldHBsYWNlRXNjcm93VjQuYWxnby50czo0MTUKICAgIC8vIHRyYWRlLmVzY3Jvd1Byb3ZpZGVyID0gbmV3IGFyYzQuQWRkcmVzcyhUeG4uc2VuZGVyKQogICAgdHhuIFNlbmRlcgogICAgdW5jb3ZlciAyCiAgICBzd2FwCiAgICByZXBsYWNlMiA3MgogICAgLy8gc21hcnRfY29udHJhY3RzL2F0b21pY19tYXJrZXRwbGFjZV9lc2Nyb3dfdjQvQXRvbWljTWFya2V0cGxhY2VFc2Nyb3dWNC5hbGdvLnRzOjQxNgogICAgLy8gdHJhZGUuc3RhdGUgPSBuZXcgYXJjNC5VaW50TjY0KEVTQ1JPV0VEKQogICAgYnl0ZWMgMTEgLy8gMHgwMDAwMDAwMDAwMDAwMDAxCiAgICByZXBsYWNlMiAxMTIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdG9taWNfbWFya2V0cGxhY2VfZXNjcm93X3Y0L0F0b21pY01hcmtldHBsYWNlRXNjcm93VjQuYWxnby50czo0MTcKICAgIC8vIHRyYWRlLm1hcmtldHBsYWNlRmVlID0gbmV3IGFyYzQuVWludE42NChtYXJrZXRwbGFjZUZlZSkKICAgIHN3YXAKICAgIGl0b2IKICAgIHJlcGxhY2UyIDIwMAogICAgLy8gc21hcnRfY29udHJhY3RzL2F0b21pY19tYXJrZXRwbGFjZV9lc2Nyb3dfdjQvQXRvbWljTWFya2V0cGxhY2VFc2Nyb3dWNC5hbGdvLnRzOjQxOQogICAgLy8gdGhpcy50cmFkZXModHJhZGVJZCkudmFsdWUgPSB0cmFkZS5jb3B5KCkKICAgIGJveF9wdXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdG9taWNfbWFya2V0cGxhY2VfZXNjcm93X3Y0L0F0b21pY01hcmtldHBsYWNlRXNjcm93VjQuYWxnby50czo0MjEKICAgIC8vIHJldHVybiB0cnVlCiAgICBpbnRjXzAgLy8gMQogICAgcmV0c3ViCgoKLy8gc21hcnRfY29udHJhY3RzL2F0b21pY19tYXJrZXRwbGFjZV9lc2Nyb3dfdjQvQXRvbWljTWFya2V0cGxhY2VFc2Nyb3dWNC5hbGdvLnRzOjpBdG9taWNNYXJrZXRwbGFjZUVzY3Jvd1Y0LmV4ZWN1dGVUcmFkZShpbnN0cnVtZW50VHhuOiB1aW50NjQsIHJlZ3VsYXRvclBheW1lbnQ6IHVpbnQ2NCwgdHJhZGVJZDogdWludDY0LCBpbnN0cnVtZW50QXNzZXRJZDogdWludDY0LCBpbnN0cnVtZW50VHlwZU51bTogdWludDY0LCBsZWlJZDogYnl0ZXMsIGxlaU5hbWU6IGJ5dGVzLCBpbnN0cnVtZW50TnVtYmVyOiBieXRlcywgcmVndWxhdG9yV2FsbGV0OiBieXRlcykgLT4gdWludDY0OgpleGVjdXRlVHJhZGU6CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXRvbWljX21hcmtldHBsYWNlX2VzY3Jvd192NC9BdG9taWNNYXJrZXRwbGFjZUVzY3Jvd1Y0LmFsZ28udHM6NDMyLTQ0MwogICAgLy8gQGFiaW1ldGhvZCgpCiAgICAvLyBwdWJsaWMgZXhlY3V0ZVRyYWRlKAogICAgLy8gICBpbnN0cnVtZW50VHhuOiBndHhuLkFzc2V0VHJhbnNmZXJUeG4sCiAgICAvLyAgIHJlZ3VsYXRvclBheW1lbnQ6IGd0eG4uUGF5bWVudFR4biwKICAgIC8vICAgdHJhZGVJZDogdWludDY0LAogICAgLy8gICBpbnN0cnVtZW50QXNzZXRJZDogdWludDY0LAogICAgLy8gICBpbnN0cnVtZW50VHlwZU51bTogdWludDY0LAogICAgLy8gICBsZWlJZDogc3RyaW5nLAogICAgLy8gICBsZWlOYW1lOiBzdHJpbmcsCiAgICAvLyAgIGluc3RydW1lbnROdW1iZXI6IHN0cmluZywKICAgIC8vICAgcmVndWxhdG9yV2FsbGV0OiBhcmM0LkFkZHJlc3MKICAgIC8vICk6IGJvb2xlYW4gewogICAgcHJvdG8gOSAxCiAgICBpbnRjXzEgLy8gMAogICAgcHVzaGJ5dGVzICIiCiAgICBkdXBuIDIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdG9taWNfbWFya2V0cGxhY2VfZXNjcm93X3Y0L0F0b21pY01hcmtldHBsYWNlRXNjcm93VjQuYWxnby50czo0NDQKICAgIC8vIGNvbnN0IHRyYWRlID0gdGhpcy50cmFkZXModHJhZGVJZCkudmFsdWUuY29weSgpCiAgICBmcmFtZV9kaWcgLTcKICAgIGl0b2IKICAgIGR1cAogICAgLy8gc21hcnRfY29udHJhY3RzL2F0b21pY19tYXJrZXRwbGFjZV9lc2Nyb3dfdjQvQXRvbWljTWFya2V0cGxhY2VFc2Nyb3dWNC5hbGdvLnRzOjg4CiAgICAvLyBwdWJsaWMgdHJhZGVzID0gQm94TWFwPHVpbnQ2NCwgVHJhZGVFc2Nyb3c+KHsga2V5UHJlZml4OiAndHJhZGVzJyB9KQogICAgYnl0ZWNfMyAvLyAidHJhZGVzIgogICAgc3dhcAogICAgY29uY2F0CiAgICBkdXAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdG9taWNfbWFya2V0cGxhY2VfZXNjcm93X3Y0L0F0b21pY01hcmtldHBsYWNlRXNjcm93VjQuYWxnby50czo0NDQKICAgIC8vIGNvbnN0IHRyYWRlID0gdGhpcy50cmFkZXModHJhZGVJZCkudmFsdWUuY29weSgpCiAgICBib3hfZ2V0CiAgICBzd2FwCiAgICBkdXAKICAgIHVuY292ZXIgMgogICAgYXNzZXJ0IC8vIEJveCBtdXN0IGhhdmUgdmFsdWUKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdG9taWNfbWFya2V0cGxhY2VfZXNjcm93X3Y0L0F0b21pY01hcmtldHBsYWNlRXNjcm93VjQuYWxnby50czo0NDUKICAgIC8vIGFzc2VydCh0cmFkZS5zdGF0ZS5uYXRpdmUgPT09IEVTQ1JPV0VELCAnVHJhZGUgbm90IGVzY3Jvd2VkJykKICAgIGR1cAogICAgcHVzaGludCAxMTIgLy8gMTEyCiAgICBleHRyYWN0X3VpbnQ2NAogICAgLy8gc21hcnRfY29udHJhY3RzL2F0b21pY19tYXJrZXRwbGFjZV9lc2Nyb3dfdjQvQXRvbWljTWFya2V0cGxhY2VFc2Nyb3dWNC5hbGdvLnRzOjM5CiAgICAvLyBjb25zdCBFU0NST1dFRCA9IDEgYXMgdWludDY0CiAgICBpbnRjXzAgLy8gMQogICAgLy8gc21hcnRfY29udHJhY3RzL2F0b21pY19tYXJrZXRwbGFjZV9lc2Nyb3dfdjQvQXRvbWljTWFya2V0cGxhY2VFc2Nyb3dWNC5hbGdvLnRzOjQ0NQogICAgLy8gYXNzZXJ0KHRyYWRlLnN0YXRlLm5hdGl2ZSA9PT0gRVNDUk9XRUQsICdUcmFkZSBub3QgZXNjcm93ZWQnKQogICAgPT0KICAgIGFzc2VydCAvLyBUcmFkZSBub3QgZXNjcm93ZWQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdG9taWNfbWFya2V0cGxhY2VfZXNjcm93X3Y0L0F0b21pY01hcmtldHBsYWNlRXNjcm93VjQuYWxnby50czo0NDYKICAgIC8vIGFzc2VydCh0cmFkZS5zZWxsZXIuYnl0ZXMgPT09IFR4bi5zZW5kZXIuYnl0ZXMsICdPbmx5IHNlbGxlciBjYW4gZXhlY3V0ZScpCiAgICBleHRyYWN0IDQwIDMyIC8vIG9uIGVycm9yOiBJbmRleCBhY2Nlc3MgaXMgb3V0IG9mIGJvdW5kcwogICAgZHVwCiAgICB0eG4gU2VuZGVyCiAgICA9PQogICAgYXNzZXJ0IC8vIE9ubHkgc2VsbGVyIGNhbiBleGVjdXRlCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXRvbWljX21hcmtldHBsYWNlX2VzY3Jvd192NC9BdG9taWNNYXJrZXRwbGFjZUVzY3Jvd1Y0LmFsZ28udHM6NDQ3CiAgICAvLyBhc3NlcnQocmVndWxhdG9yV2FsbGV0LmJ5dGVzICE9PSBHbG9iYWwuemVyb0FkZHJlc3MuYnl0ZXMsICdJbnZhbGlkIHJlZ3VsYXRvciBhZGRyZXNzJykKICAgIGZyYW1lX2RpZyAtMQogICAgZ2xvYmFsIFplcm9BZGRyZXNzCiAgICAhPQogICAgYXNzZXJ0IC8vIEludmFsaWQgcmVndWxhdG9yIGFkZHJlc3MKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdG9taWNfbWFya2V0cGxhY2VfZXNjcm93X3Y0L0F0b21pY01hcmtldHBsYWNlRXNjcm93VjQuYWxnby50czo0NTAtNDUxCiAgICAvLyBpbnN0cnVtZW50VHlwZU51bSA9PT0gQkwgfHwKICAgIC8vIGluc3RydW1lbnRUeXBlTnVtID09PSBXQVJFSE9VU0VfUkVDRUlQVCwKICAgIGZyYW1lX2RpZyAtNQogICAgYnogZXhlY3V0ZVRyYWRlX2Jvb2xfdHJ1ZUAyCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXRvbWljX21hcmtldHBsYWNlX2VzY3Jvd192NC9BdG9taWNNYXJrZXRwbGFjZUVzY3Jvd1Y0LmFsZ28udHM6NDUxCiAgICAvLyBpbnN0cnVtZW50VHlwZU51bSA9PT0gV0FSRUhPVVNFX1JFQ0VJUFQsCiAgICBmcmFtZV9kaWcgLTUKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdG9taWNfbWFya2V0cGxhY2VfZXNjcm93X3Y0L0F0b21pY01hcmtldHBsYWNlRXNjcm93VjQuYWxnby50czo0NwogICAgLy8gY29uc3QgV0FSRUhPVVNFX1JFQ0VJUFQgPSAxIGFzIHVpbnQ2NAogICAgaW50Y18wIC8vIDEKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdG9taWNfbWFya2V0cGxhY2VfZXNjcm93X3Y0L0F0b21pY01hcmtldHBsYWNlRXNjcm93VjQuYWxnby50czo0NTEKICAgIC8vIGluc3RydW1lbnRUeXBlTnVtID09PSBXQVJFSE9VU0VfUkVDRUlQVCwKICAgID09CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXRvbWljX21hcmtldHBsYWNlX2VzY3Jvd192NC9BdG9taWNNYXJrZXRwbGFjZUVzY3Jvd1Y0LmFsZ28udHM6NDUwLTQ1MQogICAgLy8gaW5zdHJ1bWVudFR5cGVOdW0gPT09IEJMIHx8CiAgICAvLyBpbnN0cnVtZW50VHlwZU51bSA9PT0gV0FSRUhPVVNFX1JFQ0VJUFQsCiAgICBieiBleGVjdXRlVHJhZGVfYm9vbF9mYWxzZUAzCgpleGVjdXRlVHJhZGVfYm9vbF90cnVlQDI6CiAgICBpbnRjXzAgLy8gMQoKZXhlY3V0ZVRyYWRlX2Jvb2xfbWVyZ2VANDoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdG9taWNfbWFya2V0cGxhY2VfZXNjcm93X3Y0L0F0b21pY01hcmtldHBsYWNlRXNjcm93VjQuYWxnby50czo0NDktNDUzCiAgICAvLyBhc3NlcnQoCiAgICAvLyAgIGluc3RydW1lbnRUeXBlTnVtID09PSBCTCB8fAogICAgLy8gICBpbnN0cnVtZW50VHlwZU51bSA9PT0gV0FSRUhPVVNFX1JFQ0VJUFQsCiAgICAvLyAgICdJbnZhbGlkIGluc3RydW1lbnQgdHlwZScKICAgIC8vICkKICAgIGFzc2VydCAvLyBJbnZhbGlkIGluc3RydW1lbnQgdHlwZQogICAgLy8gc21hcnRfY29udHJhY3RzL2F0b21pY19tYXJrZXRwbGFjZV9lc2Nyb3dfdjQvQXRvbWljTWFya2V0cGxhY2VFc2Nyb3dWNC5hbGdvLnRzOjQ1NQogICAgLy8gY29uc3QgcmVndWxhdG9yVGF4OiB1aW50NjQgPSAodHJhZGUuYW1vdW50Lm5hdGl2ZSAqIHRoaXMucmVndWxhdG9yVGF4UmF0ZS52YWx1ZSkgLyAxMDAwMAogICAgZnJhbWVfZGlnIDYKICAgIGR1cAogICAgcHVzaGludCAxMDQgLy8gMTA0CiAgICBleHRyYWN0X3VpbnQ2NAogICAgZHVwCiAgICBmcmFtZV9idXJ5IDMKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdG9taWNfbWFya2V0cGxhY2VfZXNjcm93X3Y0L0F0b21pY01hcmtldHBsYWNlRXNjcm93VjQuYWxnby50czoxMDcKICAgIC8vIHB1YmxpYyByZWd1bGF0b3JUYXhSYXRlID0gR2xvYmFsU3RhdGU8dWludDY0PigpCiAgICBpbnRjXzEgLy8gMAogICAgYnl0ZWMgNyAvLyAicmVndWxhdG9yVGF4UmF0ZSIKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgR2xvYmFsU3RhdGUgZXhpc3RzCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXRvbWljX21hcmtldHBsYWNlX2VzY3Jvd192NC9BdG9taWNNYXJrZXRwbGFjZUVzY3Jvd1Y0LmFsZ28udHM6NDU1CiAgICAvLyBjb25zdCByZWd1bGF0b3JUYXg6IHVpbnQ2NCA9ICh0cmFkZS5hbW91bnQubmF0aXZlICogdGhpcy5yZWd1bGF0b3JUYXhSYXRlLnZhbHVlKSAvIDEwMDAwCiAgICBkaWcgMQogICAgKgogICAgaW50Y18zIC8vIDEwMDAwCiAgICAvCiAgICBmcmFtZV9idXJ5IDIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdG9taWNfbWFya2V0cGxhY2VfZXNjcm93X3Y0L0F0b21pY01hcmtldHBsYWNlRXNjcm93VjQuYWxnby50czoxMDgKICAgIC8vIHB1YmxpYyByZWd1bGF0b3JSZWZ1bmRSYXRlID0gR2xvYmFsU3RhdGU8dWludDY0PigpCiAgICBpbnRjXzEgLy8gMAogICAgYnl0ZWMgOCAvLyAicmVndWxhdG9yUmVmdW5kUmF0ZSIKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgR2xvYmFsU3RhdGUgZXhpc3RzCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXRvbWljX21hcmtldHBsYWNlX2VzY3Jvd192NC9BdG9taWNNYXJrZXRwbGFjZUVzY3Jvd1Y0LmFsZ28udHM6NDU2CiAgICAvLyBjb25zdCByZWd1bGF0b3JSZWZ1bmQ6IHVpbnQ2NCA9ICh0cmFkZS5hbW91bnQubmF0aXZlICogdGhpcy5yZWd1bGF0b3JSZWZ1bmRSYXRlLnZhbHVlKSAvIDEwMDAwCiAgICAqCiAgICBpbnRjXzMgLy8gMTAwMDAKICAgIC8KICAgIGZyYW1lX2J1cnkgMQogICAgLy8gc21hcnRfY29udHJhY3RzL2F0b21pY19tYXJrZXRwbGFjZV9lc2Nyb3dfdjQvQXRvbWljTWFya2V0cGxhY2VFc2Nyb3dWNC5hbGdvLnRzOjQ1OAogICAgLy8gYXNzZXJ0KEdsb2JhbC5ncm91cFNpemUgPT09IDMsICdNdXN0IGJlIDMtdHJhbnNhY3Rpb24gZ3JvdXAnKQogICAgZ2xvYmFsIEdyb3VwU2l6ZQogICAgcHVzaGludCAzIC8vIDMKICAgID09CiAgICBhc3NlcnQgLy8gTXVzdCBiZSAzLXRyYW5zYWN0aW9uIGdyb3VwCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXRvbWljX21hcmtldHBsYWNlX2VzY3Jvd192NC9BdG9taWNNYXJrZXRwbGFjZUVzY3Jvd1Y0LmFsZ28udHM6MTAyCiAgICAvLyBwdWJsaWMgc2V0dGxlbWVudEN1cnJlbmN5ID0gR2xvYmFsU3RhdGU8dWludDY0PigpICAvLyAwID0gQUxHTywgQVNBIElEID0gdGhhdCBhc3NldAogICAgaW50Y18xIC8vIDAKICAgIGJ5dGVjXzEgLy8gInNldHRsZW1lbnRDdXJyZW5jeSIKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgR2xvYmFsU3RhdGUgZXhpc3RzCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXRvbWljX21hcmtldHBsYWNlX2VzY3Jvd192NC9BdG9taWNNYXJrZXRwbGFjZUVzY3Jvd1Y0LmFsZ28udHM6MTcwCiAgICAvLyByZXR1cm4gdGhpcy5zZXR0bGVtZW50Q3VycmVuY3kudmFsdWUgPT09IDAKICAgICEKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdG9taWNfbWFya2V0cGxhY2VfZXNjcm93X3Y0L0F0b21pY01hcmtldHBsYWNlRXNjcm93VjQuYWxnby50czo0NTkKICAgIC8vIGFzc2VydCh0aGlzLmlzQWxnb1BheW1lbnQoKSwgJ011c3QgdXNlIEFMR08gcGF5bWVudCBmb3IgdGhpcyBtZXRob2QnKQogICAgYXNzZXJ0IC8vIE11c3QgdXNlIEFMR08gcGF5bWVudCBmb3IgdGhpcyBtZXRob2QKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdG9taWNfbWFya2V0cGxhY2VfZXNjcm93X3Y0L0F0b21pY01hcmtldHBsYWNlRXNjcm93VjQuYWxnby50czo0NjIKICAgIC8vIGFzc2VydChpbnN0cnVtZW50VHhuLnNlbmRlci5ieXRlcyA9PT0gVHhuLnNlbmRlci5ieXRlcywgJ0luc3RydW1lbnQgbXVzdCBjb21lIGZyb20gc2VsbGVyJykKICAgIGZyYW1lX2RpZyAtOQogICAgZ3R4bnMgU2VuZGVyCiAgICB0eG4gU2VuZGVyCiAgICA9PQogICAgYXNzZXJ0IC8vIEluc3RydW1lbnQgbXVzdCBjb21lIGZyb20gc2VsbGVyCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXRvbWljX21hcmtldHBsYWNlX2VzY3Jvd192NC9BdG9taWNNYXJrZXRwbGFjZUVzY3Jvd1Y0LmFsZ28udHM6NDYzCiAgICAvLyBhc3NlcnQoaW5zdHJ1bWVudFR4bi54ZmVyQXNzZXQgPT09IEFzc2V0KGluc3RydW1lbnRBc3NldElkKSwgJ1dyb25nIGluc3RydW1lbnQgYXNzZXQnKQogICAgZnJhbWVfZGlnIC05CiAgICBndHhucyBYZmVyQXNzZXQKICAgIGZyYW1lX2RpZyAtNgogICAgPT0KICAgIGFzc2VydCAvLyBXcm9uZyBpbnN0cnVtZW50IGFzc2V0CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXRvbWljX21hcmtldHBsYWNlX2VzY3Jvd192NC9BdG9taWNNYXJrZXRwbGFjZUVzY3Jvd1Y0LmFsZ28udHM6NDY0CiAgICAvLyBhc3NlcnQoaW5zdHJ1bWVudFR4bi5hc3NldEFtb3VudCA9PT0gMSwgJ011c3QgdHJhbnNmZXIgMSBpbnN0cnVtZW50IE5GVCcpCiAgICBmcmFtZV9kaWcgLTkKICAgIGd0eG5zIEFzc2V0QW1vdW50CiAgICBpbnRjXzAgLy8gMQogICAgPT0KICAgIGFzc2VydCAvLyBNdXN0IHRyYW5zZmVyIDEgaW5zdHJ1bWVudCBORlQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdG9taWNfbWFya2V0cGxhY2VfZXNjcm93X3Y0L0F0b21pY01hcmtldHBsYWNlRXNjcm93VjQuYWxnby50czo0NjcKICAgIC8vIGlmICh0cmFkZS5lc2Nyb3dQcm92aWRlci5ieXRlcyA9PT0gdHJhZGUuYnV5ZXIuYnl0ZXMpIHsKICAgIGR1cAogICAgZXh0cmFjdCA3MiAzMiAvLyBvbiBlcnJvcjogSW5kZXggYWNjZXNzIGlzIG91dCBvZiBib3VuZHMKICAgIHN3YXAKICAgIGV4dHJhY3QgOCAzMiAvLyBvbiBlcnJvcjogSW5kZXggYWNjZXNzIGlzIG91dCBvZiBib3VuZHMKICAgIGR1cAogICAgZnJhbWVfYnVyeSAwCiAgICA9PQogICAgYnogZXhlY3V0ZVRyYWRlX2Vsc2VfYm9keUA2CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXRvbWljX21hcmtldHBsYWNlX2VzY3Jvd192NC9BdG9taWNNYXJrZXRwbGFjZUVzY3Jvd1Y0LmFsZ28udHM6NDY4CiAgICAvLyBhc3NlcnQoaW5zdHJ1bWVudFR4bi5hc3NldFJlY2VpdmVyLmJ5dGVzID09PSB0cmFkZS5idXllci5ieXRlcywgJ0luc3RydW1lbnQgbXVzdCBnbyB0byBidXllcicpCiAgICBmcmFtZV9kaWcgLTkKICAgIGd0eG5zIEFzc2V0UmVjZWl2ZXIKICAgIGZyYW1lX2RpZyAwCiAgICA9PQogICAgYXNzZXJ0IC8vIEluc3RydW1lbnQgbXVzdCBnbyB0byBidXllcgoKZXhlY3V0ZVRyYWRlX2FmdGVyX2lmX2Vsc2VANzoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdG9taWNfbWFya2V0cGxhY2VfZXNjcm93X3Y0L0F0b21pY01hcmtldHBsYWNlRXNjcm93VjQuYWxnby50czo0NzQKICAgIC8vIHRoaXMudmVyaWZ5UGF5bWVudFR4bihyZWd1bGF0b3JQYXltZW50LCByZWd1bGF0b3JUYXgsIHJlZ3VsYXRvcldhbGxldC5ieXRlcywgVHhuLnNlbmRlci5ieXRlcykKICAgIHR4biBTZW5kZXIKICAgIGZyYW1lX2RpZyAtOAogICAgZnJhbWVfZGlnIDIKICAgIGR1cAogICAgY292ZXIgMwogICAgZnJhbWVfZGlnIC0xCiAgICB1bmNvdmVyIDMKICAgIGNhbGxzdWIgdmVyaWZ5UGF5bWVudFR4bgogICAgLy8gc21hcnRfY29udHJhY3RzL2F0b21pY19tYXJrZXRwbGFjZV9lc2Nyb3dfdjQvQXRvbWljTWFya2V0cGxhY2VFc2Nyb3dWNC5hbGdvLnRzOjEwMQogICAgLy8gcHVibGljIHBsYXRmb3JtVHJlYXN1cnkgPSBHbG9iYWxTdGF0ZTxieXRlcz4oKQogICAgaW50Y18xIC8vIDAKICAgIGJ5dGVjIDEyIC8vICJwbGF0Zm9ybVRyZWFzdXJ5IgogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIGFzc2VydCAvLyBjaGVjayBHbG9iYWxTdGF0ZSBleGlzdHMKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdG9taWNfbWFya2V0cGxhY2VfZXNjcm93X3Y0L0F0b21pY01hcmtldHBsYWNlRXNjcm93VjQuYWxnby50czo0NzcKICAgIC8vIHRoaXMuc2VuZFBheW1lbnQodGhpcy5wbGF0Zm9ybVRyZWFzdXJ5LnZhbHVlLCB0cmFkZS5tYXJrZXRwbGFjZUZlZS5uYXRpdmUpCiAgICBmcmFtZV9kaWcgNgogICAgZHVwCiAgICBjb3ZlciAyCiAgICBpbnRjIDQgLy8gMjAwCiAgICBleHRyYWN0X3VpbnQ2NAogICAgY2FsbHN1YiBzZW5kUGF5bWVudAogICAgLy8gc21hcnRfY29udHJhY3RzL2F0b21pY19tYXJrZXRwbGFjZV9lc2Nyb3dfdjQvQXRvbWljTWFya2V0cGxhY2VFc2Nyb3dWNC5hbGdvLnRzOjQ4MAogICAgLy8gdGhpcy5zZW5kUGF5bWVudCh0cmFkZS5zZWxsZXIuYnl0ZXMsIHRyYWRlLmFtb3VudC5uYXRpdmUpCiAgICBmcmFtZV9kaWcgNwogICAgZnJhbWVfZGlnIDMKICAgIGNhbGxzdWIgc2VuZFBheW1lbnQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdG9taWNfbWFya2V0cGxhY2VfZXNjcm93X3Y0L0F0b21pY01hcmtldHBsYWNlRXNjcm93VjQuYWxnby50czo0ODMKICAgIC8vIHRyYWRlLnN0YXRlID0gbmV3IGFyYzQuVWludE42NChFWEVDVVRFRCkKICAgIGJ5dGVjIDE2IC8vIDB4MDAwMDAwMDAwMDAwMDAwMgogICAgcmVwbGFjZTIgMTEyCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXRvbWljX21hcmtldHBsYWNlX2VzY3Jvd192NC9BdG9taWNNYXJrZXRwbGFjZUVzY3Jvd1Y0LmFsZ28udHM6NDg0CiAgICAvLyB0cmFkZS5pbnN0cnVtZW50QXNzZXRJZCA9IG5ldyBhcmM0LlVpbnRONjQoaW5zdHJ1bWVudEFzc2V0SWQpCiAgICBmcmFtZV9kaWcgLTYKICAgIGl0b2IKICAgIHJlcGxhY2UyIDEyOAogICAgLy8gc21hcnRfY29udHJhY3RzL2F0b21pY19tYXJrZXRwbGFjZV9lc2Nyb3dfdjQvQXRvbWljTWFya2V0cGxhY2VFc2Nyb3dWNC5hbGdvLnRzOjQ4NQogICAgLy8gdHJhZGUuaW5zdHJ1bWVudFR5cGUgPSBuZXcgYXJjNC5VaW50TjY0KGluc3RydW1lbnRUeXBlTnVtKQogICAgZnJhbWVfZGlnIC01CiAgICBpdG9iCiAgICByZXBsYWNlMiAxMzYKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdG9taWNfbWFya2V0cGxhY2VfZXNjcm93X3Y0L0F0b21pY01hcmtldHBsYWNlRXNjcm93VjQuYWxnby50czo0ODYKICAgIC8vIHRyYWRlLmluc3RydW1lbnRWYWx1ZSA9IG5ldyBhcmM0LlVpbnRONjQodHJhZGUuYW1vdW50Lm5hdGl2ZSkKICAgIGR1cAogICAgcHVzaGludCAxMDQgLy8gMTA0CiAgICBleHRyYWN0X3VpbnQ2NAogICAgaXRvYgogICAgcmVwbGFjZTIgMTQ0CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXRvbWljX21hcmtldHBsYWNlX2VzY3Jvd192NC9BdG9taWNNYXJrZXRwbGFjZUVzY3Jvd1Y0LmFsZ28udHM6NDg3CiAgICAvLyB0cmFkZS5yZWd1bGF0b3JXYWxsZXQgPSByZWd1bGF0b3JXYWxsZXQKICAgIGZyYW1lX2RpZyAtMQogICAgcmVwbGFjZTIgMTUyCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXRvbWljX21hcmtldHBsYWNlX2VzY3Jvd192NC9BdG9taWNNYXJrZXRwbGFjZUVzY3Jvd1Y0LmFsZ28udHM6NDg4CiAgICAvLyB0cmFkZS5yZWd1bGF0b3JUYXhQYWlkID0gbmV3IGFyYzQuVWludE42NChyZWd1bGF0b3JUYXgpCiAgICBzd2FwCiAgICBpdG9iCiAgICByZXBsYWNlMiAxODQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdG9taWNfbWFya2V0cGxhY2VfZXNjcm93X3Y0L0F0b21pY01hcmtldHBsYWNlRXNjcm93VjQuYWxnby50czo0ODkKICAgIC8vIHRyYWRlLnJlZ3VsYXRvclJlZnVuZER1ZSA9IG5ldyBhcmM0LlVpbnRONjQocmVndWxhdG9yUmVmdW5kKQogICAgZnJhbWVfZGlnIDEKICAgIGl0b2IKICAgIHJlcGxhY2UyIDE5MgogICAgLy8gc21hcnRfY29udHJhY3RzL2F0b21pY19tYXJrZXRwbGFjZV9lc2Nyb3dfdjQvQXRvbWljTWFya2V0cGxhY2VFc2Nyb3dWNC5hbGdvLnRzOjQ5MQogICAgLy8gdGhpcy50cmFkZXModHJhZGVJZCkudmFsdWUgPSB0cmFkZS5jb3B5KCkKICAgIGZyYW1lX2RpZyA1CiAgICBzd2FwCiAgICBib3hfcHV0CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXRvbWljX21hcmtldHBsYWNlX2VzY3Jvd192NC9BdG9taWNNYXJrZXRwbGFjZUVzY3Jvd1Y0LmFsZ28udHM6ODkKICAgIC8vIHB1YmxpYyBtZXRhZGF0YSA9IEJveE1hcDx1aW50NjQsIFRyYWRlTWV0YWRhdGE+KHsga2V5UHJlZml4OiAnbWV0YWRhdGEnIH0pCiAgICBieXRlYyAxMCAvLyAibWV0YWRhdGEiCiAgICBmcmFtZV9kaWcgNAogICAgY29uY2F0CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXRvbWljX21hcmtldHBsYWNlX2VzY3Jvd192NC9BdG9taWNNYXJrZXRwbGFjZUVzY3Jvd1Y0LmFsZ28udHM6NDk0CiAgICAvLyBjb25zdCBtZXRhID0gdGhpcy5tZXRhZGF0YSh0cmFkZUlkKS52YWx1ZS5jb3B5KCkKICAgIGR1cAogICAgYm94X2dldAogICAgYXNzZXJ0IC8vIEJveCBtdXN0IGhhdmUgdmFsdWUKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdG9taWNfbWFya2V0cGxhY2VfZXNjcm93X3Y0L0F0b21pY01hcmtldHBsYWNlRXNjcm93VjQuYWxnby50czo0OTUKICAgIC8vIG1ldGEubGVpSWQgPSBuZXcgYXJjNC5TdHIobGVpSWQpCiAgICBmcmFtZV9kaWcgLTQKICAgIGxlbgogICAgaXRvYgogICAgZXh0cmFjdCA2IDIKICAgIGZyYW1lX2RpZyAtNAogICAgY29uY2F0CiAgICBkaWcgMQogICAgcHVzaGludCA2IC8vIDYKICAgIGV4dHJhY3RfdWludDE2CiAgICBkaWcgMgogICAgaW50Y18xIC8vIDAKICAgIGRpZyAyCiAgICBleHRyYWN0MwogICAgZGlnIDMKICAgIHB1c2hpbnQgOCAvLyA4CiAgICBleHRyYWN0X3VpbnQxNgogICAgZGlnIDQKICAgIGxlbgogICAgdW5jb3ZlciA1CiAgICBkaWcgMgogICAgdW5jb3ZlciAyCiAgICBzdWJzdHJpbmczCiAgICB1bmNvdmVyIDIKICAgIGRpZyA0CiAgICBjb25jYXQKICAgIHN3YXAKICAgIGNvbmNhdAogICAgc3dhcAogICAgdW5jb3ZlciAyCiAgICAtCiAgICB1bmNvdmVyIDIKICAgIGxlbgogICAgZGlnIDIKICAgIHB1c2hpbnQgOCAvLyA4CiAgICBleHRyYWN0X3VpbnQxNgogICAgZGlnIDEKICAgICsKICAgIGRpZyAyCiAgICAtCiAgICBpdG9iCiAgICBleHRyYWN0IDYgMgogICAgdW5jb3ZlciAzCiAgICBzd2FwCiAgICByZXBsYWNlMiA4CiAgICBkdXAKICAgIHB1c2hpbnQgMTAgLy8gMTAKICAgIGV4dHJhY3RfdWludDE2CiAgICB1bmNvdmVyIDIKICAgICsKICAgIHVuY292ZXIgMgogICAgLQogICAgaXRvYgogICAgZXh0cmFjdCA2IDIKICAgIHJlcGxhY2UyIDEwCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXRvbWljX21hcmtldHBsYWNlX2VzY3Jvd192NC9BdG9taWNNYXJrZXRwbGFjZUVzY3Jvd1Y0LmFsZ28udHM6NDk2CiAgICAvLyBtZXRhLmxlaU5hbWUgPSBuZXcgYXJjNC5TdHIobGVpTmFtZSkKICAgIGZyYW1lX2RpZyAtMwogICAgbGVuCiAgICBpdG9iCiAgICBleHRyYWN0IDYgMgogICAgZnJhbWVfZGlnIC0zCiAgICBjb25jYXQKICAgIGRpZyAxCiAgICBwdXNoaW50IDggLy8gOAogICAgZXh0cmFjdF91aW50MTYKICAgIGRpZyAyCiAgICBpbnRjXzEgLy8gMAogICAgZGlnIDIKICAgIGV4dHJhY3QzCiAgICBkaWcgMwogICAgcHVzaGludCAxMCAvLyAxMAogICAgZXh0cmFjdF91aW50MTYKICAgIGRpZyA0CiAgICBsZW4KICAgIHVuY292ZXIgNQogICAgZGlnIDIKICAgIHVuY292ZXIgMgogICAgc3Vic3RyaW5nMwogICAgdW5jb3ZlciAyCiAgICBkaWcgNAogICAgY29uY2F0CiAgICBzd2FwCiAgICBjb25jYXQKICAgIHN3YXAKICAgIHVuY292ZXIgMgogICAgLQogICAgdW5jb3ZlciAyCiAgICBsZW4KICAgIGRpZyAyCiAgICBwdXNoaW50IDEwIC8vIDEwCiAgICBleHRyYWN0X3VpbnQxNgogICAgKwogICAgc3dhcAogICAgLQogICAgaXRvYgogICAgZXh0cmFjdCA2IDIKICAgIHJlcGxhY2UyIDEwCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXRvbWljX21hcmtldHBsYWNlX2VzY3Jvd192NC9BdG9taWNNYXJrZXRwbGFjZUVzY3Jvd1Y0LmFsZ28udHM6NDk3CiAgICAvLyBtZXRhLmluc3RydW1lbnROdW1iZXIgPSBuZXcgYXJjNC5TdHIoaW5zdHJ1bWVudE51bWJlcikKICAgIGZyYW1lX2RpZyAtMgogICAgbGVuCiAgICBpdG9iCiAgICBleHRyYWN0IDYgMgogICAgZnJhbWVfZGlnIC0yCiAgICBjb25jYXQKICAgIGRpZyAxCiAgICBwdXNoaW50IDEwIC8vIDEwCiAgICBleHRyYWN0X3VpbnQxNgogICAgdW5jb3ZlciAyCiAgICBpbnRjXzEgLy8gMAogICAgdW5jb3ZlciAyCiAgICBleHRyYWN0MwogICAgc3dhcAogICAgY29uY2F0CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXRvbWljX21hcmtldHBsYWNlX2VzY3Jvd192NC9BdG9taWNNYXJrZXRwbGFjZUVzY3Jvd1Y0LmFsZ28udHM6NDk4CiAgICAvLyB0aGlzLm1ldGFkYXRhKHRyYWRlSWQpLnZhbHVlID0gbWV0YS5jb3B5KCkKICAgIGRpZyAxCiAgICBib3hfZGVsCiAgICBwb3AKICAgIGJveF9wdXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdG9taWNfbWFya2V0cGxhY2VfZXNjcm93X3Y0L0F0b21pY01hcmtldHBsYWNlRXNjcm93VjQuYWxnby50czo1MDAKICAgIC8vIHJldHVybiB0cnVlCiAgICBpbnRjXzAgLy8gMQogICAgZnJhbWVfYnVyeSAwCiAgICByZXRzdWIKCmV4ZWN1dGVUcmFkZV9lbHNlX2JvZHlANjoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdG9taWNfbWFya2V0cGxhY2VfZXNjcm93X3Y0L0F0b21pY01hcmtldHBsYWNlRXNjcm93VjQuYWxnby50czo0NzAKICAgIC8vIGFzc2VydChpbnN0cnVtZW50VHhuLmFzc2V0UmVjZWl2ZXIuYnl0ZXMgPT09IEdsb2JhbC5jdXJyZW50QXBwbGljYXRpb25BZGRyZXNzLmJ5dGVzLCAnSW5zdHJ1bWVudCBtdXN0IGdvIHRvIG1hcmtldHBsYWNlJykKICAgIGZyYW1lX2RpZyAtOQogICAgZ3R4bnMgQXNzZXRSZWNlaXZlcgogICAgZ2xvYmFsIEN1cnJlbnRBcHBsaWNhdGlvbkFkZHJlc3MKICAgID09CiAgICBhc3NlcnQgLy8gSW5zdHJ1bWVudCBtdXN0IGdvIHRvIG1hcmtldHBsYWNlCiAgICBiIGV4ZWN1dGVUcmFkZV9hZnRlcl9pZl9lbHNlQDcKCmV4ZWN1dGVUcmFkZV9ib29sX2ZhbHNlQDM6CiAgICBpbnRjXzEgLy8gMAogICAgYiBleGVjdXRlVHJhZGVfYm9vbF9tZXJnZUA0CgoKLy8gc21hcnRfY29udHJhY3RzL2F0b21pY19tYXJrZXRwbGFjZV9lc2Nyb3dfdjQvQXRvbWljTWFya2V0cGxhY2VFc2Nyb3dWNC5hbGdvLnRzOjpBdG9taWNNYXJrZXRwbGFjZUVzY3Jvd1Y0LmV4ZWN1dGVUcmFkZVdpdGhBc3NldChpbnN0cnVtZW50VHhuOiB1aW50NjQsIHJlZ3VsYXRvckFzc2V0UGF5bWVudDogdWludDY0LCB0cmFkZUlkOiB1aW50NjQsIGluc3RydW1lbnRBc3NldElkOiB1aW50NjQsIGluc3RydW1lbnRUeXBlTnVtOiB1aW50NjQsIGxlaUlkOiBieXRlcywgbGVpTmFtZTogYnl0ZXMsIGluc3RydW1lbnROdW1iZXI6IGJ5dGVzLCByZWd1bGF0b3JXYWxsZXQ6IGJ5dGVzKSAtPiB1aW50NjQ6CmV4ZWN1dGVUcmFkZVdpdGhBc3NldDoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdG9taWNfbWFya2V0cGxhY2VfZXNjcm93X3Y0L0F0b21pY01hcmtldHBsYWNlRXNjcm93VjQuYWxnby50czo1MTEtNTIyCiAgICAvLyBAYWJpbWV0aG9kKCkKICAgIC8vIHB1YmxpYyBleGVjdXRlVHJhZGVXaXRoQXNzZXQoCiAgICAvLyAgIGluc3RydW1lbnRUeG46IGd0eG4uQXNzZXRUcmFuc2ZlclR4biwKICAgIC8vICAgcmVndWxhdG9yQXNzZXRQYXltZW50OiBndHhuLkFzc2V0VHJhbnNmZXJUeG4sCiAgICAvLyAgIHRyYWRlSWQ6IHVpbnQ2NCwKICAgIC8vICAgaW5zdHJ1bWVudEFzc2V0SWQ6IHVpbnQ2NCwKICAgIC8vICAgaW5zdHJ1bWVudFR5cGVOdW06IHVpbnQ2NCwKICAgIC8vICAgbGVpSWQ6IHN0cmluZywKICAgIC8vICAgbGVpTmFtZTogc3RyaW5nLAogICAgLy8gICBpbnN0cnVtZW50TnVtYmVyOiBzdHJpbmcsCiAgICAvLyAgIHJlZ3VsYXRvcldhbGxldDogYXJjNC5BZGRyZXNzCiAgICAvLyApOiBib29sZWFuIHsKICAgIHByb3RvIDkgMQogICAgaW50Y18xIC8vIDAKICAgIHB1c2hieXRlcyAiIgogICAgZHVwbiAyCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXRvbWljX21hcmtldHBsYWNlX2VzY3Jvd192NC9BdG9taWNNYXJrZXRwbGFjZUVzY3Jvd1Y0LmFsZ28udHM6NTIzCiAgICAvLyBjb25zdCB0cmFkZSA9IHRoaXMudHJhZGVzKHRyYWRlSWQpLnZhbHVlLmNvcHkoKQogICAgZnJhbWVfZGlnIC03CiAgICBpdG9iCiAgICBkdXAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdG9taWNfbWFya2V0cGxhY2VfZXNjcm93X3Y0L0F0b21pY01hcmtldHBsYWNlRXNjcm93VjQuYWxnby50czo4OAogICAgLy8gcHVibGljIHRyYWRlcyA9IEJveE1hcDx1aW50NjQsIFRyYWRlRXNjcm93Pih7IGtleVByZWZpeDogJ3RyYWRlcycgfSkKICAgIGJ5dGVjXzMgLy8gInRyYWRlcyIKICAgIHN3YXAKICAgIGNvbmNhdAogICAgZHVwCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXRvbWljX21hcmtldHBsYWNlX2VzY3Jvd192NC9BdG9taWNNYXJrZXRwbGFjZUVzY3Jvd1Y0LmFsZ28udHM6NTIzCiAgICAvLyBjb25zdCB0cmFkZSA9IHRoaXMudHJhZGVzKHRyYWRlSWQpLnZhbHVlLmNvcHkoKQogICAgYm94X2dldAogICAgc3dhcAogICAgZHVwCiAgICB1bmNvdmVyIDIKICAgIGFzc2VydCAvLyBCb3ggbXVzdCBoYXZlIHZhbHVlCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXRvbWljX21hcmtldHBsYWNlX2VzY3Jvd192NC9BdG9taWNNYXJrZXRwbGFjZUVzY3Jvd1Y0LmFsZ28udHM6NTI0CiAgICAvLyBhc3NlcnQodHJhZGUuc3RhdGUubmF0aXZlID09PSBFU0NST1dFRCwgJ1RyYWRlIG5vdCBlc2Nyb3dlZCcpCiAgICBkdXAKICAgIHB1c2hpbnQgMTEyIC8vIDExMgogICAgZXh0cmFjdF91aW50NjQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdG9taWNfbWFya2V0cGxhY2VfZXNjcm93X3Y0L0F0b21pY01hcmtldHBsYWNlRXNjcm93VjQuYWxnby50czozOQogICAgLy8gY29uc3QgRVNDUk9XRUQgPSAxIGFzIHVpbnQ2NAogICAgaW50Y18wIC8vIDEKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdG9taWNfbWFya2V0cGxhY2VfZXNjcm93X3Y0L0F0b21pY01hcmtldHBsYWNlRXNjcm93VjQuYWxnby50czo1MjQKICAgIC8vIGFzc2VydCh0cmFkZS5zdGF0ZS5uYXRpdmUgPT09IEVTQ1JPV0VELCAnVHJhZGUgbm90IGVzY3Jvd2VkJykKICAgID09CiAgICBhc3NlcnQgLy8gVHJhZGUgbm90IGVzY3Jvd2VkCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXRvbWljX21hcmtldHBsYWNlX2VzY3Jvd192NC9BdG9taWNNYXJrZXRwbGFjZUVzY3Jvd1Y0LmFsZ28udHM6NTI1CiAgICAvLyBhc3NlcnQodHJhZGUuc2VsbGVyLmJ5dGVzID09PSBUeG4uc2VuZGVyLmJ5dGVzLCAnT25seSBzZWxsZXIgY2FuIGV4ZWN1dGUnKQogICAgZXh0cmFjdCA0MCAzMiAvLyBvbiBlcnJvcjogSW5kZXggYWNjZXNzIGlzIG91dCBvZiBib3VuZHMKICAgIGR1cAogICAgdHhuIFNlbmRlcgogICAgPT0KICAgIGFzc2VydCAvLyBPbmx5IHNlbGxlciBjYW4gZXhlY3V0ZQogICAgLy8gc21hcnRfY29udHJhY3RzL2F0b21pY19tYXJrZXRwbGFjZV9lc2Nyb3dfdjQvQXRvbWljTWFya2V0cGxhY2VFc2Nyb3dWNC5hbGdvLnRzOjUyNgogICAgLy8gYXNzZXJ0KHJlZ3VsYXRvcldhbGxldC5ieXRlcyAhPT0gR2xvYmFsLnplcm9BZGRyZXNzLmJ5dGVzLCAnSW52YWxpZCByZWd1bGF0b3IgYWRkcmVzcycpCiAgICBmcmFtZV9kaWcgLTEKICAgIGdsb2JhbCBaZXJvQWRkcmVzcwogICAgIT0KICAgIGFzc2VydCAvLyBJbnZhbGlkIHJlZ3VsYXRvciBhZGRyZXNzCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXRvbWljX21hcmtldHBsYWNlX2VzY3Jvd192NC9BdG9taWNNYXJrZXRwbGFjZUVzY3Jvd1Y0LmFsZ28udHM6NTI5LTUzMAogICAgLy8gaW5zdHJ1bWVudFR5cGVOdW0gPT09IEJMIHx8CiAgICAvLyBpbnN0cnVtZW50VHlwZU51bSA9PT0gV0FSRUhPVVNFX1JFQ0VJUFQsCiAgICBmcmFtZV9kaWcgLTUKICAgIGJ6IGV4ZWN1dGVUcmFkZVdpdGhBc3NldF9ib29sX3RydWVAMgogICAgLy8gc21hcnRfY29udHJhY3RzL2F0b21pY19tYXJrZXRwbGFjZV9lc2Nyb3dfdjQvQXRvbWljTWFya2V0cGxhY2VFc2Nyb3dWNC5hbGdvLnRzOjUzMAogICAgLy8gaW5zdHJ1bWVudFR5cGVOdW0gPT09IFdBUkVIT1VTRV9SRUNFSVBULAogICAgZnJhbWVfZGlnIC01CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXRvbWljX21hcmtldHBsYWNlX2VzY3Jvd192NC9BdG9taWNNYXJrZXRwbGFjZUVzY3Jvd1Y0LmFsZ28udHM6NDcKICAgIC8vIGNvbnN0IFdBUkVIT1VTRV9SRUNFSVBUID0gMSBhcyB1aW50NjQKICAgIGludGNfMCAvLyAxCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXRvbWljX21hcmtldHBsYWNlX2VzY3Jvd192NC9BdG9taWNNYXJrZXRwbGFjZUVzY3Jvd1Y0LmFsZ28udHM6NTMwCiAgICAvLyBpbnN0cnVtZW50VHlwZU51bSA9PT0gV0FSRUhPVVNFX1JFQ0VJUFQsCiAgICA9PQogICAgLy8gc21hcnRfY29udHJhY3RzL2F0b21pY19tYXJrZXRwbGFjZV9lc2Nyb3dfdjQvQXRvbWljTWFya2V0cGxhY2VFc2Nyb3dWNC5hbGdvLnRzOjUyOS01MzAKICAgIC8vIGluc3RydW1lbnRUeXBlTnVtID09PSBCTCB8fAogICAgLy8gaW5zdHJ1bWVudFR5cGVOdW0gPT09IFdBUkVIT1VTRV9SRUNFSVBULAogICAgYnogZXhlY3V0ZVRyYWRlV2l0aEFzc2V0X2Jvb2xfZmFsc2VAMwoKZXhlY3V0ZVRyYWRlV2l0aEFzc2V0X2Jvb2xfdHJ1ZUAyOgogICAgaW50Y18wIC8vIDEKCmV4ZWN1dGVUcmFkZVdpdGhBc3NldF9ib29sX21lcmdlQDQ6CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXRvbWljX21hcmtldHBsYWNlX2VzY3Jvd192NC9BdG9taWNNYXJrZXRwbGFjZUVzY3Jvd1Y0LmFsZ28udHM6NTI4LTUzMgogICAgLy8gYXNzZXJ0KAogICAgLy8gICBpbnN0cnVtZW50VHlwZU51bSA9PT0gQkwgfHwKICAgIC8vICAgaW5zdHJ1bWVudFR5cGVOdW0gPT09IFdBUkVIT1VTRV9SRUNFSVBULAogICAgLy8gICAnSW52YWxpZCBpbnN0cnVtZW50IHR5cGUnCiAgICAvLyApCiAgICBhc3NlcnQgLy8gSW52YWxpZCBpbnN0cnVtZW50IHR5cGUKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdG9taWNfbWFya2V0cGxhY2VfZXNjcm93X3Y0L0F0b21pY01hcmtldHBsYWNlRXNjcm93VjQuYWxnby50czo1MzQKICAgIC8vIGNvbnN0IHJlZ3VsYXRvclRheDogdWludDY0ID0gKHRyYWRlLmFtb3VudC5uYXRpdmUgKiB0aGlzLnJlZ3VsYXRvclRheFJhdGUudmFsdWUpIC8gMTAwMDAKICAgIGZyYW1lX2RpZyA2CiAgICBkdXAKICAgIHB1c2hpbnQgMTA0IC8vIDEwNAogICAgZXh0cmFjdF91aW50NjQKICAgIGR1cAogICAgZnJhbWVfYnVyeSAzCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXRvbWljX21hcmtldHBsYWNlX2VzY3Jvd192NC9BdG9taWNNYXJrZXRwbGFjZUVzY3Jvd1Y0LmFsZ28udHM6MTA3CiAgICAvLyBwdWJsaWMgcmVndWxhdG9yVGF4UmF0ZSA9IEdsb2JhbFN0YXRlPHVpbnQ2ND4oKQogICAgaW50Y18xIC8vIDAKICAgIGJ5dGVjIDcgLy8gInJlZ3VsYXRvclRheFJhdGUiCiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIEdsb2JhbFN0YXRlIGV4aXN0cwogICAgLy8gc21hcnRfY29udHJhY3RzL2F0b21pY19tYXJrZXRwbGFjZV9lc2Nyb3dfdjQvQXRvbWljTWFya2V0cGxhY2VFc2Nyb3dWNC5hbGdvLnRzOjUzNAogICAgLy8gY29uc3QgcmVndWxhdG9yVGF4OiB1aW50NjQgPSAodHJhZGUuYW1vdW50Lm5hdGl2ZSAqIHRoaXMucmVndWxhdG9yVGF4UmF0ZS52YWx1ZSkgLyAxMDAwMAogICAgZGlnIDEKICAgICoKICAgIGludGNfMyAvLyAxMDAwMAogICAgLwogICAgZnJhbWVfYnVyeSAyCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXRvbWljX21hcmtldHBsYWNlX2VzY3Jvd192NC9BdG9taWNNYXJrZXRwbGFjZUVzY3Jvd1Y0LmFsZ28udHM6MTA4CiAgICAvLyBwdWJsaWMgcmVndWxhdG9yUmVmdW5kUmF0ZSA9IEdsb2JhbFN0YXRlPHVpbnQ2ND4oKQogICAgaW50Y18xIC8vIDAKICAgIGJ5dGVjIDggLy8gInJlZ3VsYXRvclJlZnVuZFJhdGUiCiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIEdsb2JhbFN0YXRlIGV4aXN0cwogICAgLy8gc21hcnRfY29udHJhY3RzL2F0b21pY19tYXJrZXRwbGFjZV9lc2Nyb3dfdjQvQXRvbWljTWFya2V0cGxhY2VFc2Nyb3dWNC5hbGdvLnRzOjUzNQogICAgLy8gY29uc3QgcmVndWxhdG9yUmVmdW5kOiB1aW50NjQgPSAodHJhZGUuYW1vdW50Lm5hdGl2ZSAqIHRoaXMucmVndWxhdG9yUmVmdW5kUmF0ZS52YWx1ZSkgLyAxMDAwMAogICAgKgogICAgaW50Y18zIC8vIDEwMDAwCiAgICAvCiAgICBmcmFtZV9idXJ5IDEKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdG9taWNfbWFya2V0cGxhY2VfZXNjcm93X3Y0L0F0b21pY01hcmtldHBsYWNlRXNjcm93VjQuYWxnby50czo1MzcKICAgIC8vIGFzc2VydChHbG9iYWwuZ3JvdXBTaXplID09PSAzLCAnTXVzdCBiZSAzLXRyYW5zYWN0aW9uIGdyb3VwJykKICAgIGdsb2JhbCBHcm91cFNpemUKICAgIHB1c2hpbnQgMyAvLyAzCiAgICA9PQogICAgYXNzZXJ0IC8vIE11c3QgYmUgMy10cmFuc2FjdGlvbiBncm91cAogICAgLy8gc21hcnRfY29udHJhY3RzL2F0b21pY19tYXJrZXRwbGFjZV9lc2Nyb3dfdjQvQXRvbWljTWFya2V0cGxhY2VFc2Nyb3dWNC5hbGdvLnRzOjEwMgogICAgLy8gcHVibGljIHNldHRsZW1lbnRDdXJyZW5jeSA9IEdsb2JhbFN0YXRlPHVpbnQ2ND4oKSAgLy8gMCA9IEFMR08sIEFTQSBJRCA9IHRoYXQgYXNzZXQKICAgIGludGNfMSAvLyAwCiAgICBieXRlY18xIC8vICJzZXR0bGVtZW50Q3VycmVuY3kiCiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIEdsb2JhbFN0YXRlIGV4aXN0cwogICAgLy8gc21hcnRfY29udHJhY3RzL2F0b21pY19tYXJrZXRwbGFjZV9lc2Nyb3dfdjQvQXRvbWljTWFya2V0cGxhY2VFc2Nyb3dWNC5hbGdvLnRzOjE3MAogICAgLy8gcmV0dXJuIHRoaXMuc2V0dGxlbWVudEN1cnJlbmN5LnZhbHVlID09PSAwCiAgICAhCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXRvbWljX21hcmtldHBsYWNlX2VzY3Jvd192NC9BdG9taWNNYXJrZXRwbGFjZUVzY3Jvd1Y0LmFsZ28udHM6NTM4CiAgICAvLyBhc3NlcnQoIXRoaXMuaXNBbGdvUGF5bWVudCgpLCAnTXVzdCB1c2UgQVNBIHBheW1lbnQgZm9yIHRoaXMgbWV0aG9kJykKICAgICEKICAgIGFzc2VydCAvLyBNdXN0IHVzZSBBU0EgcGF5bWVudCBmb3IgdGhpcyBtZXRob2QKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdG9taWNfbWFya2V0cGxhY2VfZXNjcm93X3Y0L0F0b21pY01hcmtldHBsYWNlRXNjcm93VjQuYWxnby50czo1NDEKICAgIC8vIGFzc2VydChpbnN0cnVtZW50VHhuLnNlbmRlci5ieXRlcyA9PT0gVHhuLnNlbmRlci5ieXRlcywgJ0luc3RydW1lbnQgbXVzdCBjb21lIGZyb20gc2VsbGVyJykKICAgIGZyYW1lX2RpZyAtOQogICAgZ3R4bnMgU2VuZGVyCiAgICB0eG4gU2VuZGVyCiAgICA9PQogICAgYXNzZXJ0IC8vIEluc3RydW1lbnQgbXVzdCBjb21lIGZyb20gc2VsbGVyCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXRvbWljX21hcmtldHBsYWNlX2VzY3Jvd192NC9BdG9taWNNYXJrZXRwbGFjZUVzY3Jvd1Y0LmFsZ28udHM6NTQyCiAgICAvLyBhc3NlcnQoaW5zdHJ1bWVudFR4bi54ZmVyQXNzZXQgPT09IEFzc2V0KGluc3RydW1lbnRBc3NldElkKSwgJ1dyb25nIGluc3RydW1lbnQgYXNzZXQnKQogICAgZnJhbWVfZGlnIC05CiAgICBndHhucyBYZmVyQXNzZXQKICAgIGZyYW1lX2RpZyAtNgogICAgPT0KICAgIGFzc2VydCAvLyBXcm9uZyBpbnN0cnVtZW50IGFzc2V0CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXRvbWljX21hcmtldHBsYWNlX2VzY3Jvd192NC9BdG9taWNNYXJrZXRwbGFjZUVzY3Jvd1Y0LmFsZ28udHM6NTQzCiAgICAvLyBhc3NlcnQoaW5zdHJ1bWVudFR4bi5hc3NldEFtb3VudCA9PT0gMSwgJ011c3QgdHJhbnNmZXIgMSBpbnN0cnVtZW50IE5GVCcpCiAgICBmcmFtZV9kaWcgLTkKICAgIGd0eG5zIEFzc2V0QW1vdW50CiAgICBpbnRjXzAgLy8gMQogICAgPT0KICAgIGFzc2VydCAvLyBNdXN0IHRyYW5zZmVyIDEgaW5zdHJ1bWVudCBORlQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdG9taWNfbWFya2V0cGxhY2VfZXNjcm93X3Y0L0F0b21pY01hcmtldHBsYWNlRXNjcm93VjQuYWxnby50czo1NDYKICAgIC8vIGlmICh0cmFkZS5lc2Nyb3dQcm92aWRlci5ieXRlcyA9PT0gdHJhZGUuYnV5ZXIuYnl0ZXMpIHsKICAgIGR1cAogICAgZXh0cmFjdCA3MiAzMiAvLyBvbiBlcnJvcjogSW5kZXggYWNjZXNzIGlzIG91dCBvZiBib3VuZHMKICAgIHN3YXAKICAgIGV4dHJhY3QgOCAzMiAvLyBvbiBlcnJvcjogSW5kZXggYWNjZXNzIGlzIG91dCBvZiBib3VuZHMKICAgIGR1cAogICAgZnJhbWVfYnVyeSAwCiAgICA9PQogICAgYnogZXhlY3V0ZVRyYWRlV2l0aEFzc2V0X2Vsc2VfYm9keUA2CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXRvbWljX21hcmtldHBsYWNlX2VzY3Jvd192NC9BdG9taWNNYXJrZXRwbGFjZUVzY3Jvd1Y0LmFsZ28udHM6NTQ3CiAgICAvLyBhc3NlcnQoaW5zdHJ1bWVudFR4bi5hc3NldFJlY2VpdmVyLmJ5dGVzID09PSB0cmFkZS5idXllci5ieXRlcywgJ0luc3RydW1lbnQgbXVzdCBnbyB0byBidXllcicpCiAgICBmcmFtZV9kaWcgLTkKICAgIGd0eG5zIEFzc2V0UmVjZWl2ZXIKICAgIGZyYW1lX2RpZyAwCiAgICA9PQogICAgYXNzZXJ0IC8vIEluc3RydW1lbnQgbXVzdCBnbyB0byBidXllcgoKZXhlY3V0ZVRyYWRlV2l0aEFzc2V0X2FmdGVyX2lmX2Vsc2VANzoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdG9taWNfbWFya2V0cGxhY2VfZXNjcm93X3Y0L0F0b21pY01hcmtldHBsYWNlRXNjcm93VjQuYWxnby50czo1NTMKICAgIC8vIHRoaXMudmVyaWZ5QXNzZXRUcmFuc2ZlclR4bihyZWd1bGF0b3JBc3NldFBheW1lbnQsIHJlZ3VsYXRvclRheCwgcmVndWxhdG9yV2FsbGV0LmJ5dGVzLCBUeG4uc2VuZGVyLmJ5dGVzKQogICAgdHhuIFNlbmRlcgogICAgZnJhbWVfZGlnIC04CiAgICBmcmFtZV9kaWcgMgogICAgZHVwCiAgICBjb3ZlciAzCiAgICBmcmFtZV9kaWcgLTEKICAgIHVuY292ZXIgMwogICAgY2FsbHN1YiB2ZXJpZnlBc3NldFRyYW5zZmVyVHhuCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXRvbWljX21hcmtldHBsYWNlX2VzY3Jvd192NC9BdG9taWNNYXJrZXRwbGFjZUVzY3Jvd1Y0LmFsZ28udHM6MTAxCiAgICAvLyBwdWJsaWMgcGxhdGZvcm1UcmVhc3VyeSA9IEdsb2JhbFN0YXRlPGJ5dGVzPigpCiAgICBpbnRjXzEgLy8gMAogICAgYnl0ZWMgMTIgLy8gInBsYXRmb3JtVHJlYXN1cnkiCiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIEdsb2JhbFN0YXRlIGV4aXN0cwogICAgLy8gc21hcnRfY29udHJhY3RzL2F0b21pY19tYXJrZXRwbGFjZV9lc2Nyb3dfdjQvQXRvbWljTWFya2V0cGxhY2VFc2Nyb3dWNC5hbGdvLnRzOjU1NgogICAgLy8gdGhpcy5zZW5kUGF5bWVudCh0aGlzLnBsYXRmb3JtVHJlYXN1cnkudmFsdWUsIHRyYWRlLm1hcmtldHBsYWNlRmVlLm5hdGl2ZSkKICAgIGZyYW1lX2RpZyA2CiAgICBkdXAKICAgIGNvdmVyIDIKICAgIGludGMgNCAvLyAyMDAKICAgIGV4dHJhY3RfdWludDY0CiAgICBjYWxsc3ViIHNlbmRQYXltZW50CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXRvbWljX21hcmtldHBsYWNlX2VzY3Jvd192NC9BdG9taWNNYXJrZXRwbGFjZUVzY3Jvd1Y0LmFsZ28udHM6NTU5CiAgICAvLyB0aGlzLnNlbmRQYXltZW50KHRyYWRlLnNlbGxlci5ieXRlcywgdHJhZGUuYW1vdW50Lm5hdGl2ZSkKICAgIGZyYW1lX2RpZyA3CiAgICBmcmFtZV9kaWcgMwogICAgY2FsbHN1YiBzZW5kUGF5bWVudAogICAgLy8gc21hcnRfY29udHJhY3RzL2F0b21pY19tYXJrZXRwbGFjZV9lc2Nyb3dfdjQvQXRvbWljTWFya2V0cGxhY2VFc2Nyb3dWNC5hbGdvLnRzOjU2MgogICAgLy8gdHJhZGUuc3RhdGUgPSBuZXcgYXJjNC5VaW50TjY0KEVYRUNVVEVEKQogICAgYnl0ZWMgMTYgLy8gMHgwMDAwMDAwMDAwMDAwMDAyCiAgICByZXBsYWNlMiAxMTIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdG9taWNfbWFya2V0cGxhY2VfZXNjcm93X3Y0L0F0b21pY01hcmtldHBsYWNlRXNjcm93VjQuYWxnby50czo1NjMKICAgIC8vIHRyYWRlLmluc3RydW1lbnRBc3NldElkID0gbmV3IGFyYzQuVWludE42NChpbnN0cnVtZW50QXNzZXRJZCkKICAgIGZyYW1lX2RpZyAtNgogICAgaXRvYgogICAgcmVwbGFjZTIgMTI4CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXRvbWljX21hcmtldHBsYWNlX2VzY3Jvd192NC9BdG9taWNNYXJrZXRwbGFjZUVzY3Jvd1Y0LmFsZ28udHM6NTY0CiAgICAvLyB0cmFkZS5pbnN0cnVtZW50VHlwZSA9IG5ldyBhcmM0LlVpbnRONjQoaW5zdHJ1bWVudFR5cGVOdW0pCiAgICBmcmFtZV9kaWcgLTUKICAgIGl0b2IKICAgIHJlcGxhY2UyIDEzNgogICAgLy8gc21hcnRfY29udHJhY3RzL2F0b21pY19tYXJrZXRwbGFjZV9lc2Nyb3dfdjQvQXRvbWljTWFya2V0cGxhY2VFc2Nyb3dWNC5hbGdvLnRzOjU2NQogICAgLy8gdHJhZGUuaW5zdHJ1bWVudFZhbHVlID0gbmV3IGFyYzQuVWludE42NCh0cmFkZS5hbW91bnQubmF0aXZlKQogICAgZHVwCiAgICBwdXNoaW50IDEwNCAvLyAxMDQKICAgIGV4dHJhY3RfdWludDY0CiAgICBpdG9iCiAgICByZXBsYWNlMiAxNDQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdG9taWNfbWFya2V0cGxhY2VfZXNjcm93X3Y0L0F0b21pY01hcmtldHBsYWNlRXNjcm93VjQuYWxnby50czo1NjYKICAgIC8vIHRyYWRlLnJlZ3VsYXRvcldhbGxldCA9IHJlZ3VsYXRvcldhbGxldAogICAgZnJhbWVfZGlnIC0xCiAgICByZXBsYWNlMiAxNTIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdG9taWNfbWFya2V0cGxhY2VfZXNjcm93X3Y0L0F0b21pY01hcmtldHBsYWNlRXNjcm93VjQuYWxnby50czo1NjcKICAgIC8vIHRyYWRlLnJlZ3VsYXRvclRheFBhaWQgPSBuZXcgYXJjNC5VaW50TjY0KHJlZ3VsYXRvclRheCkKICAgIHN3YXAKICAgIGl0b2IKICAgIHJlcGxhY2UyIDE4NAogICAgLy8gc21hcnRfY29udHJhY3RzL2F0b21pY19tYXJrZXRwbGFjZV9lc2Nyb3dfdjQvQXRvbWljTWFya2V0cGxhY2VFc2Nyb3dWNC5hbGdvLnRzOjU2OAogICAgLy8gdHJhZGUucmVndWxhdG9yUmVmdW5kRHVlID0gbmV3IGFyYzQuVWludE42NChyZWd1bGF0b3JSZWZ1bmQpCiAgICBmcmFtZV9kaWcgMQogICAgaXRvYgogICAgcmVwbGFjZTIgMTkyCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXRvbWljX21hcmtldHBsYWNlX2VzY3Jvd192NC9BdG9taWNNYXJrZXRwbGFjZUVzY3Jvd1Y0LmFsZ28udHM6NTcwCiAgICAvLyB0aGlzLnRyYWRlcyh0cmFkZUlkKS52YWx1ZSA9IHRyYWRlLmNvcHkoKQogICAgZnJhbWVfZGlnIDUKICAgIHN3YXAKICAgIGJveF9wdXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdG9taWNfbWFya2V0cGxhY2VfZXNjcm93X3Y0L0F0b21pY01hcmtldHBsYWNlRXNjcm93VjQuYWxnby50czo4OQogICAgLy8gcHVibGljIG1ldGFkYXRhID0gQm94TWFwPHVpbnQ2NCwgVHJhZGVNZXRhZGF0YT4oeyBrZXlQcmVmaXg6ICdtZXRhZGF0YScgfSkKICAgIGJ5dGVjIDEwIC8vICJtZXRhZGF0YSIKICAgIGZyYW1lX2RpZyA0CiAgICBjb25jYXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdG9taWNfbWFya2V0cGxhY2VfZXNjcm93X3Y0L0F0b21pY01hcmtldHBsYWNlRXNjcm93VjQuYWxnby50czo1NzMKICAgIC8vIGNvbnN0IG1ldGEgPSB0aGlzLm1ldGFkYXRhKHRyYWRlSWQpLnZhbHVlLmNvcHkoKQogICAgZHVwCiAgICBib3hfZ2V0CiAgICBhc3NlcnQgLy8gQm94IG11c3QgaGF2ZSB2YWx1ZQogICAgLy8gc21hcnRfY29udHJhY3RzL2F0b21pY19tYXJrZXRwbGFjZV9lc2Nyb3dfdjQvQXRvbWljTWFya2V0cGxhY2VFc2Nyb3dWNC5hbGdvLnRzOjU3NAogICAgLy8gbWV0YS5sZWlJZCA9IG5ldyBhcmM0LlN0cihsZWlJZCkKICAgIGZyYW1lX2RpZyAtNAogICAgbGVuCiAgICBpdG9iCiAgICBleHRyYWN0IDYgMgogICAgZnJhbWVfZGlnIC00CiAgICBjb25jYXQKICAgIGRpZyAxCiAgICBwdXNoaW50IDYgLy8gNgogICAgZXh0cmFjdF91aW50MTYKICAgIGRpZyAyCiAgICBpbnRjXzEgLy8gMAogICAgZGlnIDIKICAgIGV4dHJhY3QzCiAgICBkaWcgMwogICAgcHVzaGludCA4IC8vIDgKICAgIGV4dHJhY3RfdWludDE2CiAgICBkaWcgNAogICAgbGVuCiAgICB1bmNvdmVyIDUKICAgIGRpZyAyCiAgICB1bmNvdmVyIDIKICAgIHN1YnN0cmluZzMKICAgIHVuY292ZXIgMgogICAgZGlnIDQKICAgIGNvbmNhdAogICAgc3dhcAogICAgY29uY2F0CiAgICBzd2FwCiAgICB1bmNvdmVyIDIKICAgIC0KICAgIHVuY292ZXIgMgogICAgbGVuCiAgICBkaWcgMgogICAgcHVzaGludCA4IC8vIDgKICAgIGV4dHJhY3RfdWludDE2CiAgICBkaWcgMQogICAgKwogICAgZGlnIDIKICAgIC0KICAgIGl0b2IKICAgIGV4dHJhY3QgNiAyCiAgICB1bmNvdmVyIDMKICAgIHN3YXAKICAgIHJlcGxhY2UyIDgKICAgIGR1cAogICAgcHVzaGludCAxMCAvLyAxMAogICAgZXh0cmFjdF91aW50MTYKICAgIHVuY292ZXIgMgogICAgKwogICAgdW5jb3ZlciAyCiAgICAtCiAgICBpdG9iCiAgICBleHRyYWN0IDYgMgogICAgcmVwbGFjZTIgMTAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdG9taWNfbWFya2V0cGxhY2VfZXNjcm93X3Y0L0F0b21pY01hcmtldHBsYWNlRXNjcm93VjQuYWxnby50czo1NzUKICAgIC8vIG1ldGEubGVpTmFtZSA9IG5ldyBhcmM0LlN0cihsZWlOYW1lKQogICAgZnJhbWVfZGlnIC0zCiAgICBsZW4KICAgIGl0b2IKICAgIGV4dHJhY3QgNiAyCiAgICBmcmFtZV9kaWcgLTMKICAgIGNvbmNhdAogICAgZGlnIDEKICAgIHB1c2hpbnQgOCAvLyA4CiAgICBleHRyYWN0X3VpbnQxNgogICAgZGlnIDIKICAgIGludGNfMSAvLyAwCiAgICBkaWcgMgogICAgZXh0cmFjdDMKICAgIGRpZyAzCiAgICBwdXNoaW50IDEwIC8vIDEwCiAgICBleHRyYWN0X3VpbnQxNgogICAgZGlnIDQKICAgIGxlbgogICAgdW5jb3ZlciA1CiAgICBkaWcgMgogICAgdW5jb3ZlciAyCiAgICBzdWJzdHJpbmczCiAgICB1bmNvdmVyIDIKICAgIGRpZyA0CiAgICBjb25jYXQKICAgIHN3YXAKICAgIGNvbmNhdAogICAgc3dhcAogICAgdW5jb3ZlciAyCiAgICAtCiAgICB1bmNvdmVyIDIKICAgIGxlbgogICAgZGlnIDIKICAgIHB1c2hpbnQgMTAgLy8gMTAKICAgIGV4dHJhY3RfdWludDE2CiAgICArCiAgICBzd2FwCiAgICAtCiAgICBpdG9iCiAgICBleHRyYWN0IDYgMgogICAgcmVwbGFjZTIgMTAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdG9taWNfbWFya2V0cGxhY2VfZXNjcm93X3Y0L0F0b21pY01hcmtldHBsYWNlRXNjcm93VjQuYWxnby50czo1NzYKICAgIC8vIG1ldGEuaW5zdHJ1bWVudE51bWJlciA9IG5ldyBhcmM0LlN0cihpbnN0cnVtZW50TnVtYmVyKQogICAgZnJhbWVfZGlnIC0yCiAgICBsZW4KICAgIGl0b2IKICAgIGV4dHJhY3QgNiAyCiAgICBmcmFtZV9kaWcgLTIKICAgIGNvbmNhdAogICAgZGlnIDEKICAgIHB1c2hpbnQgMTAgLy8gMTAKICAgIGV4dHJhY3RfdWludDE2CiAgICB1bmNvdmVyIDIKICAgIGludGNfMSAvLyAwCiAgICB1bmNvdmVyIDIKICAgIGV4dHJhY3QzCiAgICBzd2FwCiAgICBjb25jYXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdG9taWNfbWFya2V0cGxhY2VfZXNjcm93X3Y0L0F0b21pY01hcmtldHBsYWNlRXNjcm93VjQuYWxnby50czo1NzcKICAgIC8vIHRoaXMubWV0YWRhdGEodHJhZGVJZCkudmFsdWUgPSBtZXRhLmNvcHkoKQogICAgZGlnIDEKICAgIGJveF9kZWwKICAgIHBvcAogICAgYm94X3B1dAogICAgLy8gc21hcnRfY29udHJhY3RzL2F0b21pY19tYXJrZXRwbGFjZV9lc2Nyb3dfdjQvQXRvbWljTWFya2V0cGxhY2VFc2Nyb3dWNC5hbGdvLnRzOjU3OQogICAgLy8gcmV0dXJuIHRydWUKICAgIGludGNfMCAvLyAxCiAgICBmcmFtZV9idXJ5IDAKICAgIHJldHN1YgoKZXhlY3V0ZVRyYWRlV2l0aEFzc2V0X2Vsc2VfYm9keUA2OgogICAgLy8gc21hcnRfY29udHJhY3RzL2F0b21pY19tYXJrZXRwbGFjZV9lc2Nyb3dfdjQvQXRvbWljTWFya2V0cGxhY2VFc2Nyb3dWNC5hbGdvLnRzOjU0OQogICAgLy8gYXNzZXJ0KGluc3RydW1lbnRUeG4uYXNzZXRSZWNlaXZlci5ieXRlcyA9PT0gR2xvYmFsLmN1cnJlbnRBcHBsaWNhdGlvbkFkZHJlc3MuYnl0ZXMsICdJbnN0cnVtZW50IG11c3QgZ28gdG8gbWFya2V0cGxhY2UnKQogICAgZnJhbWVfZGlnIC05CiAgICBndHhucyBBc3NldFJlY2VpdmVyCiAgICBnbG9iYWwgQ3VycmVudEFwcGxpY2F0aW9uQWRkcmVzcwogICAgPT0KICAgIGFzc2VydCAvLyBJbnN0cnVtZW50IG11c3QgZ28gdG8gbWFya2V0cGxhY2UKICAgIGIgZXhlY3V0ZVRyYWRlV2l0aEFzc2V0X2FmdGVyX2lmX2Vsc2VANwoKZXhlY3V0ZVRyYWRlV2l0aEFzc2V0X2Jvb2xfZmFsc2VAMzoKICAgIGludGNfMSAvLyAwCiAgICBiIGV4ZWN1dGVUcmFkZVdpdGhBc3NldF9ib29sX21lcmdlQDQKCgovLyBzbWFydF9jb250cmFjdHMvYXRvbWljX21hcmtldHBsYWNlX2VzY3Jvd192NC9BdG9taWNNYXJrZXRwbGFjZUVzY3Jvd1Y0LmFsZ28udHM6OkF0b21pY01hcmtldHBsYWNlRXNjcm93VjQuYWNrbm93bGVkZ2VQYXltZW50KHJlZ3VsYXRvclJlZnVuZDogdWludDY0LCB0cmFkZUlkOiB1aW50NjQpIC0+IHVpbnQ2NDoKYWNrbm93bGVkZ2VQYXltZW50OgogICAgLy8gc21hcnRfY29udHJhY3RzL2F0b21pY19tYXJrZXRwbGFjZV9lc2Nyb3dfdjQvQXRvbWljTWFya2V0cGxhY2VFc2Nyb3dWNC5hbGdvLnRzOjU4OS01OTAKICAgIC8vIEBhYmltZXRob2QoKQogICAgLy8gcHVibGljIGFja25vd2xlZGdlUGF5bWVudChyZWd1bGF0b3JSZWZ1bmQ6IGd0eG4uUGF5bWVudFR4biwgdHJhZGVJZDogdWludDY0KTogYm9vbGVhbiB7CiAgICBwcm90byAyIDEKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdG9taWNfbWFya2V0cGxhY2VfZXNjcm93X3Y0L0F0b21pY01hcmtldHBsYWNlRXNjcm93VjQuYWxnby50czo1OTEKICAgIC8vIGNvbnN0IHRyYWRlID0gdGhpcy50cmFkZXModHJhZGVJZCkudmFsdWUuY29weSgpCiAgICBmcmFtZV9kaWcgLTEKICAgIGl0b2IKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdG9taWNfbWFya2V0cGxhY2VfZXNjcm93X3Y0L0F0b21pY01hcmtldHBsYWNlRXNjcm93VjQuYWxnby50czo4OAogICAgLy8gcHVibGljIHRyYWRlcyA9IEJveE1hcDx1aW50NjQsIFRyYWRlRXNjcm93Pih7IGtleVByZWZpeDogJ3RyYWRlcycgfSkKICAgIGJ5dGVjXzMgLy8gInRyYWRlcyIKICAgIHN3YXAKICAgIGNvbmNhdAogICAgLy8gc21hcnRfY29udHJhY3RzL2F0b21pY19tYXJrZXRwbGFjZV9lc2Nyb3dfdjQvQXRvbWljTWFya2V0cGxhY2VFc2Nyb3dWNC5hbGdvLnRzOjU5MQogICAgLy8gY29uc3QgdHJhZGUgPSB0aGlzLnRyYWRlcyh0cmFkZUlkKS52YWx1ZS5jb3B5KCkKICAgIGR1cAogICAgYm94X2dldAogICAgYXNzZXJ0IC8vIEJveCBtdXN0IGhhdmUgdmFsdWUKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdG9taWNfbWFya2V0cGxhY2VfZXNjcm93X3Y0L0F0b21pY01hcmtldHBsYWNlRXNjcm93VjQuYWxnby50czo1OTIKICAgIC8vIGFzc2VydCh0cmFkZS5zdGF0ZS5uYXRpdmUgPT09IEVYRUNVVEVELCAnVHJhZGUgbm90IGV4ZWN1dGVkJykKICAgIGR1cAogICAgcHVzaGludCAxMTIgLy8gMTEyCiAgICBleHRyYWN0X3VpbnQ2NAogICAgLy8gc21hcnRfY29udHJhY3RzL2F0b21pY19tYXJrZXRwbGFjZV9lc2Nyb3dfdjQvQXRvbWljTWFya2V0cGxhY2VFc2Nyb3dWNC5hbGdvLnRzOjQwCiAgICAvLyBjb25zdCBFWEVDVVRFRCA9IDIgYXMgdWludDY0CiAgICBpbnRjXzIgLy8gMgogICAgLy8gc21hcnRfY29udHJhY3RzL2F0b21pY19tYXJrZXRwbGFjZV9lc2Nyb3dfdjQvQXRvbWljTWFya2V0cGxhY2VFc2Nyb3dWNC5hbGdvLnRzOjU5MgogICAgLy8gYXNzZXJ0KHRyYWRlLnN0YXRlLm5hdGl2ZSA9PT0gRVhFQ1VURUQsICdUcmFkZSBub3QgZXhlY3V0ZWQnKQogICAgPT0KICAgIGFzc2VydCAvLyBUcmFkZSBub3QgZXhlY3V0ZWQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdG9taWNfbWFya2V0cGxhY2VfZXNjcm93X3Y0L0F0b21pY01hcmtldHBsYWNlRXNjcm93VjQuYWxnby50czo1OTMKICAgIC8vIGFzc2VydCh0cmFkZS5zZWxsZXIuYnl0ZXMgPT09IFR4bi5zZW5kZXIuYnl0ZXMsICdPbmx5IHNlbGxlciBjYW4gYWNrbm93bGVkZ2UnKQogICAgZHVwCiAgICBleHRyYWN0IDQwIDMyIC8vIG9uIGVycm9yOiBJbmRleCBhY2Nlc3MgaXMgb3V0IG9mIGJvdW5kcwogICAgZHVwCiAgICB0eG4gU2VuZGVyCiAgICA9PQogICAgYXNzZXJ0IC8vIE9ubHkgc2VsbGVyIGNhbiBhY2tub3dsZWRnZQogICAgLy8gc21hcnRfY29udHJhY3RzL2F0b21pY19tYXJrZXRwbGFjZV9lc2Nyb3dfdjQvQXRvbWljTWFya2V0cGxhY2VFc2Nyb3dWNC5hbGdvLnRzOjU5NQogICAgLy8gYXNzZXJ0KEdsb2JhbC5ncm91cFNpemUgPT09IDIsICdNdXN0IGJlIGdyb3VwIHRyYW5zYWN0aW9uJykKICAgIGdsb2JhbCBHcm91cFNpemUKICAgIGludGNfMiAvLyAyCiAgICA9PQogICAgYXNzZXJ0IC8vIE11c3QgYmUgZ3JvdXAgdHJhbnNhY3Rpb24KICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdG9taWNfbWFya2V0cGxhY2VfZXNjcm93X3Y0L0F0b21pY01hcmtldHBsYWNlRXNjcm93VjQuYWxnby50czoxMDIKICAgIC8vIHB1YmxpYyBzZXR0bGVtZW50Q3VycmVuY3kgPSBHbG9iYWxTdGF0ZTx1aW50NjQ+KCkgIC8vIDAgPSBBTEdPLCBBU0EgSUQgPSB0aGF0IGFzc2V0CiAgICBpbnRjXzEgLy8gMAogICAgYnl0ZWNfMSAvLyAic2V0dGxlbWVudEN1cnJlbmN5IgogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIGFzc2VydCAvLyBjaGVjayBHbG9iYWxTdGF0ZSBleGlzdHMKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdG9taWNfbWFya2V0cGxhY2VfZXNjcm93X3Y0L0F0b21pY01hcmtldHBsYWNlRXNjcm93VjQuYWxnby50czoxNzAKICAgIC8vIHJldHVybiB0aGlzLnNldHRsZW1lbnRDdXJyZW5jeS52YWx1ZSA9PT0gMAogICAgIQogICAgLy8gc21hcnRfY29udHJhY3RzL2F0b21pY19tYXJrZXRwbGFjZV9lc2Nyb3dfdjQvQXRvbWljTWFya2V0cGxhY2VFc2Nyb3dWNC5hbGdvLnRzOjU5NgogICAgLy8gYXNzZXJ0KHRoaXMuaXNBbGdvUGF5bWVudCgpLCAnTXVzdCB1c2UgQUxHTyBwYXltZW50IGZvciB0aGlzIG1ldGhvZCcpCiAgICBhc3NlcnQgLy8gTXVzdCB1c2UgQUxHTyBwYXltZW50IGZvciB0aGlzIG1ldGhvZAogICAgLy8gc21hcnRfY29udHJhY3RzL2F0b21pY19tYXJrZXRwbGFjZV9lc2Nyb3dfdjQvQXRvbWljTWFya2V0cGxhY2VFc2Nyb3dWNC5hbGdvLnRzOjU5OQogICAgLy8gdGhpcy52ZXJpZnlQYXltZW50VHhuKHJlZ3VsYXRvclJlZnVuZCwgdHJhZGUucmVndWxhdG9yUmVmdW5kRHVlLm5hdGl2ZSwgdHJhZGUuc2VsbGVyLmJ5dGVzLCB0cmFkZS5yZWd1bGF0b3JXYWxsZXQuYnl0ZXMpCiAgICBkaWcgMQogICAgcHVzaGludCAxOTIgLy8gMTkyCiAgICBleHRyYWN0X3VpbnQ2NAogICAgZGlnIDIKICAgIGV4dHJhY3QgMTUyIDMyIC8vIG9uIGVycm9yOiBJbmRleCBhY2Nlc3MgaXMgb3V0IG9mIGJvdW5kcwogICAgZnJhbWVfZGlnIC0yCiAgICB1bmNvdmVyIDIKICAgIHVuY292ZXIgMwogICAgdW5jb3ZlciAzCiAgICBjYWxsc3ViIHZlcmlmeVBheW1lbnRUeG4KICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdG9taWNfbWFya2V0cGxhY2VfZXNjcm93X3Y0L0F0b21pY01hcmtldHBsYWNlRXNjcm93VjQuYWxnby50czo2MDEKICAgIC8vIHRyYWRlLnN0YXRlID0gbmV3IGFyYzQuVWludE42NChQQVlNRU5UX0FDS05PV0xFREdFRCkKICAgIGJ5dGVjIDE3IC8vIDB4MDAwMDAwMDAwMDAwMDAwMwogICAgcmVwbGFjZTIgMTEyCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXRvbWljX21hcmtldHBsYWNlX2VzY3Jvd192NC9BdG9taWNNYXJrZXRwbGFjZUVzY3Jvd1Y0LmFsZ28udHM6NjAyCiAgICAvLyB0aGlzLnRyYWRlcyh0cmFkZUlkKS52YWx1ZSA9IHRyYWRlLmNvcHkoKQogICAgZHVwMgogICAgYm94X3B1dAogICAgLy8gc21hcnRfY29udHJhY3RzL2F0b21pY19tYXJrZXRwbGFjZV9lc2Nyb3dfdjQvQXRvbWljTWFya2V0cGxhY2VFc2Nyb3dWNC5hbGdvLnRzOjYwNQogICAgLy8gdHJhZGUuc3RhdGUgPSBuZXcgYXJjNC5VaW50TjY0KENPTVBMRVRFRCkKICAgIGJ5dGVjIDE4IC8vIDB4MDAwMDAwMDAwMDAwMDAwNQogICAgcmVwbGFjZTIgMTEyCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXRvbWljX21hcmtldHBsYWNlX2VzY3Jvd192NC9BdG9taWNNYXJrZXRwbGFjZUVzY3Jvd1Y0LmFsZ28udHM6NjA2CiAgICAvLyB0aGlzLnRyYWRlcyh0cmFkZUlkKS52YWx1ZSA9IHRyYWRlLmNvcHkoKQogICAgYm94X3B1dAogICAgLy8gc21hcnRfY29udHJhY3RzL2F0b21pY19tYXJrZXRwbGFjZV9lc2Nyb3dfdjQvQXRvbWljTWFya2V0cGxhY2VFc2Nyb3dWNC5hbGdvLnRzOjYwOAogICAgLy8gcmV0dXJuIHRydWUKICAgIGludGNfMCAvLyAxCiAgICByZXRzdWIKCgovLyBzbWFydF9jb250cmFjdHMvYXRvbWljX21hcmtldHBsYWNlX2VzY3Jvd192NC9BdG9taWNNYXJrZXRwbGFjZUVzY3Jvd1Y0LmFsZ28udHM6OkF0b21pY01hcmtldHBsYWNlRXNjcm93VjQuYWNrbm93bGVkZ2VQYXltZW50V2l0aEFzc2V0KHJlZ3VsYXRvclJlZnVuZDogdWludDY0LCB0cmFkZUlkOiB1aW50NjQpIC0+IHVpbnQ2NDoKYWNrbm93bGVkZ2VQYXltZW50V2l0aEFzc2V0OgogICAgLy8gc21hcnRfY29udHJhY3RzL2F0b21pY19tYXJrZXRwbGFjZV9lc2Nyb3dfdjQvQXRvbWljTWFya2V0cGxhY2VFc2Nyb3dWNC5hbGdvLnRzOjYxOC02MTkKICAgIC8vIEBhYmltZXRob2QoKQogICAgLy8gcHVibGljIGFja25vd2xlZGdlUGF5bWVudFdpdGhBc3NldChyZWd1bGF0b3JSZWZ1bmQ6IGd0eG4uQXNzZXRUcmFuc2ZlclR4biwgdHJhZGVJZDogdWludDY0KTogYm9vbGVhbiB7CiAgICBwcm90byAyIDEKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdG9taWNfbWFya2V0cGxhY2VfZXNjcm93X3Y0L0F0b21pY01hcmtldHBsYWNlRXNjcm93VjQuYWxnby50czo2MjAKICAgIC8vIGNvbnN0IHRyYWRlID0gdGhpcy50cmFkZXModHJhZGVJZCkudmFsdWUuY29weSgpCiAgICBmcmFtZV9kaWcgLTEKICAgIGl0b2IKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdG9taWNfbWFya2V0cGxhY2VfZXNjcm93X3Y0L0F0b21pY01hcmtldHBsYWNlRXNjcm93VjQuYWxnby50czo4OAogICAgLy8gcHVibGljIHRyYWRlcyA9IEJveE1hcDx1aW50NjQsIFRyYWRlRXNjcm93Pih7IGtleVByZWZpeDogJ3RyYWRlcycgfSkKICAgIGJ5dGVjXzMgLy8gInRyYWRlcyIKICAgIHN3YXAKICAgIGNvbmNhdAogICAgLy8gc21hcnRfY29udHJhY3RzL2F0b21pY19tYXJrZXRwbGFjZV9lc2Nyb3dfdjQvQXRvbWljTWFya2V0cGxhY2VFc2Nyb3dWNC5hbGdvLnRzOjYyMAogICAgLy8gY29uc3QgdHJhZGUgPSB0aGlzLnRyYWRlcyh0cmFkZUlkKS52YWx1ZS5jb3B5KCkKICAgIGR1cAogICAgYm94X2dldAogICAgYXNzZXJ0IC8vIEJveCBtdXN0IGhhdmUgdmFsdWUKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdG9taWNfbWFya2V0cGxhY2VfZXNjcm93X3Y0L0F0b21pY01hcmtldHBsYWNlRXNjcm93VjQuYWxnby50czo2MjEKICAgIC8vIGFzc2VydCh0cmFkZS5zdGF0ZS5uYXRpdmUgPT09IEVYRUNVVEVELCAnVHJhZGUgbm90IGV4ZWN1dGVkJykKICAgIGR1cAogICAgcHVzaGludCAxMTIgLy8gMTEyCiAgICBleHRyYWN0X3VpbnQ2NAogICAgLy8gc21hcnRfY29udHJhY3RzL2F0b21pY19tYXJrZXRwbGFjZV9lc2Nyb3dfdjQvQXRvbWljTWFya2V0cGxhY2VFc2Nyb3dWNC5hbGdvLnRzOjQwCiAgICAvLyBjb25zdCBFWEVDVVRFRCA9IDIgYXMgdWludDY0CiAgICBpbnRjXzIgLy8gMgogICAgLy8gc21hcnRfY29udHJhY3RzL2F0b21pY19tYXJrZXRwbGFjZV9lc2Nyb3dfdjQvQXRvbWljTWFya2V0cGxhY2VFc2Nyb3dWNC5hbGdvLnRzOjYyMQogICAgLy8gYXNzZXJ0KHRyYWRlLnN0YXRlLm5hdGl2ZSA9PT0gRVhFQ1VURUQsICdUcmFkZSBub3QgZXhlY3V0ZWQnKQogICAgPT0KICAgIGFzc2VydCAvLyBUcmFkZSBub3QgZXhlY3V0ZWQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdG9taWNfbWFya2V0cGxhY2VfZXNjcm93X3Y0L0F0b21pY01hcmtldHBsYWNlRXNjcm93VjQuYWxnby50czo2MjIKICAgIC8vIGFzc2VydCh0cmFkZS5zZWxsZXIuYnl0ZXMgPT09IFR4bi5zZW5kZXIuYnl0ZXMsICdPbmx5IHNlbGxlciBjYW4gYWNrbm93bGVkZ2UnKQogICAgZHVwCiAgICBleHRyYWN0IDQwIDMyIC8vIG9uIGVycm9yOiBJbmRleCBhY2Nlc3MgaXMgb3V0IG9mIGJvdW5kcwogICAgZHVwCiAgICB0eG4gU2VuZGVyCiAgICA9PQogICAgYXNzZXJ0IC8vIE9ubHkgc2VsbGVyIGNhbiBhY2tub3dsZWRnZQogICAgLy8gc21hcnRfY29udHJhY3RzL2F0b21pY19tYXJrZXRwbGFjZV9lc2Nyb3dfdjQvQXRvbWljTWFya2V0cGxhY2VFc2Nyb3dWNC5hbGdvLnRzOjYyNAogICAgLy8gYXNzZXJ0KEdsb2JhbC5ncm91cFNpemUgPT09IDIsICdNdXN0IGJlIGdyb3VwIHRyYW5zYWN0aW9uJykKICAgIGdsb2JhbCBHcm91cFNpemUKICAgIGludGNfMiAvLyAyCiAgICA9PQogICAgYXNzZXJ0IC8vIE11c3QgYmUgZ3JvdXAgdHJhbnNhY3Rpb24KICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdG9taWNfbWFya2V0cGxhY2VfZXNjcm93X3Y0L0F0b21pY01hcmtldHBsYWNlRXNjcm93VjQuYWxnby50czoxMDIKICAgIC8vIHB1YmxpYyBzZXR0bGVtZW50Q3VycmVuY3kgPSBHbG9iYWxTdGF0ZTx1aW50NjQ+KCkgIC8vIDAgPSBBTEdPLCBBU0EgSUQgPSB0aGF0IGFzc2V0CiAgICBpbnRjXzEgLy8gMAogICAgYnl0ZWNfMSAvLyAic2V0dGxlbWVudEN1cnJlbmN5IgogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIGFzc2VydCAvLyBjaGVjayBHbG9iYWxTdGF0ZSBleGlzdHMKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdG9taWNfbWFya2V0cGxhY2VfZXNjcm93X3Y0L0F0b21pY01hcmtldHBsYWNlRXNjcm93VjQuYWxnby50czoxNzAKICAgIC8vIHJldHVybiB0aGlzLnNldHRsZW1lbnRDdXJyZW5jeS52YWx1ZSA9PT0gMAogICAgIQogICAgLy8gc21hcnRfY29udHJhY3RzL2F0b21pY19tYXJrZXRwbGFjZV9lc2Nyb3dfdjQvQXRvbWljTWFya2V0cGxhY2VFc2Nyb3dWNC5hbGdvLnRzOjYyNQogICAgLy8gYXNzZXJ0KCF0aGlzLmlzQWxnb1BheW1lbnQoKSwgJ011c3QgdXNlIEFTQSBwYXltZW50IGZvciB0aGlzIG1ldGhvZCcpCiAgICAhCiAgICBhc3NlcnQgLy8gTXVzdCB1c2UgQVNBIHBheW1lbnQgZm9yIHRoaXMgbWV0aG9kCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXRvbWljX21hcmtldHBsYWNlX2VzY3Jvd192NC9BdG9taWNNYXJrZXRwbGFjZUVzY3Jvd1Y0LmFsZ28udHM6NjI4CiAgICAvLyB0aGlzLnZlcmlmeUFzc2V0VHJhbnNmZXJUeG4ocmVndWxhdG9yUmVmdW5kLCB0cmFkZS5yZWd1bGF0b3JSZWZ1bmREdWUubmF0aXZlLCB0cmFkZS5zZWxsZXIuYnl0ZXMsIHRyYWRlLnJlZ3VsYXRvcldhbGxldC5ieXRlcykKICAgIGRpZyAxCiAgICBwdXNoaW50IDE5MiAvLyAxOTIKICAgIGV4dHJhY3RfdWludDY0CiAgICBkaWcgMgogICAgZXh0cmFjdCAxNTIgMzIgLy8gb24gZXJyb3I6IEluZGV4IGFjY2VzcyBpcyBvdXQgb2YgYm91bmRzCiAgICBmcmFtZV9kaWcgLTIKICAgIHVuY292ZXIgMgogICAgdW5jb3ZlciAzCiAgICB1bmNvdmVyIDMKICAgIGNhbGxzdWIgdmVyaWZ5QXNzZXRUcmFuc2ZlclR4bgogICAgLy8gc21hcnRfY29udHJhY3RzL2F0b21pY19tYXJrZXRwbGFjZV9lc2Nyb3dfdjQvQXRvbWljTWFya2V0cGxhY2VFc2Nyb3dWNC5hbGdvLnRzOjYzMAogICAgLy8gdHJhZGUuc3RhdGUgPSBuZXcgYXJjNC5VaW50TjY0KFBBWU1FTlRfQUNLTk9XTEVER0VEKQogICAgYnl0ZWMgMTcgLy8gMHgwMDAwMDAwMDAwMDAwMDAzCiAgICByZXBsYWNlMiAxMTIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdG9taWNfbWFya2V0cGxhY2VfZXNjcm93X3Y0L0F0b21pY01hcmtldHBsYWNlRXNjcm93VjQuYWxnby50czo2MzEKICAgIC8vIHRoaXMudHJhZGVzKHRyYWRlSWQpLnZhbHVlID0gdHJhZGUuY29weSgpCiAgICBkdXAyCiAgICBib3hfcHV0CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXRvbWljX21hcmtldHBsYWNlX2VzY3Jvd192NC9BdG9taWNNYXJrZXRwbGFjZUVzY3Jvd1Y0LmFsZ28udHM6NjM0CiAgICAvLyB0cmFkZS5zdGF0ZSA9IG5ldyBhcmM0LlVpbnRONjQoQ09NUExFVEVEKQogICAgYnl0ZWMgMTggLy8gMHgwMDAwMDAwMDAwMDAwMDA1CiAgICByZXBsYWNlMiAxMTIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdG9taWNfbWFya2V0cGxhY2VfZXNjcm93X3Y0L0F0b21pY01hcmtldHBsYWNlRXNjcm93VjQuYWxnby50czo2MzUKICAgIC8vIHRoaXMudHJhZGVzKHRyYWRlSWQpLnZhbHVlID0gdHJhZGUuY29weSgpCiAgICBib3hfcHV0CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXRvbWljX21hcmtldHBsYWNlX2VzY3Jvd192NC9BdG9taWNNYXJrZXRwbGFjZUVzY3Jvd1Y0LmFsZ28udHM6NjM3CiAgICAvLyByZXR1cm4gdHJ1ZQogICAgaW50Y18wIC8vIDEKICAgIHJldHN1YgoKCi8vIHNtYXJ0X2NvbnRyYWN0cy9hdG9taWNfbWFya2V0cGxhY2VfZXNjcm93X3Y0L0F0b21pY01hcmtldHBsYWNlRXNjcm93VjQuYWxnby50czo6QXRvbWljTWFya2V0cGxhY2VFc2Nyb3dWNC5leHBpcmVUcmFkZSh0cmFkZUlkOiB1aW50NjQpIC0+IHVpbnQ2NDoKZXhwaXJlVHJhZGU6CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXRvbWljX21hcmtldHBsYWNlX2VzY3Jvd192NC9BdG9taWNNYXJrZXRwbGFjZUVzY3Jvd1Y0LmFsZ28udHM6NjQzLTY0NAogICAgLy8gQGFiaW1ldGhvZCgpCiAgICAvLyBwdWJsaWMgZXhwaXJlVHJhZGUodHJhZGVJZDogdWludDY0KTogYm9vbGVhbiB7CiAgICBwcm90byAxIDEKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdG9taWNfbWFya2V0cGxhY2VfZXNjcm93X3Y0L0F0b21pY01hcmtldHBsYWNlRXNjcm93VjQuYWxnby50czo2NDUKICAgIC8vIGFzc2VydChUeG4uc2VuZGVyID09PSBHbG9iYWwuY3JlYXRvckFkZHJlc3MsICdPbmx5IGNyZWF0b3IgY2FuIGV4cGlyZSB0cmFkZXMnKQogICAgdHhuIFNlbmRlcgogICAgZ2xvYmFsIENyZWF0b3JBZGRyZXNzCiAgICA9PQogICAgYXNzZXJ0IC8vIE9ubHkgY3JlYXRvciBjYW4gZXhwaXJlIHRyYWRlcwogICAgLy8gc21hcnRfY29udHJhY3RzL2F0b21pY19tYXJrZXRwbGFjZV9lc2Nyb3dfdjQvQXRvbWljTWFya2V0cGxhY2VFc2Nyb3dWNC5hbGdvLnRzOjY0NwogICAgLy8gY29uc3QgdHJhZGUgPSB0aGlzLnRyYWRlcyh0cmFkZUlkKS52YWx1ZS5jb3B5KCkKICAgIGZyYW1lX2RpZyAtMQogICAgaXRvYgogICAgLy8gc21hcnRfY29udHJhY3RzL2F0b21pY19tYXJrZXRwbGFjZV9lc2Nyb3dfdjQvQXRvbWljTWFya2V0cGxhY2VFc2Nyb3dWNC5hbGdvLnRzOjg4CiAgICAvLyBwdWJsaWMgdHJhZGVzID0gQm94TWFwPHVpbnQ2NCwgVHJhZGVFc2Nyb3c+KHsga2V5UHJlZml4OiAndHJhZGVzJyB9KQogICAgYnl0ZWNfMyAvLyAidHJhZGVzIgogICAgc3dhcAogICAgY29uY2F0CiAgICBkdXAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdG9taWNfbWFya2V0cGxhY2VfZXNjcm93X3Y0L0F0b21pY01hcmtldHBsYWNlRXNjcm93VjQuYWxnby50czo2NDcKICAgIC8vIGNvbnN0IHRyYWRlID0gdGhpcy50cmFkZXModHJhZGVJZCkudmFsdWUuY29weSgpCiAgICBib3hfZ2V0CiAgICBzd2FwCiAgICBkdXAKICAgIHVuY292ZXIgMgogICAgYXNzZXJ0IC8vIEJveCBtdXN0IGhhdmUgdmFsdWUKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdG9taWNfbWFya2V0cGxhY2VfZXNjcm93X3Y0L0F0b21pY01hcmtldHBsYWNlRXNjcm93VjQuYWxnby50czo2NDkKICAgIC8vIHRyYWRlLnN0YXRlLm5hdGl2ZSA9PT0gQ1JFQVRFRCB8fAogICAgcHVzaGludCAxMTIgLy8gMTEyCiAgICBleHRyYWN0X3VpbnQ2NAogICAgZHVwCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXRvbWljX21hcmtldHBsYWNlX2VzY3Jvd192NC9BdG9taWNNYXJrZXRwbGFjZUVzY3Jvd1Y0LmFsZ28udHM6NjQ5LTY1MAogICAgLy8gdHJhZGUuc3RhdGUubmF0aXZlID09PSBDUkVBVEVEIHx8CiAgICAvLyB0cmFkZS5zdGF0ZS5uYXRpdmUgPT09IEVTQ1JPV0VEIHx8CiAgICBieiBleHBpcmVUcmFkZV9ib29sX3RydWVAMwogICAgLy8gc21hcnRfY29udHJhY3RzL2F0b21pY19tYXJrZXRwbGFjZV9lc2Nyb3dfdjQvQXRvbWljTWFya2V0cGxhY2VFc2Nyb3dWNC5hbGdvLnRzOjY1MAogICAgLy8gdHJhZGUuc3RhdGUubmF0aXZlID09PSBFU0NST1dFRCB8fAogICAgZnJhbWVfZGlnIDIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdG9taWNfbWFya2V0cGxhY2VfZXNjcm93X3Y0L0F0b21pY01hcmtldHBsYWNlRXNjcm93VjQuYWxnby50czozOQogICAgLy8gY29uc3QgRVNDUk9XRUQgPSAxIGFzIHVpbnQ2NAogICAgaW50Y18wIC8vIDEKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdG9taWNfbWFya2V0cGxhY2VfZXNjcm93X3Y0L0F0b21pY01hcmtldHBsYWNlRXNjcm93VjQuYWxnby50czo2NTAKICAgIC8vIHRyYWRlLnN0YXRlLm5hdGl2ZSA9PT0gRVNDUk9XRUQgfHwKICAgID09CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXRvbWljX21hcmtldHBsYWNlX2VzY3Jvd192NC9BdG9taWNNYXJrZXRwbGFjZUVzY3Jvd1Y0LmFsZ28udHM6NjQ5LTY1MAogICAgLy8gdHJhZGUuc3RhdGUubmF0aXZlID09PSBDUkVBVEVEIHx8CiAgICAvLyB0cmFkZS5zdGF0ZS5uYXRpdmUgPT09IEVTQ1JPV0VEIHx8CiAgICBibnogZXhwaXJlVHJhZGVfYm9vbF90cnVlQDMKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdG9taWNfbWFya2V0cGxhY2VfZXNjcm93X3Y0L0F0b21pY01hcmtldHBsYWNlRXNjcm93VjQuYWxnby50czo2NTEKICAgIC8vIHRyYWRlLnN0YXRlLm5hdGl2ZSA9PT0gRVhFQ1VURUQsCiAgICBmcmFtZV9kaWcgMgogICAgLy8gc21hcnRfY29udHJhY3RzL2F0b21pY19tYXJrZXRwbGFjZV9lc2Nyb3dfdjQvQXRvbWljTWFya2V0cGxhY2VFc2Nyb3dWNC5hbGdvLnRzOjQwCiAgICAvLyBjb25zdCBFWEVDVVRFRCA9IDIgYXMgdWludDY0CiAgICBpbnRjXzIgLy8gMgogICAgLy8gc21hcnRfY29udHJhY3RzL2F0b21pY19tYXJrZXRwbGFjZV9lc2Nyb3dfdjQvQXRvbWljTWFya2V0cGxhY2VFc2Nyb3dWNC5hbGdvLnRzOjY1MQogICAgLy8gdHJhZGUuc3RhdGUubmF0aXZlID09PSBFWEVDVVRFRCwKICAgID09CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXRvbWljX21hcmtldHBsYWNlX2VzY3Jvd192NC9BdG9taWNNYXJrZXRwbGFjZUVzY3Jvd1Y0LmFsZ28udHM6NjQ5LTY1MQogICAgLy8gdHJhZGUuc3RhdGUubmF0aXZlID09PSBDUkVBVEVEIHx8CiAgICAvLyB0cmFkZS5zdGF0ZS5uYXRpdmUgPT09IEVTQ1JPV0VEIHx8CiAgICAvLyB0cmFkZS5zdGF0ZS5uYXRpdmUgPT09IEVYRUNVVEVELAogICAgYnogZXhwaXJlVHJhZGVfYm9vbF9mYWxzZUA0CgpleHBpcmVUcmFkZV9ib29sX3RydWVAMzoKICAgIGludGNfMCAvLyAxCgpleHBpcmVUcmFkZV9ib29sX21lcmdlQDU6CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXRvbWljX21hcmtldHBsYWNlX2VzY3Jvd192NC9BdG9taWNNYXJrZXRwbGFjZUVzY3Jvd1Y0LmFsZ28udHM6NjQ4LTY1MwogICAgLy8gYXNzZXJ0KAogICAgLy8gICB0cmFkZS5zdGF0ZS5uYXRpdmUgPT09IENSRUFURUQgfHwKICAgIC8vICAgdHJhZGUuc3RhdGUubmF0aXZlID09PSBFU0NST1dFRCB8fAogICAgLy8gICB0cmFkZS5zdGF0ZS5uYXRpdmUgPT09IEVYRUNVVEVELAogICAgLy8gICAnQ2Fubm90IGV4cGlyZSB0cmFkZSBpbiBjdXJyZW50IHN0YXRlJwogICAgLy8gKQogICAgYXNzZXJ0IC8vIENhbm5vdCBleHBpcmUgdHJhZGUgaW4gY3VycmVudCBzdGF0ZQogICAgLy8gc21hcnRfY29udHJhY3RzL2F0b21pY19tYXJrZXRwbGFjZV9lc2Nyb3dfdjQvQXRvbWljTWFya2V0cGxhY2VFc2Nyb3dWNC5hbGdvLnRzOjY1NgogICAgLy8gaWYgKHRyYWRlLnN0YXRlLm5hdGl2ZSA9PT0gRVNDUk9XRUQpIHsKICAgIGZyYW1lX2RpZyAyCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXRvbWljX21hcmtldHBsYWNlX2VzY3Jvd192NC9BdG9taWNNYXJrZXRwbGFjZUVzY3Jvd1Y0LmFsZ28udHM6MzkKICAgIC8vIGNvbnN0IEVTQ1JPV0VEID0gMSBhcyB1aW50NjQKICAgIGludGNfMCAvLyAxCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXRvbWljX21hcmtldHBsYWNlX2VzY3Jvd192NC9BdG9taWNNYXJrZXRwbGFjZUVzY3Jvd1Y0LmFsZ28udHM6NjU2CiAgICAvLyBpZiAodHJhZGUuc3RhdGUubmF0aXZlID09PSBFU0NST1dFRCkgewogICAgPT0KICAgIGJ6IGV4cGlyZVRyYWRlX2FmdGVyX2lmX2Vsc2VANwogICAgLy8gc21hcnRfY29udHJhY3RzL2F0b21pY19tYXJrZXRwbGFjZV9lc2Nyb3dfdjQvQXRvbWljTWFya2V0cGxhY2VFc2Nyb3dWNC5hbGdvLnRzOjY1NwogICAgLy8gY29uc3QgcmVmdW5kQW1vdW50OiB1aW50NjQgPSB0cmFkZS5hbW91bnQubmF0aXZlICsgdHJhZGUubWFya2V0cGxhY2VGZWUubmF0aXZlCiAgICBmcmFtZV9kaWcgMQogICAgZHVwCiAgICBwdXNoaW50IDEwNCAvLyAxMDQKICAgIGV4dHJhY3RfdWludDY0CiAgICBkaWcgMQogICAgaW50YyA0IC8vIDIwMAogICAgZXh0cmFjdF91aW50NjQKICAgICsKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdG9taWNfbWFya2V0cGxhY2VfZXNjcm93X3Y0L0F0b21pY01hcmtldHBsYWNlRXNjcm93VjQuYWxnby50czo2NjAKICAgIC8vIHRoaXMuc2VuZFBheW1lbnQodHJhZGUuZXNjcm93UHJvdmlkZXIuYnl0ZXMsIHJlZnVuZEFtb3VudCkKICAgIHN3YXAKICAgIGV4dHJhY3QgNzIgMzIgLy8gb24gZXJyb3I6IEluZGV4IGFjY2VzcyBpcyBvdXQgb2YgYm91bmRzCiAgICBzd2FwCiAgICBjYWxsc3ViIHNlbmRQYXltZW50CgpleHBpcmVUcmFkZV9hZnRlcl9pZl9lbHNlQDc6CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXRvbWljX21hcmtldHBsYWNlX2VzY3Jvd192NC9BdG9taWNNYXJrZXRwbGFjZUVzY3Jvd1Y0LmFsZ28udHM6NjYzCiAgICAvLyB0cmFkZS5zdGF0ZSA9IG5ldyBhcmM0LlVpbnRONjQoRVhQSVJFRCkKICAgIGZyYW1lX2RpZyAxCiAgICBwdXNoYnl0ZXMgMHgwMDAwMDAwMDAwMDAwMDA0CiAgICByZXBsYWNlMiAxMTIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdG9taWNfbWFya2V0cGxhY2VfZXNjcm93X3Y0L0F0b21pY01hcmtldHBsYWNlRXNjcm93VjQuYWxnby50czo2NjQKICAgIC8vIHRoaXMudHJhZGVzKHRyYWRlSWQpLnZhbHVlID0gdHJhZGUuY29weSgpCiAgICBmcmFtZV9kaWcgMAogICAgc3dhcAogICAgYm94X3B1dAogICAgLy8gc21hcnRfY29udHJhY3RzL2F0b21pY19tYXJrZXRwbGFjZV9lc2Nyb3dfdjQvQXRvbWljTWFya2V0cGxhY2VFc2Nyb3dWNC5hbGdvLnRzOjY2NgogICAgLy8gcmV0dXJuIHRydWUKICAgIGludGNfMCAvLyAxCiAgICBmcmFtZV9idXJ5IDAKICAgIHJldHN1YgoKZXhwaXJlVHJhZGVfYm9vbF9mYWxzZUA0OgogICAgaW50Y18xIC8vIDAKICAgIGIgZXhwaXJlVHJhZGVfYm9vbF9tZXJnZUA1CgoKLy8gc21hcnRfY29udHJhY3RzL2F0b21pY19tYXJrZXRwbGFjZV9lc2Nyb3dfdjQvQXRvbWljTWFya2V0cGxhY2VFc2Nyb3dWNC5hbGdvLnRzOjpBdG9taWNNYXJrZXRwbGFjZUVzY3Jvd1Y0LmdldFRyYWRlKHRyYWRlSWQ6IHVpbnQ2NCkgLT4gYnl0ZXM6CmdldFRyYWRlOgogICAgLy8gc21hcnRfY29udHJhY3RzL2F0b21pY19tYXJrZXRwbGFjZV9lc2Nyb3dfdjQvQXRvbWljTWFya2V0cGxhY2VFc2Nyb3dWNC5hbGdvLnRzOjY3NC02NzUKICAgIC8vIEBhYmltZXRob2QoeyByZWFkb25seTogdHJ1ZSB9KQogICAgLy8gcHVibGljIGdldFRyYWRlKHRyYWRlSWQ6IHVpbnQ2NCk6IFRyYWRlRXNjcm93IHsKICAgIHByb3RvIDEgMQogICAgLy8gc21hcnRfY29udHJhY3RzL2F0b21pY19tYXJrZXRwbGFjZV9lc2Nyb3dfdjQvQXRvbWljTWFya2V0cGxhY2VFc2Nyb3dWNC5hbGdvLnRzOjY3NgogICAgLy8gcmV0dXJuIHRoaXMudHJhZGVzKHRyYWRlSWQpLnZhbHVlCiAgICBmcmFtZV9kaWcgLTEKICAgIGl0b2IKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdG9taWNfbWFya2V0cGxhY2VfZXNjcm93X3Y0L0F0b21pY01hcmtldHBsYWNlRXNjcm93VjQuYWxnby50czo4OAogICAgLy8gcHVibGljIHRyYWRlcyA9IEJveE1hcDx1aW50NjQsIFRyYWRlRXNjcm93Pih7IGtleVByZWZpeDogJ3RyYWRlcycgfSkKICAgIGJ5dGVjXzMgLy8gInRyYWRlcyIKICAgIHN3YXAKICAgIGNvbmNhdAogICAgLy8gc21hcnRfY29udHJhY3RzL2F0b21pY19tYXJrZXRwbGFjZV9lc2Nyb3dfdjQvQXRvbWljTWFya2V0cGxhY2VFc2Nyb3dWNC5hbGdvLnRzOjY3NgogICAgLy8gcmV0dXJuIHRoaXMudHJhZGVzKHRyYWRlSWQpLnZhbHVlCiAgICBib3hfZ2V0CiAgICBhc3NlcnQgLy8gQm94IG11c3QgaGF2ZSB2YWx1ZQogICAgcmV0c3ViCgoKLy8gc21hcnRfY29udHJhY3RzL2F0b21pY19tYXJrZXRwbGFjZV9lc2Nyb3dfdjQvQXRvbWljTWFya2V0cGxhY2VFc2Nyb3dWNC5hbGdvLnRzOjpBdG9taWNNYXJrZXRwbGFjZUVzY3Jvd1Y0LmdldFRyYWRlTWV0YWRhdGEodHJhZGVJZDogdWludDY0KSAtPiBieXRlczoKZ2V0VHJhZGVNZXRhZGF0YToKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdG9taWNfbWFya2V0cGxhY2VfZXNjcm93X3Y0L0F0b21pY01hcmtldHBsYWNlRXNjcm93VjQuYWxnby50czo2ODItNjgzCiAgICAvLyBAYWJpbWV0aG9kKHsgcmVhZG9ubHk6IHRydWUgfSkKICAgIC8vIHB1YmxpYyBnZXRUcmFkZU1ldGFkYXRhKHRyYWRlSWQ6IHVpbnQ2NCk6IFRyYWRlTWV0YWRhdGEgewogICAgcHJvdG8gMSAxCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXRvbWljX21hcmtldHBsYWNlX2VzY3Jvd192NC9BdG9taWNNYXJrZXRwbGFjZUVzY3Jvd1Y0LmFsZ28udHM6Njg0CiAgICAvLyByZXR1cm4gdGhpcy5tZXRhZGF0YSh0cmFkZUlkKS52YWx1ZQogICAgZnJhbWVfZGlnIC0xCiAgICBpdG9iCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXRvbWljX21hcmtldHBsYWNlX2VzY3Jvd192NC9BdG9taWNNYXJrZXRwbGFjZUVzY3Jvd1Y0LmFsZ28udHM6ODkKICAgIC8vIHB1YmxpYyBtZXRhZGF0YSA9IEJveE1hcDx1aW50NjQsIFRyYWRlTWV0YWRhdGE+KHsga2V5UHJlZml4OiAnbWV0YWRhdGEnIH0pCiAgICBieXRlYyAxMCAvLyAibWV0YWRhdGEiCiAgICBzd2FwCiAgICBjb25jYXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdG9taWNfbWFya2V0cGxhY2VfZXNjcm93X3Y0L0F0b21pY01hcmtldHBsYWNlRXNjcm93VjQuYWxnby50czo2ODQKICAgIC8vIHJldHVybiB0aGlzLm1ldGFkYXRhKHRyYWRlSWQpLnZhbHVlCiAgICBib3hfZ2V0CiAgICBhc3NlcnQgLy8gQm94IG11c3QgaGF2ZSB2YWx1ZQogICAgcmV0c3ViCgoKLy8gc21hcnRfY29udHJhY3RzL2F0b21pY19tYXJrZXRwbGFjZV9lc2Nyb3dfdjQvQXRvbWljTWFya2V0cGxhY2VFc2Nyb3dWNC5hbGdvLnRzOjpBdG9taWNNYXJrZXRwbGFjZUVzY3Jvd1Y0LmdldFRyYWRlc0J5QnV5ZXIoYnV5ZXI6IGJ5dGVzKSAtPiBieXRlczoKZ2V0VHJhZGVzQnlCdXllcjoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdG9taWNfbWFya2V0cGxhY2VfZXNjcm93X3Y0L0F0b21pY01hcmtldHBsYWNlRXNjcm93VjQuYWxnby50czo2OTAtNjkxCiAgICAvLyBAYWJpbWV0aG9kKHsgcmVhZG9ubHk6IHRydWUgfSkKICAgIC8vIHB1YmxpYyBnZXRUcmFkZXNCeUJ1eWVyKGJ1eWVyOiBhcmM0LkFkZHJlc3MpOiBhcmM0LkR5bmFtaWNBcnJheTxhcmM0LlVpbnRONjQ+IHsKICAgIHByb3RvIDEgMQogICAgLy8gc21hcnRfY29udHJhY3RzL2F0b21pY19tYXJrZXRwbGFjZV9lc2Nyb3dfdjQvQXRvbWljTWFya2V0cGxhY2VFc2Nyb3dWNC5hbGdvLnRzOjk0CiAgICAvLyBwdWJsaWMgYnV5ZXJUcmFkZXMgPSBCb3hNYXA8YXJjNC5BZGRyZXNzLCBhcmM0LkR5bmFtaWNBcnJheTxhcmM0LlVpbnRONjQ+Pih7IGtleVByZWZpeDogJ2J1eWVyJyB9KQogICAgYnl0ZWMgMTMgLy8gImJ1eWVyIgogICAgZnJhbWVfZGlnIC0xCiAgICBjb25jYXQKICAgIGR1cAogICAgLy8gc21hcnRfY29udHJhY3RzL2F0b21pY19tYXJrZXRwbGFjZV9lc2Nyb3dfdjQvQXRvbWljTWFya2V0cGxhY2VFc2Nyb3dWNC5hbGdvLnRzOjY5MgogICAgLy8gaWYgKHRoaXMuYnV5ZXJUcmFkZXMoYnV5ZXIpLmV4aXN0cykgewogICAgYm94X2xlbgogICAgYnVyeSAxCiAgICBieiBnZXRUcmFkZXNCeUJ1eWVyX2FmdGVyX2lmX2Vsc2VAMgogICAgLy8gc21hcnRfY29udHJhY3RzL2F0b21pY19tYXJrZXRwbGFjZV9lc2Nyb3dfdjQvQXRvbWljTWFya2V0cGxhY2VFc2Nyb3dWNC5hbGdvLnRzOjY5MwogICAgLy8gcmV0dXJuIHRoaXMuYnV5ZXJUcmFkZXMoYnV5ZXIpLnZhbHVlCiAgICBmcmFtZV9kaWcgMAogICAgYm94X2dldAogICAgYXNzZXJ0IC8vIEJveCBtdXN0IGhhdmUgdmFsdWUKICAgIHN3YXAKICAgIHJldHN1YgoKZ2V0VHJhZGVzQnlCdXllcl9hZnRlcl9pZl9lbHNlQDI6CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXRvbWljX21hcmtldHBsYWNlX2VzY3Jvd192NC9BdG9taWNNYXJrZXRwbGFjZUVzY3Jvd1Y0LmFsZ28udHM6Njk1CiAgICAvLyByZXR1cm4gbmV3IGFyYzQuRHluYW1pY0FycmF5PGFyYzQuVWludE42ND4oKQogICAgYnl0ZWMgOSAvLyAweDAwMDAKICAgIHN3YXAKICAgIHJldHN1YgoKCi8vIHNtYXJ0X2NvbnRyYWN0cy9hdG9taWNfbWFya2V0cGxhY2VfZXNjcm93X3Y0L0F0b21pY01hcmtldHBsYWNlRXNjcm93VjQuYWxnby50czo6QXRvbWljTWFya2V0cGxhY2VFc2Nyb3dWNC5nZXRUcmFkZXNCeVNlbGxlcihzZWxsZXI6IGJ5dGVzKSAtPiBieXRlczoKZ2V0VHJhZGVzQnlTZWxsZXI6CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXRvbWljX21hcmtldHBsYWNlX2VzY3Jvd192NC9BdG9taWNNYXJrZXRwbGFjZUVzY3Jvd1Y0LmFsZ28udHM6NzAxLTcwMgogICAgLy8gQGFiaW1ldGhvZCh7IHJlYWRvbmx5OiB0cnVlIH0pCiAgICAvLyBwdWJsaWMgZ2V0VHJhZGVzQnlTZWxsZXIoc2VsbGVyOiBhcmM0LkFkZHJlc3MpOiBhcmM0LkR5bmFtaWNBcnJheTxhcmM0LlVpbnRONjQ+IHsKICAgIHByb3RvIDEgMQogICAgLy8gc21hcnRfY29udHJhY3RzL2F0b21pY19tYXJrZXRwbGFjZV9lc2Nyb3dfdjQvQXRvbWljTWFya2V0cGxhY2VFc2Nyb3dWNC5hbGdvLnRzOjk1CiAgICAvLyBwdWJsaWMgc2VsbGVyVHJhZGVzID0gQm94TWFwPGFyYzQuQWRkcmVzcywgYXJjNC5EeW5hbWljQXJyYXk8YXJjNC5VaW50TjY0Pj4oeyBrZXlQcmVmaXg6ICdzZWxsZXInIH0pCiAgICBieXRlYyAxNCAvLyAic2VsbGVyIgogICAgZnJhbWVfZGlnIC0xCiAgICBjb25jYXQKICAgIGR1cAogICAgLy8gc21hcnRfY29udHJhY3RzL2F0b21pY19tYXJrZXRwbGFjZV9lc2Nyb3dfdjQvQXRvbWljTWFya2V0cGxhY2VFc2Nyb3dWNC5hbGdvLnRzOjcwMwogICAgLy8gaWYgKHRoaXMuc2VsbGVyVHJhZGVzKHNlbGxlcikuZXhpc3RzKSB7CiAgICBib3hfbGVuCiAgICBidXJ5IDEKICAgIGJ6IGdldFRyYWRlc0J5U2VsbGVyX2FmdGVyX2lmX2Vsc2VAMgogICAgLy8gc21hcnRfY29udHJhY3RzL2F0b21pY19tYXJrZXRwbGFjZV9lc2Nyb3dfdjQvQXRvbWljTWFya2V0cGxhY2VFc2Nyb3dWNC5hbGdvLnRzOjcwNAogICAgLy8gcmV0dXJuIHRoaXMuc2VsbGVyVHJhZGVzKHNlbGxlcikudmFsdWUKICAgIGZyYW1lX2RpZyAwCiAgICBib3hfZ2V0CiAgICBhc3NlcnQgLy8gQm94IG11c3QgaGF2ZSB2YWx1ZQogICAgc3dhcAogICAgcmV0c3ViCgpnZXRUcmFkZXNCeVNlbGxlcl9hZnRlcl9pZl9lbHNlQDI6CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXRvbWljX21hcmtldHBsYWNlX2VzY3Jvd192NC9BdG9taWNNYXJrZXRwbGFjZUVzY3Jvd1Y0LmFsZ28udHM6NzA2CiAgICAvLyByZXR1cm4gbmV3IGFyYzQuRHluYW1pY0FycmF5PGFyYzQuVWludE42ND4oKQogICAgYnl0ZWMgOSAvLyAweDAwMDAKICAgIHN3YXAKICAgIHJldHN1YgoKCi8vIHNtYXJ0X2NvbnRyYWN0cy9hdG9taWNfbWFya2V0cGxhY2VfZXNjcm93X3Y0L0F0b21pY01hcmtldHBsYWNlRXNjcm93VjQuYWxnby50czo6QXRvbWljTWFya2V0cGxhY2VFc2Nyb3dWNC5jYWxjdWxhdGVFc2Nyb3dDb3N0KGFtb3VudDogdWludDY0KSAtPiB1aW50NjQsIHVpbnQ2NDoKY2FsY3VsYXRlRXNjcm93Q29zdDoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdG9taWNfbWFya2V0cGxhY2VfZXNjcm93X3Y0L0F0b21pY01hcmtldHBsYWNlRXNjcm93VjQuYWxnby50czo3MTItNzEzCiAgICAvLyBAYWJpbWV0aG9kKHsgcmVhZG9ubHk6IHRydWUgfSkKICAgIC8vIHB1YmxpYyBjYWxjdWxhdGVFc2Nyb3dDb3N0KGFtb3VudDogdWludDY0KTogW3VpbnQ2NCwgdWludDY0XSB7CiAgICBwcm90byAxIDIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdG9taWNfbWFya2V0cGxhY2VfZXNjcm93X3Y0L0F0b21pY01hcmtldHBsYWNlRXNjcm93VjQuYWxnby50czoxMDkKICAgIC8vIHB1YmxpYyBtYXJrZXRwbGFjZUZlZVJhdGUgPSBHbG9iYWxTdGF0ZTx1aW50NjQ+KCkKICAgIGludGNfMSAvLyAwCiAgICBieXRlYyA0IC8vICJtYXJrZXRwbGFjZUZlZVJhdGUiCiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIEdsb2JhbFN0YXRlIGV4aXN0cwogICAgLy8gc21hcnRfY29udHJhY3RzL2F0b21pY19tYXJrZXRwbGFjZV9lc2Nyb3dfdjQvQXRvbWljTWFya2V0cGxhY2VFc2Nyb3dWNC5hbGdvLnRzOjcxNAogICAgLy8gY29uc3QgZmVlOiB1aW50NjQgPSAoYW1vdW50ICogdGhpcy5tYXJrZXRwbGFjZUZlZVJhdGUudmFsdWUpIC8gMTAwMDAKICAgIGZyYW1lX2RpZyAtMQogICAgKgogICAgaW50Y18zIC8vIDEwMDAwCiAgICAvCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXRvbWljX21hcmtldHBsYWNlX2VzY3Jvd192NC9BdG9taWNNYXJrZXRwbGFjZUVzY3Jvd1Y0LmFsZ28udHM6NzE1CiAgICAvLyBjb25zdCB0b3RhbENvc3Q6IHVpbnQ2NCA9IGFtb3VudCArIGZlZQogICAgZnJhbWVfZGlnIC0xCiAgICBkaWcgMQogICAgKwogICAgLy8gc21hcnRfY29udHJhY3RzL2F0b21pY19tYXJrZXRwbGFjZV9lc2Nyb3dfdjQvQXRvbWljTWFya2V0cGxhY2VFc2Nyb3dWNC5hbGdvLnRzOjcxNwogICAgLy8gcmV0dXJuIFt0b3RhbENvc3QsIGZlZV0KICAgIHN3YXAKICAgIHJldHN1YgoKCi8vIHNtYXJ0X2NvbnRyYWN0cy9hdG9taWNfbWFya2V0cGxhY2VfZXNjcm93X3Y0L0F0b21pY01hcmtldHBsYWNlRXNjcm93VjQuYWxnby50czo6QXRvbWljTWFya2V0cGxhY2VFc2Nyb3dWNC5jYWxjdWxhdGVSZWd1bGF0b3JDb3N0cyhhbW91bnQ6IHVpbnQ2NCkgLT4gdWludDY0LCB1aW50NjQ6CmNhbGN1bGF0ZVJlZ3VsYXRvckNvc3RzOgogICAgLy8gc21hcnRfY29udHJhY3RzL2F0b21pY19tYXJrZXRwbGFjZV9lc2Nyb3dfdjQvQXRvbWljTWFya2V0cGxhY2VFc2Nyb3dWNC5hbGdvLnRzOjcyMy03MjQKICAgIC8vIEBhYmltZXRob2QoeyByZWFkb25seTogdHJ1ZSB9KQogICAgLy8gcHVibGljIGNhbGN1bGF0ZVJlZ3VsYXRvckNvc3RzKGFtb3VudDogdWludDY0KTogW3VpbnQ2NCwgdWludDY0XSB7CiAgICBwcm90byAxIDIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdG9taWNfbWFya2V0cGxhY2VfZXNjcm93X3Y0L0F0b21pY01hcmtldHBsYWNlRXNjcm93VjQuYWxnby50czoxMDcKICAgIC8vIHB1YmxpYyByZWd1bGF0b3JUYXhSYXRlID0gR2xvYmFsU3RhdGU8dWludDY0PigpCiAgICBpbnRjXzEgLy8gMAogICAgYnl0ZWMgNyAvLyAicmVndWxhdG9yVGF4UmF0ZSIKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgR2xvYmFsU3RhdGUgZXhpc3RzCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXRvbWljX21hcmtldHBsYWNlX2VzY3Jvd192NC9BdG9taWNNYXJrZXRwbGFjZUVzY3Jvd1Y0LmFsZ28udHM6NzI1CiAgICAvLyBjb25zdCB0YXhBbW91bnQ6IHVpbnQ2NCA9IChhbW91bnQgKiB0aGlzLnJlZ3VsYXRvclRheFJhdGUudmFsdWUpIC8gMTAwMDAKICAgIGZyYW1lX2RpZyAtMQogICAgKgogICAgaW50Y18zIC8vIDEwMDAwCiAgICAvCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXRvbWljX21hcmtldHBsYWNlX2VzY3Jvd192NC9BdG9taWNNYXJrZXRwbGFjZUVzY3Jvd1Y0LmFsZ28udHM6MTA4CiAgICAvLyBwdWJsaWMgcmVndWxhdG9yUmVmdW5kUmF0ZSA9IEdsb2JhbFN0YXRlPHVpbnQ2ND4oKQogICAgaW50Y18xIC8vIDAKICAgIGJ5dGVjIDggLy8gInJlZ3VsYXRvclJlZnVuZFJhdGUiCiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIEdsb2JhbFN0YXRlIGV4aXN0cwogICAgLy8gc21hcnRfY29udHJhY3RzL2F0b21pY19tYXJrZXRwbGFjZV9lc2Nyb3dfdjQvQXRvbWljTWFya2V0cGxhY2VFc2Nyb3dWNC5hbGdvLnRzOjcyNgogICAgLy8gY29uc3QgcmVmdW5kQW1vdW50OiB1aW50NjQgPSAoYW1vdW50ICogdGhpcy5yZWd1bGF0b3JSZWZ1bmRSYXRlLnZhbHVlKSAvIDEwMDAwCiAgICBmcmFtZV9kaWcgLTEKICAgICoKICAgIGludGNfMyAvLyAxMDAwMAogICAgLwogICAgLy8gc21hcnRfY29udHJhY3RzL2F0b21pY19tYXJrZXRwbGFjZV9lc2Nyb3dfdjQvQXRvbWljTWFya2V0cGxhY2VFc2Nyb3dWNC5hbGdvLnRzOjcyOAogICAgLy8gcmV0dXJuIFt0YXhBbW91bnQsIHJlZnVuZEFtb3VudF0KICAgIHJldHN1YgoKCi8vIHNtYXJ0X2NvbnRyYWN0cy9hdG9taWNfbWFya2V0cGxhY2VfZXNjcm93X3Y0L0F0b21pY01hcmtldHBsYWNlRXNjcm93VjQuYWxnby50czo6QXRvbWljTWFya2V0cGxhY2VFc2Nyb3dWNC5nZXRQYXltZW50Q29uZmlnKCkgLT4gdWludDY0LCB1aW50NjQ6CmdldFBheW1lbnRDb25maWc6CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXRvbWljX21hcmtldHBsYWNlX2VzY3Jvd192NC9BdG9taWNNYXJrZXRwbGFjZUVzY3Jvd1Y0LmFsZ28udHM6MTAyCiAgICAvLyBwdWJsaWMgc2V0dGxlbWVudEN1cnJlbmN5ID0gR2xvYmFsU3RhdGU8dWludDY0PigpICAvLyAwID0gQUxHTywgQVNBIElEID0gdGhhdCBhc3NldAogICAgaW50Y18xIC8vIDAKICAgIGJ5dGVjXzEgLy8gInNldHRsZW1lbnRDdXJyZW5jeSIKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgR2xvYmFsU3RhdGUgZXhpc3RzCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXRvbWljX21hcmtldHBsYWNlX2VzY3Jvd192NC9BdG9taWNNYXJrZXRwbGFjZUVzY3Jvd1Y0LmFsZ28udHM6NzM2CiAgICAvLyBjb25zdCBpc0FsZ28gPSB0aGlzLnNldHRsZW1lbnRDdXJyZW5jeS52YWx1ZSA9PT0gMAogICAgIQogICAgLy8gc21hcnRfY29udHJhY3RzL2F0b21pY19tYXJrZXRwbGFjZV9lc2Nyb3dfdjQvQXRvbWljTWFya2V0cGxhY2VFc2Nyb3dWNC5hbGdvLnRzOjEwMgogICAgLy8gcHVibGljIHNldHRsZW1lbnRDdXJyZW5jeSA9IEdsb2JhbFN0YXRlPHVpbnQ2ND4oKSAgLy8gMCA9IEFMR08sIEFTQSBJRCA9IHRoYXQgYXNzZXQKICAgIGludGNfMSAvLyAwCiAgICBieXRlY18xIC8vICJzZXR0bGVtZW50Q3VycmVuY3kiCiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIEdsb2JhbFN0YXRlIGV4aXN0cwogICAgLy8gc21hcnRfY29udHJhY3RzL2F0b21pY19tYXJrZXRwbGFjZV9lc2Nyb3dfdjQvQXRvbWljTWFya2V0cGxhY2VFc2Nyb3dWNC5hbGdvLnRzOjczOAogICAgLy8gcmV0dXJuIFt0aGlzLnNldHRsZW1lbnRDdXJyZW5jeS52YWx1ZSwgaXNBbGdvXQogICAgc3dhcAogICAgcmV0c3ViCg==","clear":"I3ByYWdtYSB2ZXJzaW9uIDEwCiNwcmFnbWEgdHlwZXRyYWNrIGZhbHNlCgovLyBAYWxnb3JhbmRmb3VuZGF0aW9uL2FsZ29yYW5kLXR5cGVzY3JpcHQvYmFzZS1jb250cmFjdC5kLnRzOjpCYXNlQ29udHJhY3QuY2xlYXJTdGF0ZVByb2dyYW0oKSAtPiB1aW50NjQ6Cm1haW46CiAgICBwdXNoaW50IDEgLy8gMQogICAgcmV0dXJuCg=="},"byteCode":{"approval":"CiAFAQACkE7IASYTBBUffHUSc2V0dGxlbWVudEN1cnJlbmN5AQAGdHJhZGVzEm1hcmtldHBsYWNlRmVlUmF0ZQgAAAAAAAAAAAtuZXh0VHJhZGVJZBByZWd1bGF0b3JUYXhSYXRlE3JlZ3VsYXRvclJlZnVuZFJhdGUCAAAIbWV0YWRhdGEIAAAAAAAAAAEQcGxhdGZvcm1UcmVhc3VyeQVidXllcgZzZWxsZXICAAEIAAAAAAAAAAIIAAAAAAAAAAMIAAAAAAAAAAUxG0EDMoIUBPP3O8wE8LS2egRUkkGUBF1uKjkE1h7T4QSYlHGJBIicHX4EhofSMATrzMkVBEsTnL4Eho8mdQQxT2RMBByOEKAE3APLyAS0Te7NBBoQgosEyqvVqgSI32ZXBFO0JycEHekurzYaAI4UAoMCagJJAh8B/AHYAbUBkQFGAPoA1wCzAJoAhgByAF8ATAAzABoAAiNDMRkURDEYRIgLA0wWKiNPA1RQKExQsCJDMRkURDEYRDYaAReICs9MFkwWUChMULAiQzEZFEQxGEQ2GgEXiAqiTBZMFlAoTFCwIkMxGRREMRhENhoBiApxKExQsCJDMRkURDEYRDYaAYgKRShMULAiQzEZFEQxGEQ2GgEXiAokKExQsCJDMRkURDEYRDYaAReICgQoTFCwIkMxGRREMRhENhoBF4gJjiojTwJUKExQsCJDMRkURDEYRDEWIglJOBCBBBJENhoBF4gJHyojTwJUKExQsCJDMRkURDEYRDEWIglJOBAiEkQ2GgEXiAiyKiNPAlQoTFCwIkMxGRREMRhEMRYkCUk4EIEEEkQxFiIJSTgQgQQSRDYaARc2GgIXNhoDFzYaBFcCADYaBVcCADYaBlcCADYaB4gGuSojTwJUKExQsCJDMRkURDEYRDEWJAlJOBCBBBJEMRYiCUk4ECISRDYaARc2GgIXNhoDFzYaBFcCADYaBVcCADYaBlcCADYaB4gEwiojTwJUKExQsCJDMRkURDEYRDEWIglJOBCBBBJENhoBF4gEPyojTwJUKExQsCJDMRkURDEYRDEWIglJOBAiEkQ2GgEXiAO+KiNPAlQoTFCwIkMxGRREMRhEMRYiCUk4EIEEEkQ2GgEXiANFKiNPAlQoTFCwIkMxGRREMRhEMRYiCUk4ECISRDYaAReIAs4qI08CVChMULAiQzEZFEQxGEQ2GgE2GgIXNhoDVwIANhoEVwIANhoFVwIAiAFCFihMULAiQzEZFEQxGEQ2GgEXNhoCFzYaAxeIAIIqI08CVChMULAiQzEZFEQxGEQ2GgEXiABaKiNPAlQoTFCwIkMxGRREMRhENhoBFzYaAogAFiojTwJUKExQsCJDMRlA/VwxGBREIkOKAgExADIJEkQnBiJnJwyL/2cpi/5nJweB9ANnJwghBGcnBIEZZyKJigEBMQAyCRJEKYv/ZyKJigMBMQAyCRJEi/2B6AcORIv+gfQDDkSL/4FkDkQnB4v9ZycIi/5nJwSL/2ciiYoEAIv8OAeL/hJEi/w4CIv9EkSL/DgAi/8SRImKBACL/DgUi/4SRIv8OBKL/RJEi/w4ESMpZUQSRIv8OACL/xJEiYoCACMpZURAABGxi/+yCIv+sgcishAjsgGzibEjKWVEi/+yEov+shSyEYEEshAjsgGziYoFASNJgAAjJwZlREAABCcGImeL+zEAE0SL/EQjJwZlTElOAowCRBZJjAExADIDi/wWMgcWMgNLBU8FUIv7UE8EUE8DUCcFUE8CUCcFUCcFUCcFUExQJwVQJwVQJwVQi/0VFlcGAov9UIv+FRZXBgKL/lCL/xUWVwYCi/9QSwIVgQwISRZXBgKAAgAMTFBLAxVPAghJFlcGAk8CTFBLAhVPAghJFlcGAk8CTFBMJAhJFlcGAk8CTFBMJAgWVwYCUE8DUE8CUExQJwlQJwlQJwlQK0sDUE8CvycKTwJQSbxITL8nDTEAUEmMAL1FAUEAX4sASb5EVwIAiwFQSRWBCAoWVwYCTFBLAbxIvycOi/tQSYwAvUUBQQAniwBJvkRXAgCLAVBJFYEIChZXBgJMUEsBvEi/iwJJIggnBkxnjACJJw+LAVCLAEm8SEy/Qv/lJw+LAVCLAEm8SEy/Qv+tigIBi/8WK0xQSb5ESYFwWxRESVcIIDEAEkRJgWhbIycEZURLAQslCkxLAQgyBCQSRCMpZUQURDIKMQCL/k4DiP3rMQBPAkxcSCcLXHBMFlzIvyKJigIBi/8WK0xQSb5ESYFwWxRESVcIIDEAEkRJgWhbIycEZURLAQslCkxLAQgyBCQSRCMpZUQUFEQyCjEAi/5OA4j9sjEATwJMXEgnC1xwTBZcyL8iiYoCAYv/FitMUEm+REmBcFsURDEASwFXCCATRDEASwFXKCATREmBaFsjJwRlREsBCyUKTEsBCDIEJBJEIyllRBREMgoxAIv+TgOI/TgxAE8CTFxIJwtccEwWXMi/IomKAgGL/xYrTFBJvkRJgXBbFEQxAEsBVwggE0QxAEsBVyggE0RJgWhbIycEZURLAQslCkxLAQgyBCQSRCMpZUQUFEQyCjEAi/5OA4j89TEATwJMXEgnC1xwTBZcyL8iiYoJASOAAEcCi/kWSStMUEm+TElPAkRJgXBbIhJEVyggSTEAEkSL/zIDE0SL+0EAB4v7IhJBAXEiRIsGSYFoW0mMAyMnB2VESwELJQqMAiMnCGVECyUKjAEyBIEDEkQjKWVEFESL9zgAMQASRIv3OBGL+hJEi/c4EiISRElXSCBMVwggSYwAEkEBE4v3OBSLABJEMQCL+IsCSU4Di/9PA4j8JSMnDGVEiwZJTgIhBFuI/FeLB4sDiPxQJxBccIv6FlyAi/sWXIhJgWhbFlyQi/9cmEwWXLiLARZcwIsFTL8nCosEUEm+RIv8FRZXBgKL/FBLAYEGWUsCI0sCWEsDgQhZSwQVTwVLAk8CUk8CSwRQTFBMTwIJTwIVSwKBCFlLAQhLAgkWVwYCTwNMXAhJgQpZTwIITwIJFlcGAlwKi/0VFlcGAov9UEsBgQhZSwIjSwJYSwOBCllLBBVPBUsCTwJSTwJLBFBMUExPAglPAhVLAoEKWQhMCRZXBgJcCov+FRZXBgKL/lBLAYEKWU8CI08CWExQSwG8SL8ijACJi/c4FDIKEkRC/uojQv6MigkBI4AARwKL+RZJK0xQSb5MSU8CREmBcFsiEkRXKCBJMQASRIv/MgMTRIv7QQAHi/siEkEBciJEiwZJgWhbSYwDIycHZURLAQslCowCIycIZUQLJQqMATIEgQMSRCMpZUQUFESL9zgAMQASRIv3OBGL+hJEi/c4EiISRElXSCBMVwggSYwAEkEBE4v3OBSLABJEMQCL+IsCSU4Di/9PA4j6lCMnDGVEiwZJTgIhBFuI+qqLB4sDiPqjJxBccIv6FlyAi/sWXIhJgWhbFlyQi/9cmEwWXLiLARZcwIsFTL8nCosEUEm+RIv8FRZXBgKL/FBLAYEGWUsCI0sCWEsDgQhZSwQVTwVLAk8CUk8CSwRQTFBMTwIJTwIVSwKBCFlLAQhLAgkWVwYCTwNMXAhJgQpZTwIITwIJFlcGAlwKi/0VFlcGAov9UEsBgQhZSwIjSwJYSwOBCllLBBVPBUsCTwJSTwJLBFBMUExPAglPAhVLAoEKWQhMCRZXBgJcCov+FRZXBgKL/lBLAYEKWU8CI08CWExQSwG8SL8ijACJi/c4FDIKEkRC/uojQv6LigIBi/8WK0xQSb5ESYFwWyQSRElXKCBJMQASRDIEJBJEIyllRBRESwGBwAFbSwJXmCCL/k8CTwNPA4j5MScRXHBKvycSXHC/IomKAgGL/xYrTFBJvkRJgXBbJBJESVcoIEkxABJEMgQkEkQjKWVEFBRESwGBwAFbSwJXmCCL/k8CTwNPA4j5AicRXHBKvycSXHC/IomKAQExADIJEkSL/xYrTFBJvkxJTwJEgXBbSUEADosCIhJAAAeLAiQSQQAzIkSLAiISQQAUiwFJgWhbSwEhBFsITFdIIEyI+NOLAYAIAAAAAAAAAARccIsATL8ijACJI0L/yooBAYv/FitMUL5EiYoBAYv/FicKTFC+RImKAQEnDYv/UEm9RQFBAAaLAL5ETIknCUyJigEBJw6L/1BJvUUBQQAGiwC+REyJJwlMiYoBAiMnBGVEi/8LJQqL/0sBCEyJigECIycHZUSL/wslCiMnCGVEi/8LJQqJIyllRBQjKWVETIk=","clear":"CoEBQw=="},"events":[],"templateVariables":{}} as unknown as Arc56Contract

/**
 * A state record containing binary data
 */
export interface BinaryState {
  /**
   * Gets the state value as a Uint8Array
   */
  asByteArray(): Uint8Array | undefined
  /**
   * Gets the state value as a string
   */
  asString(): string | undefined
}

class BinaryStateValue implements BinaryState {
  constructor(private value: Uint8Array | undefined) {}

  asByteArray(): Uint8Array | undefined {
    return this.value
  }

  asString(): string | undefined {
    return this.value !== undefined ? Buffer.from(this.value).toString('utf-8') : undefined
  }
}

/**
 * Expands types for IntelliSense so they are more human readable
 * See https://stackoverflow.com/a/69288824
 */
export type Expand<T> = T extends (...args: infer A) => infer R
  ? (...args: Expand<A>) => Expand<R>
  : T extends infer O
    ? { [K in keyof O]: O[K] }
    : never


// Type definitions for ARC-56 structs

export type TradeEscrow = {
  tradeId: bigint,
  buyer: string,
  seller: string,
  escrowProvider: string,
  amount: bigint,
  state: bigint,
  createdAt: bigint,
  instrumentAssetId: bigint,
  instrumentType: bigint,
  instrumentValue: bigint,
  regulatorWallet: string,
  regulatorTaxPaid: bigint,
  regulatorRefundDue: bigint,
  marketplaceFee: bigint
}


/**
 * Converts the ABI tuple representation of a TradeEscrow to the struct representation
 */
export function TradeEscrowFromTuple(abiTuple: [bigint, string, string, string, bigint, bigint, bigint, bigint, bigint, bigint, string, bigint, bigint, bigint]) {
  return getABIStructFromABITuple(abiTuple, APP_SPEC.structs.TradeEscrow, APP_SPEC.structs) as TradeEscrow
}

export type TradeMetadata = {
  productType: string,
  description: string,
  ipfsHash: string,
  leiId: string,
  leiName: string,
  instrumentNumber: string
}


/**
 * Converts the ABI tuple representation of a TradeMetadata to the struct representation
 */
export function TradeMetadataFromTuple(abiTuple: [string, string, string, string, string, string]) {
  return getABIStructFromABITuple(abiTuple, APP_SPEC.structs.TradeMetadata, APP_SPEC.structs) as TradeMetadata
}

/**
 * The argument types for the AtomicMarketplaceEscrowV4 contract
 */
export type AtomicMarketplaceEscrowV4Args = {
  /**
   * The object representation of the arguments for each method
   */
  obj: {
    'initialize(uint64,address)bool': {
      /**
       * - 0 for ALGO, ASA ID for USDCA
       */
      settlementAssetId: bigint | number
      /**
       * - Platform treasury for fees
       */
      treasuryAddress: string
    }
    'setSettlementCurrency(uint64)bool': {
      assetId: bigint | number
    }
    'setRates(uint64,uint64,uint64)bool': {
      taxRate: bigint | number
      refundRate: bigint | number
      feeRate: bigint | number
    }
    'createTrade(address,uint64,string,string,string)uint64': {
      /**
       * - Exporter/seller address
       */
      sellerAddress: string
      /**
       * - Already divided amount (in microAlgos or microASA)
       */
      amount: bigint | number
      /**
       * - Type of product being traded
       */
      productType: string
      /**
       * - Trade description
       */
      description: string
      /**
       * - IPFS hash of purchase order
       */
      ipfsHash: string
    }
    'escrowTrade(pay,uint64)bool': {
      paymentTxn: AppMethodCallTransactionArgument
      tradeId: bigint | number
    }
    'escrowTradeWithAsset(axfer,uint64)bool': {
      assetTxn: AppMethodCallTransactionArgument
      tradeId: bigint | number
    }
    'escrowTradeAsFinancier(pay,uint64)bool': {
      paymentTxn: AppMethodCallTransactionArgument
      tradeId: bigint | number
    }
    'escrowTradeAsFinancierWithAsset(axfer,uint64)bool': {
      assetTxn: AppMethodCallTransactionArgument
      tradeId: bigint | number
    }
    'executeTrade(axfer,pay,uint64,uint64,uint64,string,string,string,address)bool': {
      instrumentTxn: AppMethodCallTransactionArgument
      regulatorPayment: AppMethodCallTransactionArgument
      tradeId: bigint | number
      instrumentAssetId: bigint | number
      instrumentTypeNum: bigint | number
      leiId: string
      leiName: string
      instrumentNumber: string
      regulatorWallet: string
    }
    'executeTradeWithAsset(axfer,axfer,uint64,uint64,uint64,string,string,string,address)bool': {
      instrumentTxn: AppMethodCallTransactionArgument
      regulatorAssetPayment: AppMethodCallTransactionArgument
      tradeId: bigint | number
      instrumentAssetId: bigint | number
      instrumentTypeNum: bigint | number
      leiId: string
      leiName: string
      instrumentNumber: string
      regulatorWallet: string
    }
    'acknowledgePayment(pay,uint64)bool': {
      regulatorRefund: AppMethodCallTransactionArgument
      tradeId: bigint | number
    }
    'acknowledgePaymentWithAsset(axfer,uint64)bool': {
      regulatorRefund: AppMethodCallTransactionArgument
      tradeId: bigint | number
    }
    'expireTrade(uint64)bool': {
      tradeId: bigint | number
    }
    'getTrade(uint64)(uint64,address,address,address,uint64,uint64,uint64,uint64,uint64,uint64,address,uint64,uint64,uint64)': {
      tradeId: bigint | number
    }
    'getTradeMetadata(uint64)(string,string,string,string,string,string)': {
      tradeId: bigint | number
    }
    'getTradesByBuyer(address)uint64[]': {
      buyer: string
    }
    'getTradesBySeller(address)uint64[]': {
      seller: string
    }
    'calculateEscrowCost(uint64)(uint64,uint64)': {
      amount: bigint | number
    }
    'calculateRegulatorCosts(uint64)(uint64,uint64)': {
      amount: bigint | number
    }
    'getPaymentConfig()(uint64,bool)': Record<string, never>
  }
  /**
   * The tuple representation of the arguments for each method
   */
  tuple: {
    'initialize(uint64,address)bool': [settlementAssetId: bigint | number, treasuryAddress: string]
    'setSettlementCurrency(uint64)bool': [assetId: bigint | number]
    'setRates(uint64,uint64,uint64)bool': [taxRate: bigint | number, refundRate: bigint | number, feeRate: bigint | number]
    'createTrade(address,uint64,string,string,string)uint64': [sellerAddress: string, amount: bigint | number, productType: string, description: string, ipfsHash: string]
    'escrowTrade(pay,uint64)bool': [paymentTxn: AppMethodCallTransactionArgument, tradeId: bigint | number]
    'escrowTradeWithAsset(axfer,uint64)bool': [assetTxn: AppMethodCallTransactionArgument, tradeId: bigint | number]
    'escrowTradeAsFinancier(pay,uint64)bool': [paymentTxn: AppMethodCallTransactionArgument, tradeId: bigint | number]
    'escrowTradeAsFinancierWithAsset(axfer,uint64)bool': [assetTxn: AppMethodCallTransactionArgument, tradeId: bigint | number]
    'executeTrade(axfer,pay,uint64,uint64,uint64,string,string,string,address)bool': [instrumentTxn: AppMethodCallTransactionArgument, regulatorPayment: AppMethodCallTransactionArgument, tradeId: bigint | number, instrumentAssetId: bigint | number, instrumentTypeNum: bigint | number, leiId: string, leiName: string, instrumentNumber: string, regulatorWallet: string]
    'executeTradeWithAsset(axfer,axfer,uint64,uint64,uint64,string,string,string,address)bool': [instrumentTxn: AppMethodCallTransactionArgument, regulatorAssetPayment: AppMethodCallTransactionArgument, tradeId: bigint | number, instrumentAssetId: bigint | number, instrumentTypeNum: bigint | number, leiId: string, leiName: string, instrumentNumber: string, regulatorWallet: string]
    'acknowledgePayment(pay,uint64)bool': [regulatorRefund: AppMethodCallTransactionArgument, tradeId: bigint | number]
    'acknowledgePaymentWithAsset(axfer,uint64)bool': [regulatorRefund: AppMethodCallTransactionArgument, tradeId: bigint | number]
    'expireTrade(uint64)bool': [tradeId: bigint | number]
    'getTrade(uint64)(uint64,address,address,address,uint64,uint64,uint64,uint64,uint64,uint64,address,uint64,uint64,uint64)': [tradeId: bigint | number]
    'getTradeMetadata(uint64)(string,string,string,string,string,string)': [tradeId: bigint | number]
    'getTradesByBuyer(address)uint64[]': [buyer: string]
    'getTradesBySeller(address)uint64[]': [seller: string]
    'calculateEscrowCost(uint64)(uint64,uint64)': [amount: bigint | number]
    'calculateRegulatorCosts(uint64)(uint64,uint64)': [amount: bigint | number]
    'getPaymentConfig()(uint64,bool)': []
  }
}

/**
 * The return type for each method
 */
export type AtomicMarketplaceEscrowV4Returns = {
  'initialize(uint64,address)bool': boolean
  'setSettlementCurrency(uint64)bool': boolean
  'setRates(uint64,uint64,uint64)bool': boolean
  'createTrade(address,uint64,string,string,string)uint64': bigint
  'escrowTrade(pay,uint64)bool': boolean
  'escrowTradeWithAsset(axfer,uint64)bool': boolean
  'escrowTradeAsFinancier(pay,uint64)bool': boolean
  'escrowTradeAsFinancierWithAsset(axfer,uint64)bool': boolean
  'executeTrade(axfer,pay,uint64,uint64,uint64,string,string,string,address)bool': boolean
  'executeTradeWithAsset(axfer,axfer,uint64,uint64,uint64,string,string,string,address)bool': boolean
  'acknowledgePayment(pay,uint64)bool': boolean
  'acknowledgePaymentWithAsset(axfer,uint64)bool': boolean
  'expireTrade(uint64)bool': boolean
  'getTrade(uint64)(uint64,address,address,address,uint64,uint64,uint64,uint64,uint64,uint64,address,uint64,uint64,uint64)': TradeEscrow
  'getTradeMetadata(uint64)(string,string,string,string,string,string)': TradeMetadata
  'getTradesByBuyer(address)uint64[]': bigint[]
  'getTradesBySeller(address)uint64[]': bigint[]
  'calculateEscrowCost(uint64)(uint64,uint64)': [bigint, bigint]
  'calculateRegulatorCosts(uint64)(uint64,uint64)': [bigint, bigint]
  'getPaymentConfig()(uint64,bool)': [bigint, boolean]
}

/**
 * Defines the types of available calls and state of the AtomicMarketplaceEscrowV4 smart contract.
 */
export type AtomicMarketplaceEscrowV4Types = {
  /**
   * Maps method signatures / names to their argument and return types.
   */
  methods:
    & Record<'initialize(uint64,address)bool' | 'initialize', {
      argsObj: AtomicMarketplaceEscrowV4Args['obj']['initialize(uint64,address)bool']
      argsTuple: AtomicMarketplaceEscrowV4Args['tuple']['initialize(uint64,address)bool']
      returns: AtomicMarketplaceEscrowV4Returns['initialize(uint64,address)bool']
    }>
    & Record<'setSettlementCurrency(uint64)bool' | 'setSettlementCurrency', {
      argsObj: AtomicMarketplaceEscrowV4Args['obj']['setSettlementCurrency(uint64)bool']
      argsTuple: AtomicMarketplaceEscrowV4Args['tuple']['setSettlementCurrency(uint64)bool']
      returns: AtomicMarketplaceEscrowV4Returns['setSettlementCurrency(uint64)bool']
    }>
    & Record<'setRates(uint64,uint64,uint64)bool' | 'setRates', {
      argsObj: AtomicMarketplaceEscrowV4Args['obj']['setRates(uint64,uint64,uint64)bool']
      argsTuple: AtomicMarketplaceEscrowV4Args['tuple']['setRates(uint64,uint64,uint64)bool']
      returns: AtomicMarketplaceEscrowV4Returns['setRates(uint64,uint64,uint64)bool']
    }>
    & Record<'createTrade(address,uint64,string,string,string)uint64' | 'createTrade', {
      argsObj: AtomicMarketplaceEscrowV4Args['obj']['createTrade(address,uint64,string,string,string)uint64']
      argsTuple: AtomicMarketplaceEscrowV4Args['tuple']['createTrade(address,uint64,string,string,string)uint64']
      returns: AtomicMarketplaceEscrowV4Returns['createTrade(address,uint64,string,string,string)uint64']
    }>
    & Record<'escrowTrade(pay,uint64)bool' | 'escrowTrade', {
      argsObj: AtomicMarketplaceEscrowV4Args['obj']['escrowTrade(pay,uint64)bool']
      argsTuple: AtomicMarketplaceEscrowV4Args['tuple']['escrowTrade(pay,uint64)bool']
      returns: AtomicMarketplaceEscrowV4Returns['escrowTrade(pay,uint64)bool']
    }>
    & Record<'escrowTradeWithAsset(axfer,uint64)bool' | 'escrowTradeWithAsset', {
      argsObj: AtomicMarketplaceEscrowV4Args['obj']['escrowTradeWithAsset(axfer,uint64)bool']
      argsTuple: AtomicMarketplaceEscrowV4Args['tuple']['escrowTradeWithAsset(axfer,uint64)bool']
      returns: AtomicMarketplaceEscrowV4Returns['escrowTradeWithAsset(axfer,uint64)bool']
    }>
    & Record<'escrowTradeAsFinancier(pay,uint64)bool' | 'escrowTradeAsFinancier', {
      argsObj: AtomicMarketplaceEscrowV4Args['obj']['escrowTradeAsFinancier(pay,uint64)bool']
      argsTuple: AtomicMarketplaceEscrowV4Args['tuple']['escrowTradeAsFinancier(pay,uint64)bool']
      returns: AtomicMarketplaceEscrowV4Returns['escrowTradeAsFinancier(pay,uint64)bool']
    }>
    & Record<'escrowTradeAsFinancierWithAsset(axfer,uint64)bool' | 'escrowTradeAsFinancierWithAsset', {
      argsObj: AtomicMarketplaceEscrowV4Args['obj']['escrowTradeAsFinancierWithAsset(axfer,uint64)bool']
      argsTuple: AtomicMarketplaceEscrowV4Args['tuple']['escrowTradeAsFinancierWithAsset(axfer,uint64)bool']
      returns: AtomicMarketplaceEscrowV4Returns['escrowTradeAsFinancierWithAsset(axfer,uint64)bool']
    }>
    & Record<'executeTrade(axfer,pay,uint64,uint64,uint64,string,string,string,address)bool' | 'executeTrade', {
      argsObj: AtomicMarketplaceEscrowV4Args['obj']['executeTrade(axfer,pay,uint64,uint64,uint64,string,string,string,address)bool']
      argsTuple: AtomicMarketplaceEscrowV4Args['tuple']['executeTrade(axfer,pay,uint64,uint64,uint64,string,string,string,address)bool']
      returns: AtomicMarketplaceEscrowV4Returns['executeTrade(axfer,pay,uint64,uint64,uint64,string,string,string,address)bool']
    }>
    & Record<'executeTradeWithAsset(axfer,axfer,uint64,uint64,uint64,string,string,string,address)bool' | 'executeTradeWithAsset', {
      argsObj: AtomicMarketplaceEscrowV4Args['obj']['executeTradeWithAsset(axfer,axfer,uint64,uint64,uint64,string,string,string,address)bool']
      argsTuple: AtomicMarketplaceEscrowV4Args['tuple']['executeTradeWithAsset(axfer,axfer,uint64,uint64,uint64,string,string,string,address)bool']
      returns: AtomicMarketplaceEscrowV4Returns['executeTradeWithAsset(axfer,axfer,uint64,uint64,uint64,string,string,string,address)bool']
    }>
    & Record<'acknowledgePayment(pay,uint64)bool' | 'acknowledgePayment', {
      argsObj: AtomicMarketplaceEscrowV4Args['obj']['acknowledgePayment(pay,uint64)bool']
      argsTuple: AtomicMarketplaceEscrowV4Args['tuple']['acknowledgePayment(pay,uint64)bool']
      returns: AtomicMarketplaceEscrowV4Returns['acknowledgePayment(pay,uint64)bool']
    }>
    & Record<'acknowledgePaymentWithAsset(axfer,uint64)bool' | 'acknowledgePaymentWithAsset', {
      argsObj: AtomicMarketplaceEscrowV4Args['obj']['acknowledgePaymentWithAsset(axfer,uint64)bool']
      argsTuple: AtomicMarketplaceEscrowV4Args['tuple']['acknowledgePaymentWithAsset(axfer,uint64)bool']
      returns: AtomicMarketplaceEscrowV4Returns['acknowledgePaymentWithAsset(axfer,uint64)bool']
    }>
    & Record<'expireTrade(uint64)bool' | 'expireTrade', {
      argsObj: AtomicMarketplaceEscrowV4Args['obj']['expireTrade(uint64)bool']
      argsTuple: AtomicMarketplaceEscrowV4Args['tuple']['expireTrade(uint64)bool']
      returns: AtomicMarketplaceEscrowV4Returns['expireTrade(uint64)bool']
    }>
    & Record<'getTrade(uint64)(uint64,address,address,address,uint64,uint64,uint64,uint64,uint64,uint64,address,uint64,uint64,uint64)' | 'getTrade', {
      argsObj: AtomicMarketplaceEscrowV4Args['obj']['getTrade(uint64)(uint64,address,address,address,uint64,uint64,uint64,uint64,uint64,uint64,address,uint64,uint64,uint64)']
      argsTuple: AtomicMarketplaceEscrowV4Args['tuple']['getTrade(uint64)(uint64,address,address,address,uint64,uint64,uint64,uint64,uint64,uint64,address,uint64,uint64,uint64)']
      returns: AtomicMarketplaceEscrowV4Returns['getTrade(uint64)(uint64,address,address,address,uint64,uint64,uint64,uint64,uint64,uint64,address,uint64,uint64,uint64)']
    }>
    & Record<'getTradeMetadata(uint64)(string,string,string,string,string,string)' | 'getTradeMetadata', {
      argsObj: AtomicMarketplaceEscrowV4Args['obj']['getTradeMetadata(uint64)(string,string,string,string,string,string)']
      argsTuple: AtomicMarketplaceEscrowV4Args['tuple']['getTradeMetadata(uint64)(string,string,string,string,string,string)']
      returns: AtomicMarketplaceEscrowV4Returns['getTradeMetadata(uint64)(string,string,string,string,string,string)']
    }>
    & Record<'getTradesByBuyer(address)uint64[]' | 'getTradesByBuyer', {
      argsObj: AtomicMarketplaceEscrowV4Args['obj']['getTradesByBuyer(address)uint64[]']
      argsTuple: AtomicMarketplaceEscrowV4Args['tuple']['getTradesByBuyer(address)uint64[]']
      returns: AtomicMarketplaceEscrowV4Returns['getTradesByBuyer(address)uint64[]']
    }>
    & Record<'getTradesBySeller(address)uint64[]' | 'getTradesBySeller', {
      argsObj: AtomicMarketplaceEscrowV4Args['obj']['getTradesBySeller(address)uint64[]']
      argsTuple: AtomicMarketplaceEscrowV4Args['tuple']['getTradesBySeller(address)uint64[]']
      returns: AtomicMarketplaceEscrowV4Returns['getTradesBySeller(address)uint64[]']
    }>
    & Record<'calculateEscrowCost(uint64)(uint64,uint64)' | 'calculateEscrowCost', {
      argsObj: AtomicMarketplaceEscrowV4Args['obj']['calculateEscrowCost(uint64)(uint64,uint64)']
      argsTuple: AtomicMarketplaceEscrowV4Args['tuple']['calculateEscrowCost(uint64)(uint64,uint64)']
      returns: AtomicMarketplaceEscrowV4Returns['calculateEscrowCost(uint64)(uint64,uint64)']
    }>
    & Record<'calculateRegulatorCosts(uint64)(uint64,uint64)' | 'calculateRegulatorCosts', {
      argsObj: AtomicMarketplaceEscrowV4Args['obj']['calculateRegulatorCosts(uint64)(uint64,uint64)']
      argsTuple: AtomicMarketplaceEscrowV4Args['tuple']['calculateRegulatorCosts(uint64)(uint64,uint64)']
      returns: AtomicMarketplaceEscrowV4Returns['calculateRegulatorCosts(uint64)(uint64,uint64)']
    }>
    & Record<'getPaymentConfig()(uint64,bool)' | 'getPaymentConfig', {
      argsObj: AtomicMarketplaceEscrowV4Args['obj']['getPaymentConfig()(uint64,bool)']
      argsTuple: AtomicMarketplaceEscrowV4Args['tuple']['getPaymentConfig()(uint64,bool)']
      returns: AtomicMarketplaceEscrowV4Returns['getPaymentConfig()(uint64,bool)']
    }>
  /**
   * Defines the shape of the state of the application.
   */
  state: {
    global: {
      keys: {
        /**
         * Global state
         */
        nextTradeId: bigint
        platformTreasury: BinaryState
        settlementCurrency: bigint
        /**
         * Configurable rates (in basis points, 10000 = 100%)
         */
        regulatorTaxRate: bigint
        regulatorRefundRate: bigint
        marketplaceFeeRate: bigint
      }
      maps: {}
    }
    box: {
      keys: {}
      maps: {
        /**
         * Storage maps
         */
        trades: Map<bigint | number, TradeEscrow>
        metadata: Map<bigint | number, TradeMetadata>
        /**
         * Index maps for querying
         */
        buyerTrades: Map<string, bigint[]>
        sellerTrades: Map<string, bigint[]>
      }
    }
  }
}

/**
 * Defines the possible abi call signatures.
 */
export type AtomicMarketplaceEscrowV4Signatures = keyof AtomicMarketplaceEscrowV4Types['methods']
/**
 * Defines the possible abi call signatures for methods that return a non-void value.
 */
export type AtomicMarketplaceEscrowV4NonVoidMethodSignatures = keyof AtomicMarketplaceEscrowV4Types['methods'] extends infer T ? T extends keyof AtomicMarketplaceEscrowV4Types['methods'] ? MethodReturn<T> extends void ? never : T  : never : never
/**
 * Defines an object containing all relevant parameters for a single call to the contract.
 */
export type CallParams<TArgs> = Expand<
  Omit<AppClientMethodCallParams, 'method' | 'args' | 'onComplete'> &
    {
      /** The args for the ABI method call, either as an ordered array or an object */
      args: Expand<TArgs>
    }
>
/**
 * Maps a method signature from the AtomicMarketplaceEscrowV4 smart contract to the method's arguments in either tuple or struct form
 */
export type MethodArgs<TSignature extends AtomicMarketplaceEscrowV4Signatures> = AtomicMarketplaceEscrowV4Types['methods'][TSignature]['argsObj' | 'argsTuple']
/**
 * Maps a method signature from the AtomicMarketplaceEscrowV4 smart contract to the method's return type
 */
export type MethodReturn<TSignature extends AtomicMarketplaceEscrowV4Signatures> = AtomicMarketplaceEscrowV4Types['methods'][TSignature]['returns']

/**
 * Defines the shape of the keyed global state of the application.
 */
export type GlobalKeysState = AtomicMarketplaceEscrowV4Types['state']['global']['keys']

/**
 * Defines the shape of the keyed box state of the application.
 */
export type BoxKeysState = AtomicMarketplaceEscrowV4Types['state']['box']['keys']


/**
 * Defines supported create method params for this smart contract
 */
export type AtomicMarketplaceEscrowV4CreateCallParams =
  | Expand<AppClientBareCallParams & {method?: never} & {onComplete?: OnApplicationComplete.NoOpOC} & CreateSchema>
/**
 * Defines arguments required for the deploy method.
 */
export type AtomicMarketplaceEscrowV4DeployParams = Expand<Omit<AppFactoryDeployParams, 'createParams' | 'updateParams' | 'deleteParams'> & {
  /**
   * Create transaction parameters to use if a create needs to be issued as part of deployment; use `method` to define ABI call (if available) or leave out for a bare call (if available)
   */
  createParams?: AtomicMarketplaceEscrowV4CreateCallParams
}>


/**
 * Exposes methods for constructing `AppClient` params objects for ABI calls to the AtomicMarketplaceEscrowV4 smart contract
 */
export abstract class AtomicMarketplaceEscrowV4ParamsFactory {
  /**
   * Constructs a no op call for the initialize(uint64,address)bool ABI method
   *
   * Initialize marketplace escrow
   *
   * @param params Parameters for the call
   * @returns An `AppClientMethodCallParams` object for the call
   */
  static initialize(params: CallParams<AtomicMarketplaceEscrowV4Args['obj']['initialize(uint64,address)bool'] | AtomicMarketplaceEscrowV4Args['tuple']['initialize(uint64,address)bool']> & CallOnComplete): AppClientMethodCallParams & CallOnComplete {
    return {
      ...params,
      method: 'initialize(uint64,address)bool' as const,
      args: Array.isArray(params.args) ? params.args : [params.args.settlementAssetId, params.args.treasuryAddress],
    }
  }
  /**
   * Constructs a no op call for the setSettlementCurrency(uint64)bool ABI method
   *
   * Update settlement currency (admin only)
   *
   * @param params Parameters for the call
   * @returns An `AppClientMethodCallParams` object for the call
   */
  static setSettlementCurrency(params: CallParams<AtomicMarketplaceEscrowV4Args['obj']['setSettlementCurrency(uint64)bool'] | AtomicMarketplaceEscrowV4Args['tuple']['setSettlementCurrency(uint64)bool']> & CallOnComplete): AppClientMethodCallParams & CallOnComplete {
    return {
      ...params,
      method: 'setSettlementCurrency(uint64)bool' as const,
      args: Array.isArray(params.args) ? params.args : [params.args.assetId],
    }
  }
  /**
   * Constructs a no op call for the setRates(uint64,uint64,uint64)bool ABI method
   *
   * Update configurable rates (only creator)
   *
   * @param params Parameters for the call
   * @returns An `AppClientMethodCallParams` object for the call
   */
  static setRates(params: CallParams<AtomicMarketplaceEscrowV4Args['obj']['setRates(uint64,uint64,uint64)bool'] | AtomicMarketplaceEscrowV4Args['tuple']['setRates(uint64,uint64,uint64)bool']> & CallOnComplete): AppClientMethodCallParams & CallOnComplete {
    return {
      ...params,
      method: 'setRates(uint64,uint64,uint64)bool' as const,
      args: Array.isArray(params.args) ? params.args : [params.args.taxRate, params.args.refundRate, params.args.feeRate],
    }
  }
  /**
   * Constructs a no op call for the createTrade(address,uint64,string,string,string)uint64 ABI method
   *
  * Create trade (buyer initiates)
  
  UI MUST divide instrument price by 100,000 before calling this

   *
   * @param params Parameters for the call
   * @returns An `AppClientMethodCallParams` object for the call
   */
  static createTrade(params: CallParams<AtomicMarketplaceEscrowV4Args['obj']['createTrade(address,uint64,string,string,string)uint64'] | AtomicMarketplaceEscrowV4Args['tuple']['createTrade(address,uint64,string,string,string)uint64']> & CallOnComplete): AppClientMethodCallParams & CallOnComplete {
    return {
      ...params,
      method: 'createTrade(address,uint64,string,string,string)uint64' as const,
      args: Array.isArray(params.args) ? params.args : [params.args.sellerAddress, params.args.amount, params.args.productType, params.args.description, params.args.ipfsHash],
    }
  }
  /**
   * Constructs a no op call for the escrowTrade(pay,uint64)bool ABI method
   *
  * Escrow trade - buyer locks funds (ALGO)
  
  Group transaction structure:
  [0] Payment (buyer to contract)
  [1] Application call (this method)

   *
   * @param params Parameters for the call
   * @returns An `AppClientMethodCallParams` object for the call
   */
  static escrowTrade(params: CallParams<AtomicMarketplaceEscrowV4Args['obj']['escrowTrade(pay,uint64)bool'] | AtomicMarketplaceEscrowV4Args['tuple']['escrowTrade(pay,uint64)bool']> & CallOnComplete): AppClientMethodCallParams & CallOnComplete {
    return {
      ...params,
      method: 'escrowTrade(pay,uint64)bool' as const,
      args: Array.isArray(params.args) ? params.args : [params.args.paymentTxn, params.args.tradeId],
    }
  }
  /**
   * Constructs a no op call for the escrowTradeWithAsset(axfer,uint64)bool ABI method
   *
  * Escrow trade - buyer locks funds (ASA)
  
  Group transaction structure:
  [0] AssetTransfer (buyer to contract)
  [1] Application call (this method)

   *
   * @param params Parameters for the call
   * @returns An `AppClientMethodCallParams` object for the call
   */
  static escrowTradeWithAsset(params: CallParams<AtomicMarketplaceEscrowV4Args['obj']['escrowTradeWithAsset(axfer,uint64)bool'] | AtomicMarketplaceEscrowV4Args['tuple']['escrowTradeWithAsset(axfer,uint64)bool']> & CallOnComplete): AppClientMethodCallParams & CallOnComplete {
    return {
      ...params,
      method: 'escrowTradeWithAsset(axfer,uint64)bool' as const,
      args: Array.isArray(params.args) ? params.args : [params.args.assetTxn, params.args.tradeId],
    }
  }
  /**
   * Constructs a no op call for the escrowTradeAsFinancier(pay,uint64)bool ABI method
   *
  * Escrow trade as financier - third party locks funds (ALGO)
  
  Group transaction structure:
  [0] Payment (financier to contract)
  [1] Application call (this method)

   *
   * @param params Parameters for the call
   * @returns An `AppClientMethodCallParams` object for the call
   */
  static escrowTradeAsFinancier(params: CallParams<AtomicMarketplaceEscrowV4Args['obj']['escrowTradeAsFinancier(pay,uint64)bool'] | AtomicMarketplaceEscrowV4Args['tuple']['escrowTradeAsFinancier(pay,uint64)bool']> & CallOnComplete): AppClientMethodCallParams & CallOnComplete {
    return {
      ...params,
      method: 'escrowTradeAsFinancier(pay,uint64)bool' as const,
      args: Array.isArray(params.args) ? params.args : [params.args.paymentTxn, params.args.tradeId],
    }
  }
  /**
   * Constructs a no op call for the escrowTradeAsFinancierWithAsset(axfer,uint64)bool ABI method
   *
  * Escrow trade as financier - third party locks funds (ASA)
  
  Group transaction structure:
  [0] AssetTransfer (financier to contract)
  [1] Application call (this method)

   *
   * @param params Parameters for the call
   * @returns An `AppClientMethodCallParams` object for the call
   */
  static escrowTradeAsFinancierWithAsset(params: CallParams<AtomicMarketplaceEscrowV4Args['obj']['escrowTradeAsFinancierWithAsset(axfer,uint64)bool'] | AtomicMarketplaceEscrowV4Args['tuple']['escrowTradeAsFinancierWithAsset(axfer,uint64)bool']> & CallOnComplete): AppClientMethodCallParams & CallOnComplete {
    return {
      ...params,
      method: 'escrowTradeAsFinancierWithAsset(axfer,uint64)bool' as const,
      args: Array.isArray(params.args) ? params.args : [params.args.assetTxn, params.args.tradeId],
    }
  }
  /**
   * Constructs a no op call for the executeTrade(axfer,pay,uint64,uint64,uint64,string,string,string,address)bool ABI method
   *
  * Execute trade - seller transfers RWA instrument and receives payment (ALGO)
  
  Group transaction structure:
  [0] Asset transfer (seller sends instrument NFT to buyer/marketplace)
  [1] Payment (regulator tax payment from seller)
  [2] Application call (this method - triggers internal payments)

   *
   * @param params Parameters for the call
   * @returns An `AppClientMethodCallParams` object for the call
   */
  static executeTrade(params: CallParams<AtomicMarketplaceEscrowV4Args['obj']['executeTrade(axfer,pay,uint64,uint64,uint64,string,string,string,address)bool'] | AtomicMarketplaceEscrowV4Args['tuple']['executeTrade(axfer,pay,uint64,uint64,uint64,string,string,string,address)bool']> & CallOnComplete): AppClientMethodCallParams & CallOnComplete {
    return {
      ...params,
      method: 'executeTrade(axfer,pay,uint64,uint64,uint64,string,string,string,address)bool' as const,
      args: Array.isArray(params.args) ? params.args : [params.args.instrumentTxn, params.args.regulatorPayment, params.args.tradeId, params.args.instrumentAssetId, params.args.instrumentTypeNum, params.args.leiId, params.args.leiName, params.args.instrumentNumber, params.args.regulatorWallet],
    }
  }
  /**
   * Constructs a no op call for the executeTradeWithAsset(axfer,axfer,uint64,uint64,uint64,string,string,string,address)bool ABI method
   *
  * Execute trade - seller transfers RWA instrument and receives payment (ASA)
  
  Group transaction structure:
  [0] Asset transfer (seller sends instrument NFT to buyer/marketplace)
  [1] AssetTransfer (regulator tax payment from seller)
  [2] Application call (this method - triggers internal payments)

   *
   * @param params Parameters for the call
   * @returns An `AppClientMethodCallParams` object for the call
   */
  static executeTradeWithAsset(params: CallParams<AtomicMarketplaceEscrowV4Args['obj']['executeTradeWithAsset(axfer,axfer,uint64,uint64,uint64,string,string,string,address)bool'] | AtomicMarketplaceEscrowV4Args['tuple']['executeTradeWithAsset(axfer,axfer,uint64,uint64,uint64,string,string,string,address)bool']> & CallOnComplete): AppClientMethodCallParams & CallOnComplete {
    return {
      ...params,
      method: 'executeTradeWithAsset(axfer,axfer,uint64,uint64,uint64,string,string,string,address)bool' as const,
      args: Array.isArray(params.args) ? params.args : [params.args.instrumentTxn, params.args.regulatorAssetPayment, params.args.tradeId, params.args.instrumentAssetId, params.args.instrumentTypeNum, params.args.leiId, params.args.leiName, params.args.instrumentNumber, params.args.regulatorWallet],
    }
  }
  /**
   * Constructs a no op call for the acknowledgePayment(pay,uint64)bool ABI method
   *
  * Acknowledge payment - seller confirms receipt and triggers regulator refund (ALGO)
  
  Group transaction structure:
  [0] Payment (regulator sends refund to seller)
  [1] Application call (this method)

   *
   * @param params Parameters for the call
   * @returns An `AppClientMethodCallParams` object for the call
   */
  static acknowledgePayment(params: CallParams<AtomicMarketplaceEscrowV4Args['obj']['acknowledgePayment(pay,uint64)bool'] | AtomicMarketplaceEscrowV4Args['tuple']['acknowledgePayment(pay,uint64)bool']> & CallOnComplete): AppClientMethodCallParams & CallOnComplete {
    return {
      ...params,
      method: 'acknowledgePayment(pay,uint64)bool' as const,
      args: Array.isArray(params.args) ? params.args : [params.args.regulatorRefund, params.args.tradeId],
    }
  }
  /**
   * Constructs a no op call for the acknowledgePaymentWithAsset(axfer,uint64)bool ABI method
   *
  * Acknowledge payment - seller confirms receipt and triggers regulator refund (ASA)
  
  Group transaction structure:
  [0] AssetTransfer (regulator sends refund to seller)
  [1] Application call (this method)

   *
   * @param params Parameters for the call
   * @returns An `AppClientMethodCallParams` object for the call
   */
  static acknowledgePaymentWithAsset(params: CallParams<AtomicMarketplaceEscrowV4Args['obj']['acknowledgePaymentWithAsset(axfer,uint64)bool'] | AtomicMarketplaceEscrowV4Args['tuple']['acknowledgePaymentWithAsset(axfer,uint64)bool']> & CallOnComplete): AppClientMethodCallParams & CallOnComplete {
    return {
      ...params,
      method: 'acknowledgePaymentWithAsset(axfer,uint64)bool' as const,
      args: Array.isArray(params.args) ? params.args : [params.args.regulatorRefund, params.args.tradeId],
    }
  }
  /**
   * Constructs a no op call for the expireTrade(uint64)bool ABI method
   *
   * Expire trade - admin function to cancel and refund
   *
   * @param params Parameters for the call
   * @returns An `AppClientMethodCallParams` object for the call
   */
  static expireTrade(params: CallParams<AtomicMarketplaceEscrowV4Args['obj']['expireTrade(uint64)bool'] | AtomicMarketplaceEscrowV4Args['tuple']['expireTrade(uint64)bool']> & CallOnComplete): AppClientMethodCallParams & CallOnComplete {
    return {
      ...params,
      method: 'expireTrade(uint64)bool' as const,
      args: Array.isArray(params.args) ? params.args : [params.args.tradeId],
    }
  }
  /**
   * Constructs a no op call for the getTrade(uint64)(uint64,address,address,address,uint64,uint64,uint64,uint64,uint64,uint64,address,uint64,uint64,uint64) ABI method
   *
   * Get trade details
   *
   * @param params Parameters for the call
   * @returns An `AppClientMethodCallParams` object for the call
   */
  static getTrade(params: CallParams<AtomicMarketplaceEscrowV4Args['obj']['getTrade(uint64)(uint64,address,address,address,uint64,uint64,uint64,uint64,uint64,uint64,address,uint64,uint64,uint64)'] | AtomicMarketplaceEscrowV4Args['tuple']['getTrade(uint64)(uint64,address,address,address,uint64,uint64,uint64,uint64,uint64,uint64,address,uint64,uint64,uint64)']> & CallOnComplete): AppClientMethodCallParams & CallOnComplete {
    return {
      ...params,
      method: 'getTrade(uint64)(uint64,address,address,address,uint64,uint64,uint64,uint64,uint64,uint64,address,uint64,uint64,uint64)' as const,
      args: Array.isArray(params.args) ? params.args : [params.args.tradeId],
    }
  }
  /**
   * Constructs a no op call for the getTradeMetadata(uint64)(string,string,string,string,string,string) ABI method
   *
   * Get trade metadata
   *
   * @param params Parameters for the call
   * @returns An `AppClientMethodCallParams` object for the call
   */
  static getTradeMetadata(params: CallParams<AtomicMarketplaceEscrowV4Args['obj']['getTradeMetadata(uint64)(string,string,string,string,string,string)'] | AtomicMarketplaceEscrowV4Args['tuple']['getTradeMetadata(uint64)(string,string,string,string,string,string)']> & CallOnComplete): AppClientMethodCallParams & CallOnComplete {
    return {
      ...params,
      method: 'getTradeMetadata(uint64)(string,string,string,string,string,string)' as const,
      args: Array.isArray(params.args) ? params.args : [params.args.tradeId],
    }
  }
  /**
   * Constructs a no op call for the getTradesByBuyer(address)uint64[] ABI method
   *
   * Get trades by buyer
   *
   * @param params Parameters for the call
   * @returns An `AppClientMethodCallParams` object for the call
   */
  static getTradesByBuyer(params: CallParams<AtomicMarketplaceEscrowV4Args['obj']['getTradesByBuyer(address)uint64[]'] | AtomicMarketplaceEscrowV4Args['tuple']['getTradesByBuyer(address)uint64[]']> & CallOnComplete): AppClientMethodCallParams & CallOnComplete {
    return {
      ...params,
      method: 'getTradesByBuyer(address)uint64[]' as const,
      args: Array.isArray(params.args) ? params.args : [params.args.buyer],
    }
  }
  /**
   * Constructs a no op call for the getTradesBySeller(address)uint64[] ABI method
   *
   * Get trades by seller
   *
   * @param params Parameters for the call
   * @returns An `AppClientMethodCallParams` object for the call
   */
  static getTradesBySeller(params: CallParams<AtomicMarketplaceEscrowV4Args['obj']['getTradesBySeller(address)uint64[]'] | AtomicMarketplaceEscrowV4Args['tuple']['getTradesBySeller(address)uint64[]']> & CallOnComplete): AppClientMethodCallParams & CallOnComplete {
    return {
      ...params,
      method: 'getTradesBySeller(address)uint64[]' as const,
      args: Array.isArray(params.args) ? params.args : [params.args.seller],
    }
  }
  /**
   * Constructs a no op call for the calculateEscrowCost(uint64)(uint64,uint64) ABI method
   *
   * Calculate escrow cost (amount + fee)
   *
   * @param params Parameters for the call
   * @returns An `AppClientMethodCallParams` object for the call
   */
  static calculateEscrowCost(params: CallParams<AtomicMarketplaceEscrowV4Args['obj']['calculateEscrowCost(uint64)(uint64,uint64)'] | AtomicMarketplaceEscrowV4Args['tuple']['calculateEscrowCost(uint64)(uint64,uint64)']> & CallOnComplete): AppClientMethodCallParams & CallOnComplete {
    return {
      ...params,
      method: 'calculateEscrowCost(uint64)(uint64,uint64)' as const,
      args: Array.isArray(params.args) ? params.args : [params.args.amount],
    }
  }
  /**
   * Constructs a no op call for the calculateRegulatorCosts(uint64)(uint64,uint64) ABI method
   *
   * Calculate regulator costs
   *
   * @param params Parameters for the call
   * @returns An `AppClientMethodCallParams` object for the call
   */
  static calculateRegulatorCosts(params: CallParams<AtomicMarketplaceEscrowV4Args['obj']['calculateRegulatorCosts(uint64)(uint64,uint64)'] | AtomicMarketplaceEscrowV4Args['tuple']['calculateRegulatorCosts(uint64)(uint64,uint64)']> & CallOnComplete): AppClientMethodCallParams & CallOnComplete {
    return {
      ...params,
      method: 'calculateRegulatorCosts(uint64)(uint64,uint64)' as const,
      args: Array.isArray(params.args) ? params.args : [params.args.amount],
    }
  }
  /**
   * Constructs a no op call for the getPaymentConfig()(uint64,bool) ABI method
   *
   * Get payment configuration for UI
   *
   * @param params Parameters for the call
   * @returns An `AppClientMethodCallParams` object for the call
   */
  static getPaymentConfig(params: CallParams<AtomicMarketplaceEscrowV4Args['obj']['getPaymentConfig()(uint64,bool)'] | AtomicMarketplaceEscrowV4Args['tuple']['getPaymentConfig()(uint64,bool)']> & CallOnComplete): AppClientMethodCallParams & CallOnComplete {
    return {
      ...params,
      method: 'getPaymentConfig()(uint64,bool)' as const,
      args: Array.isArray(params.args) ? params.args : [],
    }
  }
}

/**
 * A factory to create and deploy one or more instance of the AtomicMarketplaceEscrowV4 smart contract and to create one or more app clients to interact with those (or other) app instances
 */
export class AtomicMarketplaceEscrowV4Factory {
  /**
   * The underlying `AppFactory` for when you want to have more flexibility
   */
  public readonly appFactory: _AppFactory

  /**
   * Creates a new instance of `AtomicMarketplaceEscrowV4Factory`
   *
   * @param params The parameters to initialise the app factory with
   */
  constructor(params: Omit<AppFactoryParams, 'appSpec'>) {
    this.appFactory = new _AppFactory({
      ...params,
      appSpec: APP_SPEC,
    })
  }
  
  /** The name of the app (from the ARC-32 / ARC-56 app spec or override). */
  public get appName() {
    return this.appFactory.appName
  }
  
  /** The ARC-56 app spec being used */
  get appSpec() {
    return APP_SPEC
  }
  
  /** A reference to the underlying `AlgorandClient` this app factory is using. */
  public get algorand(): AlgorandClient {
    return this.appFactory.algorand
  }
  
  /**
   * Returns a new `AppClient` client for an app instance of the given ID.
   *
   * Automatically populates appName, defaultSender and source maps from the factory
   * if not specified in the params.
   * @param params The parameters to create the app client
   * @returns The `AppClient`
   */
  public getAppClientById(params: AppFactoryAppClientParams) {
    return new AtomicMarketplaceEscrowV4Client(this.appFactory.getAppClientById(params))
  }
  
  /**
   * Returns a new `AppClient` client, resolving the app by creator address and name
   * using AlgoKit app deployment semantics (i.e. looking for the app creation transaction note).
   *
   * Automatically populates appName, defaultSender and source maps from the factory
   * if not specified in the params.
   * @param params The parameters to create the app client
   * @returns The `AppClient`
   */
  public async getAppClientByCreatorAndName(
    params: AppFactoryResolveAppClientByCreatorAndNameParams,
  ) {
    return new AtomicMarketplaceEscrowV4Client(await this.appFactory.getAppClientByCreatorAndName(params))
  }

  /**
   * Idempotently deploys the AtomicMarketplaceEscrowV4 smart contract.
   *
   * @param params The arguments for the contract calls and any additional parameters for the call
   * @returns The deployment result
   */
  public async deploy(params: AtomicMarketplaceEscrowV4DeployParams = {}) {
    const result = await this.appFactory.deploy({
      ...params,
    })
    return { result: result.result, appClient: new AtomicMarketplaceEscrowV4Client(result.appClient) }
  }

  /**
   * Get parameters to create transactions (create and deploy related calls) for the current app. A good mental model for this is that these parameters represent a deferred transaction creation.
   */
  readonly params = {
    /**
     * Gets available create methods
     */
    create: {
      /**
       * Creates a new instance of the AtomicMarketplaceEscrowV4 smart contract using a bare call.
       *
       * @param params The params for the bare (raw) call
       * @returns The params for a create call
       */
      bare: (params?: Expand<AppClientBareCallParams & AppClientCompilationParams & CreateSchema & {onComplete?: OnApplicationComplete.NoOpOC}>) => {
        return this.appFactory.params.bare.create(params)
      },
    },

  }

  /**
   * Create transactions for the current app
   */
  readonly createTransaction = {
    /**
     * Gets available create methods
     */
    create: {
      /**
       * Creates a new instance of the AtomicMarketplaceEscrowV4 smart contract using a bare call.
       *
       * @param params The params for the bare (raw) call
       * @returns The transaction for a create call
       */
      bare: (params?: Expand<AppClientBareCallParams & AppClientCompilationParams & CreateSchema & {onComplete?: OnApplicationComplete.NoOpOC}>) => {
        return this.appFactory.createTransaction.bare.create(params)
      },
    },

  }

  /**
   * Send calls to the current app
   */
  readonly send = {
    /**
     * Gets available create methods
     */
    create: {
      /**
       * Creates a new instance of the AtomicMarketplaceEscrowV4 smart contract using a bare call.
       *
       * @param params The params for the bare (raw) call
       * @returns The create result
       */
      bare: async (params?: Expand<AppClientBareCallParams & AppClientCompilationParams & CreateSchema & SendParams & {onComplete?: OnApplicationComplete.NoOpOC}>) => {
        const result = await this.appFactory.send.bare.create(params)
        return { result: result.result, appClient: new AtomicMarketplaceEscrowV4Client(result.appClient) }
      },
    },

  }

}
/**
 * A client to make calls to the AtomicMarketplaceEscrowV4 smart contract
 */
export class AtomicMarketplaceEscrowV4Client {
  /**
   * The underlying `AppClient` for when you want to have more flexibility
   */
  public readonly appClient: _AppClient

  /**
   * Creates a new instance of `AtomicMarketplaceEscrowV4Client`
   *
   * @param appClient An `AppClient` instance which has been created with the AtomicMarketplaceEscrowV4 app spec
   */
  constructor(appClient: _AppClient)
  /**
   * Creates a new instance of `AtomicMarketplaceEscrowV4Client`
   *
   * @param params The parameters to initialise the app client with
   */
  constructor(params: Omit<AppClientParams, 'appSpec'>)
  constructor(appClientOrParams: _AppClient | Omit<AppClientParams, 'appSpec'>) {
    this.appClient = appClientOrParams instanceof _AppClient ? appClientOrParams : new _AppClient({
      ...appClientOrParams,
      appSpec: APP_SPEC,
    })
  }
  
  /**
   * Checks for decode errors on the given return value and maps the return value to the return type for the given method
   * @returns The typed return value or undefined if there was no value
   */
  decodeReturnValue<TSignature extends AtomicMarketplaceEscrowV4NonVoidMethodSignatures>(method: TSignature, returnValue: ABIReturn | undefined) {
    return returnValue !== undefined ? getArc56ReturnValue<MethodReturn<TSignature>>(returnValue, this.appClient.getABIMethod(method), APP_SPEC.structs) : undefined
  }
  
  /**
   * Returns a new `AtomicMarketplaceEscrowV4Client` client, resolving the app by creator address and name
   * using AlgoKit app deployment semantics (i.e. looking for the app creation transaction note).
   * @param params The parameters to create the app client
   */
  public static async fromCreatorAndName(params: Omit<ResolveAppClientByCreatorAndName, 'appSpec'>): Promise<AtomicMarketplaceEscrowV4Client> {
    return new AtomicMarketplaceEscrowV4Client(await _AppClient.fromCreatorAndName({...params, appSpec: APP_SPEC}))
  }
  
  /**
   * Returns an `AtomicMarketplaceEscrowV4Client` instance for the current network based on
   * pre-determined network-specific app IDs specified in the ARC-56 app spec.
   *
   * If no IDs are in the app spec or the network isn't recognised, an error is thrown.
   * @param params The parameters to create the app client
   */
  static async fromNetwork(
    params: Omit<ResolveAppClientByNetwork, 'appSpec'>
  ): Promise<AtomicMarketplaceEscrowV4Client> {
    return new AtomicMarketplaceEscrowV4Client(await _AppClient.fromNetwork({...params, appSpec: APP_SPEC}))
  }
  
  /** The ID of the app instance this client is linked to. */
  public get appId() {
    return this.appClient.appId
  }
  
  /** The app address of the app instance this client is linked to. */
  public get appAddress() {
    return this.appClient.appAddress
  }
  
  /** The name of the app. */
  public get appName() {
    return this.appClient.appName
  }
  
  /** The ARC-56 app spec being used */
  public get appSpec() {
    return this.appClient.appSpec
  }
  
  /** A reference to the underlying `AlgorandClient` this app client is using. */
  public get algorand(): AlgorandClient {
    return this.appClient.algorand
  }

  /**
   * Get parameters to create transactions for the current app. A good mental model for this is that these parameters represent a deferred transaction creation.
   */
  readonly params = {
    /**
     * Makes a clear_state call to an existing instance of the AtomicMarketplaceEscrowV4 smart contract.
     *
     * @param params The params for the bare (raw) call
     * @returns The clearState result
     */
    clearState: (params?: Expand<AppClientBareCallParams>) => {
      return this.appClient.params.bare.clearState(params)
    },

    /**
     * Makes a call to the AtomicMarketplaceEscrowV4 smart contract using the `initialize(uint64,address)bool` ABI method.
     *
     * Initialize marketplace escrow
     *
     * @param params The params for the smart contract call
     * @returns The call params
     */
    initialize: (params: CallParams<AtomicMarketplaceEscrowV4Args['obj']['initialize(uint64,address)bool'] | AtomicMarketplaceEscrowV4Args['tuple']['initialize(uint64,address)bool']> & {onComplete?: OnApplicationComplete.NoOpOC}) => {
      return this.appClient.params.call(AtomicMarketplaceEscrowV4ParamsFactory.initialize(params))
    },

    /**
     * Makes a call to the AtomicMarketplaceEscrowV4 smart contract using the `setSettlementCurrency(uint64)bool` ABI method.
     *
     * Update settlement currency (admin only)
     *
     * @param params The params for the smart contract call
     * @returns The call params
     */
    setSettlementCurrency: (params: CallParams<AtomicMarketplaceEscrowV4Args['obj']['setSettlementCurrency(uint64)bool'] | AtomicMarketplaceEscrowV4Args['tuple']['setSettlementCurrency(uint64)bool']> & {onComplete?: OnApplicationComplete.NoOpOC}) => {
      return this.appClient.params.call(AtomicMarketplaceEscrowV4ParamsFactory.setSettlementCurrency(params))
    },

    /**
     * Makes a call to the AtomicMarketplaceEscrowV4 smart contract using the `setRates(uint64,uint64,uint64)bool` ABI method.
     *
     * Update configurable rates (only creator)
     *
     * @param params The params for the smart contract call
     * @returns The call params
     */
    setRates: (params: CallParams<AtomicMarketplaceEscrowV4Args['obj']['setRates(uint64,uint64,uint64)bool'] | AtomicMarketplaceEscrowV4Args['tuple']['setRates(uint64,uint64,uint64)bool']> & {onComplete?: OnApplicationComplete.NoOpOC}) => {
      return this.appClient.params.call(AtomicMarketplaceEscrowV4ParamsFactory.setRates(params))
    },

    /**
     * Makes a call to the AtomicMarketplaceEscrowV4 smart contract using the `createTrade(address,uint64,string,string,string)uint64` ABI method.
     *
    * Create trade (buyer initiates)
    
    UI MUST divide instrument price by 100,000 before calling this

     *
     * @param params The params for the smart contract call
     * @returns The call params
     */
    createTrade: (params: CallParams<AtomicMarketplaceEscrowV4Args['obj']['createTrade(address,uint64,string,string,string)uint64'] | AtomicMarketplaceEscrowV4Args['tuple']['createTrade(address,uint64,string,string,string)uint64']> & {onComplete?: OnApplicationComplete.NoOpOC}) => {
      return this.appClient.params.call(AtomicMarketplaceEscrowV4ParamsFactory.createTrade(params))
    },

    /**
     * Makes a call to the AtomicMarketplaceEscrowV4 smart contract using the `escrowTrade(pay,uint64)bool` ABI method.
     *
    * Escrow trade - buyer locks funds (ALGO)
    
    Group transaction structure:
    [0] Payment (buyer to contract)
    [1] Application call (this method)

     *
     * @param params The params for the smart contract call
     * @returns The call params
     */
    escrowTrade: (params: CallParams<AtomicMarketplaceEscrowV4Args['obj']['escrowTrade(pay,uint64)bool'] | AtomicMarketplaceEscrowV4Args['tuple']['escrowTrade(pay,uint64)bool']> & {onComplete?: OnApplicationComplete.NoOpOC}) => {
      return this.appClient.params.call(AtomicMarketplaceEscrowV4ParamsFactory.escrowTrade(params))
    },

    /**
     * Makes a call to the AtomicMarketplaceEscrowV4 smart contract using the `escrowTradeWithAsset(axfer,uint64)bool` ABI method.
     *
    * Escrow trade - buyer locks funds (ASA)
    
    Group transaction structure:
    [0] AssetTransfer (buyer to contract)
    [1] Application call (this method)

     *
     * @param params The params for the smart contract call
     * @returns The call params
     */
    escrowTradeWithAsset: (params: CallParams<AtomicMarketplaceEscrowV4Args['obj']['escrowTradeWithAsset(axfer,uint64)bool'] | AtomicMarketplaceEscrowV4Args['tuple']['escrowTradeWithAsset(axfer,uint64)bool']> & {onComplete?: OnApplicationComplete.NoOpOC}) => {
      return this.appClient.params.call(AtomicMarketplaceEscrowV4ParamsFactory.escrowTradeWithAsset(params))
    },

    /**
     * Makes a call to the AtomicMarketplaceEscrowV4 smart contract using the `escrowTradeAsFinancier(pay,uint64)bool` ABI method.
     *
    * Escrow trade as financier - third party locks funds (ALGO)
    
    Group transaction structure:
    [0] Payment (financier to contract)
    [1] Application call (this method)

     *
     * @param params The params for the smart contract call
     * @returns The call params
     */
    escrowTradeAsFinancier: (params: CallParams<AtomicMarketplaceEscrowV4Args['obj']['escrowTradeAsFinancier(pay,uint64)bool'] | AtomicMarketplaceEscrowV4Args['tuple']['escrowTradeAsFinancier(pay,uint64)bool']> & {onComplete?: OnApplicationComplete.NoOpOC}) => {
      return this.appClient.params.call(AtomicMarketplaceEscrowV4ParamsFactory.escrowTradeAsFinancier(params))
    },

    /**
     * Makes a call to the AtomicMarketplaceEscrowV4 smart contract using the `escrowTradeAsFinancierWithAsset(axfer,uint64)bool` ABI method.
     *
    * Escrow trade as financier - third party locks funds (ASA)
    
    Group transaction structure:
    [0] AssetTransfer (financier to contract)
    [1] Application call (this method)

     *
     * @param params The params for the smart contract call
     * @returns The call params
     */
    escrowTradeAsFinancierWithAsset: (params: CallParams<AtomicMarketplaceEscrowV4Args['obj']['escrowTradeAsFinancierWithAsset(axfer,uint64)bool'] | AtomicMarketplaceEscrowV4Args['tuple']['escrowTradeAsFinancierWithAsset(axfer,uint64)bool']> & {onComplete?: OnApplicationComplete.NoOpOC}) => {
      return this.appClient.params.call(AtomicMarketplaceEscrowV4ParamsFactory.escrowTradeAsFinancierWithAsset(params))
    },

    /**
     * Makes a call to the AtomicMarketplaceEscrowV4 smart contract using the `executeTrade(axfer,pay,uint64,uint64,uint64,string,string,string,address)bool` ABI method.
     *
    * Execute trade - seller transfers RWA instrument and receives payment (ALGO)
    
    Group transaction structure:
    [0] Asset transfer (seller sends instrument NFT to buyer/marketplace)
    [1] Payment (regulator tax payment from seller)
    [2] Application call (this method - triggers internal payments)

     *
     * @param params The params for the smart contract call
     * @returns The call params
     */
    executeTrade: (params: CallParams<AtomicMarketplaceEscrowV4Args['obj']['executeTrade(axfer,pay,uint64,uint64,uint64,string,string,string,address)bool'] | AtomicMarketplaceEscrowV4Args['tuple']['executeTrade(axfer,pay,uint64,uint64,uint64,string,string,string,address)bool']> & {onComplete?: OnApplicationComplete.NoOpOC}) => {
      return this.appClient.params.call(AtomicMarketplaceEscrowV4ParamsFactory.executeTrade(params))
    },

    /**
     * Makes a call to the AtomicMarketplaceEscrowV4 smart contract using the `executeTradeWithAsset(axfer,axfer,uint64,uint64,uint64,string,string,string,address)bool` ABI method.
     *
    * Execute trade - seller transfers RWA instrument and receives payment (ASA)
    
    Group transaction structure:
    [0] Asset transfer (seller sends instrument NFT to buyer/marketplace)
    [1] AssetTransfer (regulator tax payment from seller)
    [2] Application call (this method - triggers internal payments)

     *
     * @param params The params for the smart contract call
     * @returns The call params
     */
    executeTradeWithAsset: (params: CallParams<AtomicMarketplaceEscrowV4Args['obj']['executeTradeWithAsset(axfer,axfer,uint64,uint64,uint64,string,string,string,address)bool'] | AtomicMarketplaceEscrowV4Args['tuple']['executeTradeWithAsset(axfer,axfer,uint64,uint64,uint64,string,string,string,address)bool']> & {onComplete?: OnApplicationComplete.NoOpOC}) => {
      return this.appClient.params.call(AtomicMarketplaceEscrowV4ParamsFactory.executeTradeWithAsset(params))
    },

    /**
     * Makes a call to the AtomicMarketplaceEscrowV4 smart contract using the `acknowledgePayment(pay,uint64)bool` ABI method.
     *
    * Acknowledge payment - seller confirms receipt and triggers regulator refund (ALGO)
    
    Group transaction structure:
    [0] Payment (regulator sends refund to seller)
    [1] Application call (this method)

     *
     * @param params The params for the smart contract call
     * @returns The call params
     */
    acknowledgePayment: (params: CallParams<AtomicMarketplaceEscrowV4Args['obj']['acknowledgePayment(pay,uint64)bool'] | AtomicMarketplaceEscrowV4Args['tuple']['acknowledgePayment(pay,uint64)bool']> & {onComplete?: OnApplicationComplete.NoOpOC}) => {
      return this.appClient.params.call(AtomicMarketplaceEscrowV4ParamsFactory.acknowledgePayment(params))
    },

    /**
     * Makes a call to the AtomicMarketplaceEscrowV4 smart contract using the `acknowledgePaymentWithAsset(axfer,uint64)bool` ABI method.
     *
    * Acknowledge payment - seller confirms receipt and triggers regulator refund (ASA)
    
    Group transaction structure:
    [0] AssetTransfer (regulator sends refund to seller)
    [1] Application call (this method)

     *
     * @param params The params for the smart contract call
     * @returns The call params
     */
    acknowledgePaymentWithAsset: (params: CallParams<AtomicMarketplaceEscrowV4Args['obj']['acknowledgePaymentWithAsset(axfer,uint64)bool'] | AtomicMarketplaceEscrowV4Args['tuple']['acknowledgePaymentWithAsset(axfer,uint64)bool']> & {onComplete?: OnApplicationComplete.NoOpOC}) => {
      return this.appClient.params.call(AtomicMarketplaceEscrowV4ParamsFactory.acknowledgePaymentWithAsset(params))
    },

    /**
     * Makes a call to the AtomicMarketplaceEscrowV4 smart contract using the `expireTrade(uint64)bool` ABI method.
     *
     * Expire trade - admin function to cancel and refund
     *
     * @param params The params for the smart contract call
     * @returns The call params
     */
    expireTrade: (params: CallParams<AtomicMarketplaceEscrowV4Args['obj']['expireTrade(uint64)bool'] | AtomicMarketplaceEscrowV4Args['tuple']['expireTrade(uint64)bool']> & {onComplete?: OnApplicationComplete.NoOpOC}) => {
      return this.appClient.params.call(AtomicMarketplaceEscrowV4ParamsFactory.expireTrade(params))
    },

    /**
     * Makes a call to the AtomicMarketplaceEscrowV4 smart contract using the `getTrade(uint64)(uint64,address,address,address,uint64,uint64,uint64,uint64,uint64,uint64,address,uint64,uint64,uint64)` ABI method.
     * 
     * This method is a readonly method; calling it with onComplete of NoOp will result in a simulated transaction rather than a real transaction.
     *
     * Get trade details
     *
     * @param params The params for the smart contract call
     * @returns The call params
     */
    getTrade: (params: CallParams<AtomicMarketplaceEscrowV4Args['obj']['getTrade(uint64)(uint64,address,address,address,uint64,uint64,uint64,uint64,uint64,uint64,address,uint64,uint64,uint64)'] | AtomicMarketplaceEscrowV4Args['tuple']['getTrade(uint64)(uint64,address,address,address,uint64,uint64,uint64,uint64,uint64,uint64,address,uint64,uint64,uint64)']> & {onComplete?: OnApplicationComplete.NoOpOC}) => {
      return this.appClient.params.call(AtomicMarketplaceEscrowV4ParamsFactory.getTrade(params))
    },

    /**
     * Makes a call to the AtomicMarketplaceEscrowV4 smart contract using the `getTradeMetadata(uint64)(string,string,string,string,string,string)` ABI method.
     * 
     * This method is a readonly method; calling it with onComplete of NoOp will result in a simulated transaction rather than a real transaction.
     *
     * Get trade metadata
     *
     * @param params The params for the smart contract call
     * @returns The call params
     */
    getTradeMetadata: (params: CallParams<AtomicMarketplaceEscrowV4Args['obj']['getTradeMetadata(uint64)(string,string,string,string,string,string)'] | AtomicMarketplaceEscrowV4Args['tuple']['getTradeMetadata(uint64)(string,string,string,string,string,string)']> & {onComplete?: OnApplicationComplete.NoOpOC}) => {
      return this.appClient.params.call(AtomicMarketplaceEscrowV4ParamsFactory.getTradeMetadata(params))
    },

    /**
     * Makes a call to the AtomicMarketplaceEscrowV4 smart contract using the `getTradesByBuyer(address)uint64[]` ABI method.
     * 
     * This method is a readonly method; calling it with onComplete of NoOp will result in a simulated transaction rather than a real transaction.
     *
     * Get trades by buyer
     *
     * @param params The params for the smart contract call
     * @returns The call params
     */
    getTradesByBuyer: (params: CallParams<AtomicMarketplaceEscrowV4Args['obj']['getTradesByBuyer(address)uint64[]'] | AtomicMarketplaceEscrowV4Args['tuple']['getTradesByBuyer(address)uint64[]']> & {onComplete?: OnApplicationComplete.NoOpOC}) => {
      return this.appClient.params.call(AtomicMarketplaceEscrowV4ParamsFactory.getTradesByBuyer(params))
    },

    /**
     * Makes a call to the AtomicMarketplaceEscrowV4 smart contract using the `getTradesBySeller(address)uint64[]` ABI method.
     * 
     * This method is a readonly method; calling it with onComplete of NoOp will result in a simulated transaction rather than a real transaction.
     *
     * Get trades by seller
     *
     * @param params The params for the smart contract call
     * @returns The call params
     */
    getTradesBySeller: (params: CallParams<AtomicMarketplaceEscrowV4Args['obj']['getTradesBySeller(address)uint64[]'] | AtomicMarketplaceEscrowV4Args['tuple']['getTradesBySeller(address)uint64[]']> & {onComplete?: OnApplicationComplete.NoOpOC}) => {
      return this.appClient.params.call(AtomicMarketplaceEscrowV4ParamsFactory.getTradesBySeller(params))
    },

    /**
     * Makes a call to the AtomicMarketplaceEscrowV4 smart contract using the `calculateEscrowCost(uint64)(uint64,uint64)` ABI method.
     * 
     * This method is a readonly method; calling it with onComplete of NoOp will result in a simulated transaction rather than a real transaction.
     *
     * Calculate escrow cost (amount + fee)
     *
     * @param params The params for the smart contract call
     * @returns The call params
     */
    calculateEscrowCost: (params: CallParams<AtomicMarketplaceEscrowV4Args['obj']['calculateEscrowCost(uint64)(uint64,uint64)'] | AtomicMarketplaceEscrowV4Args['tuple']['calculateEscrowCost(uint64)(uint64,uint64)']> & {onComplete?: OnApplicationComplete.NoOpOC}) => {
      return this.appClient.params.call(AtomicMarketplaceEscrowV4ParamsFactory.calculateEscrowCost(params))
    },

    /**
     * Makes a call to the AtomicMarketplaceEscrowV4 smart contract using the `calculateRegulatorCosts(uint64)(uint64,uint64)` ABI method.
     * 
     * This method is a readonly method; calling it with onComplete of NoOp will result in a simulated transaction rather than a real transaction.
     *
     * Calculate regulator costs
     *
     * @param params The params for the smart contract call
     * @returns The call params
     */
    calculateRegulatorCosts: (params: CallParams<AtomicMarketplaceEscrowV4Args['obj']['calculateRegulatorCosts(uint64)(uint64,uint64)'] | AtomicMarketplaceEscrowV4Args['tuple']['calculateRegulatorCosts(uint64)(uint64,uint64)']> & {onComplete?: OnApplicationComplete.NoOpOC}) => {
      return this.appClient.params.call(AtomicMarketplaceEscrowV4ParamsFactory.calculateRegulatorCosts(params))
    },

    /**
     * Makes a call to the AtomicMarketplaceEscrowV4 smart contract using the `getPaymentConfig()(uint64,bool)` ABI method.
     * 
     * This method is a readonly method; calling it with onComplete of NoOp will result in a simulated transaction rather than a real transaction.
     *
     * Get payment configuration for UI
     *
     * @param params The params for the smart contract call
     * @returns The call params
     */
    getPaymentConfig: (params: CallParams<AtomicMarketplaceEscrowV4Args['obj']['getPaymentConfig()(uint64,bool)'] | AtomicMarketplaceEscrowV4Args['tuple']['getPaymentConfig()(uint64,bool)']> & {onComplete?: OnApplicationComplete.NoOpOC} = {args: []}) => {
      return this.appClient.params.call(AtomicMarketplaceEscrowV4ParamsFactory.getPaymentConfig(params))
    },

  }

  /**
   * Create transactions for the current app
   */
  readonly createTransaction = {
    /**
     * Makes a clear_state call to an existing instance of the AtomicMarketplaceEscrowV4 smart contract.
     *
     * @param params The params for the bare (raw) call
     * @returns The clearState result
     */
    clearState: (params?: Expand<AppClientBareCallParams>) => {
      return this.appClient.createTransaction.bare.clearState(params)
    },

    /**
     * Makes a call to the AtomicMarketplaceEscrowV4 smart contract using the `initialize(uint64,address)bool` ABI method.
     *
     * Initialize marketplace escrow
     *
     * @param params The params for the smart contract call
     * @returns The call transaction
     */
    initialize: (params: CallParams<AtomicMarketplaceEscrowV4Args['obj']['initialize(uint64,address)bool'] | AtomicMarketplaceEscrowV4Args['tuple']['initialize(uint64,address)bool']> & {onComplete?: OnApplicationComplete.NoOpOC}) => {
      return this.appClient.createTransaction.call(AtomicMarketplaceEscrowV4ParamsFactory.initialize(params))
    },

    /**
     * Makes a call to the AtomicMarketplaceEscrowV4 smart contract using the `setSettlementCurrency(uint64)bool` ABI method.
     *
     * Update settlement currency (admin only)
     *
     * @param params The params for the smart contract call
     * @returns The call transaction
     */
    setSettlementCurrency: (params: CallParams<AtomicMarketplaceEscrowV4Args['obj']['setSettlementCurrency(uint64)bool'] | AtomicMarketplaceEscrowV4Args['tuple']['setSettlementCurrency(uint64)bool']> & {onComplete?: OnApplicationComplete.NoOpOC}) => {
      return this.appClient.createTransaction.call(AtomicMarketplaceEscrowV4ParamsFactory.setSettlementCurrency(params))
    },

    /**
     * Makes a call to the AtomicMarketplaceEscrowV4 smart contract using the `setRates(uint64,uint64,uint64)bool` ABI method.
     *
     * Update configurable rates (only creator)
     *
     * @param params The params for the smart contract call
     * @returns The call transaction
     */
    setRates: (params: CallParams<AtomicMarketplaceEscrowV4Args['obj']['setRates(uint64,uint64,uint64)bool'] | AtomicMarketplaceEscrowV4Args['tuple']['setRates(uint64,uint64,uint64)bool']> & {onComplete?: OnApplicationComplete.NoOpOC}) => {
      return this.appClient.createTransaction.call(AtomicMarketplaceEscrowV4ParamsFactory.setRates(params))
    },

    /**
     * Makes a call to the AtomicMarketplaceEscrowV4 smart contract using the `createTrade(address,uint64,string,string,string)uint64` ABI method.
     *
    * Create trade (buyer initiates)
    
    UI MUST divide instrument price by 100,000 before calling this

     *
     * @param params The params for the smart contract call
     * @returns The call transaction
     */
    createTrade: (params: CallParams<AtomicMarketplaceEscrowV4Args['obj']['createTrade(address,uint64,string,string,string)uint64'] | AtomicMarketplaceEscrowV4Args['tuple']['createTrade(address,uint64,string,string,string)uint64']> & {onComplete?: OnApplicationComplete.NoOpOC}) => {
      return this.appClient.createTransaction.call(AtomicMarketplaceEscrowV4ParamsFactory.createTrade(params))
    },

    /**
     * Makes a call to the AtomicMarketplaceEscrowV4 smart contract using the `escrowTrade(pay,uint64)bool` ABI method.
     *
    * Escrow trade - buyer locks funds (ALGO)
    
    Group transaction structure:
    [0] Payment (buyer to contract)
    [1] Application call (this method)

     *
     * @param params The params for the smart contract call
     * @returns The call transaction
     */
    escrowTrade: (params: CallParams<AtomicMarketplaceEscrowV4Args['obj']['escrowTrade(pay,uint64)bool'] | AtomicMarketplaceEscrowV4Args['tuple']['escrowTrade(pay,uint64)bool']> & {onComplete?: OnApplicationComplete.NoOpOC}) => {
      return this.appClient.createTransaction.call(AtomicMarketplaceEscrowV4ParamsFactory.escrowTrade(params))
    },

    /**
     * Makes a call to the AtomicMarketplaceEscrowV4 smart contract using the `escrowTradeWithAsset(axfer,uint64)bool` ABI method.
     *
    * Escrow trade - buyer locks funds (ASA)
    
    Group transaction structure:
    [0] AssetTransfer (buyer to contract)
    [1] Application call (this method)

     *
     * @param params The params for the smart contract call
     * @returns The call transaction
     */
    escrowTradeWithAsset: (params: CallParams<AtomicMarketplaceEscrowV4Args['obj']['escrowTradeWithAsset(axfer,uint64)bool'] | AtomicMarketplaceEscrowV4Args['tuple']['escrowTradeWithAsset(axfer,uint64)bool']> & {onComplete?: OnApplicationComplete.NoOpOC}) => {
      return this.appClient.createTransaction.call(AtomicMarketplaceEscrowV4ParamsFactory.escrowTradeWithAsset(params))
    },

    /**
     * Makes a call to the AtomicMarketplaceEscrowV4 smart contract using the `escrowTradeAsFinancier(pay,uint64)bool` ABI method.
     *
    * Escrow trade as financier - third party locks funds (ALGO)
    
    Group transaction structure:
    [0] Payment (financier to contract)
    [1] Application call (this method)

     *
     * @param params The params for the smart contract call
     * @returns The call transaction
     */
    escrowTradeAsFinancier: (params: CallParams<AtomicMarketplaceEscrowV4Args['obj']['escrowTradeAsFinancier(pay,uint64)bool'] | AtomicMarketplaceEscrowV4Args['tuple']['escrowTradeAsFinancier(pay,uint64)bool']> & {onComplete?: OnApplicationComplete.NoOpOC}) => {
      return this.appClient.createTransaction.call(AtomicMarketplaceEscrowV4ParamsFactory.escrowTradeAsFinancier(params))
    },

    /**
     * Makes a call to the AtomicMarketplaceEscrowV4 smart contract using the `escrowTradeAsFinancierWithAsset(axfer,uint64)bool` ABI method.
     *
    * Escrow trade as financier - third party locks funds (ASA)
    
    Group transaction structure:
    [0] AssetTransfer (financier to contract)
    [1] Application call (this method)

     *
     * @param params The params for the smart contract call
     * @returns The call transaction
     */
    escrowTradeAsFinancierWithAsset: (params: CallParams<AtomicMarketplaceEscrowV4Args['obj']['escrowTradeAsFinancierWithAsset(axfer,uint64)bool'] | AtomicMarketplaceEscrowV4Args['tuple']['escrowTradeAsFinancierWithAsset(axfer,uint64)bool']> & {onComplete?: OnApplicationComplete.NoOpOC}) => {
      return this.appClient.createTransaction.call(AtomicMarketplaceEscrowV4ParamsFactory.escrowTradeAsFinancierWithAsset(params))
    },

    /**
     * Makes a call to the AtomicMarketplaceEscrowV4 smart contract using the `executeTrade(axfer,pay,uint64,uint64,uint64,string,string,string,address)bool` ABI method.
     *
    * Execute trade - seller transfers RWA instrument and receives payment (ALGO)
    
    Group transaction structure:
    [0] Asset transfer (seller sends instrument NFT to buyer/marketplace)
    [1] Payment (regulator tax payment from seller)
    [2] Application call (this method - triggers internal payments)

     *
     * @param params The params for the smart contract call
     * @returns The call transaction
     */
    executeTrade: (params: CallParams<AtomicMarketplaceEscrowV4Args['obj']['executeTrade(axfer,pay,uint64,uint64,uint64,string,string,string,address)bool'] | AtomicMarketplaceEscrowV4Args['tuple']['executeTrade(axfer,pay,uint64,uint64,uint64,string,string,string,address)bool']> & {onComplete?: OnApplicationComplete.NoOpOC}) => {
      return this.appClient.createTransaction.call(AtomicMarketplaceEscrowV4ParamsFactory.executeTrade(params))
    },

    /**
     * Makes a call to the AtomicMarketplaceEscrowV4 smart contract using the `executeTradeWithAsset(axfer,axfer,uint64,uint64,uint64,string,string,string,address)bool` ABI method.
     *
    * Execute trade - seller transfers RWA instrument and receives payment (ASA)
    
    Group transaction structure:
    [0] Asset transfer (seller sends instrument NFT to buyer/marketplace)
    [1] AssetTransfer (regulator tax payment from seller)
    [2] Application call (this method - triggers internal payments)

     *
     * @param params The params for the smart contract call
     * @returns The call transaction
     */
    executeTradeWithAsset: (params: CallParams<AtomicMarketplaceEscrowV4Args['obj']['executeTradeWithAsset(axfer,axfer,uint64,uint64,uint64,string,string,string,address)bool'] | AtomicMarketplaceEscrowV4Args['tuple']['executeTradeWithAsset(axfer,axfer,uint64,uint64,uint64,string,string,string,address)bool']> & {onComplete?: OnApplicationComplete.NoOpOC}) => {
      return this.appClient.createTransaction.call(AtomicMarketplaceEscrowV4ParamsFactory.executeTradeWithAsset(params))
    },

    /**
     * Makes a call to the AtomicMarketplaceEscrowV4 smart contract using the `acknowledgePayment(pay,uint64)bool` ABI method.
     *
    * Acknowledge payment - seller confirms receipt and triggers regulator refund (ALGO)
    
    Group transaction structure:
    [0] Payment (regulator sends refund to seller)
    [1] Application call (this method)

     *
     * @param params The params for the smart contract call
     * @returns The call transaction
     */
    acknowledgePayment: (params: CallParams<AtomicMarketplaceEscrowV4Args['obj']['acknowledgePayment(pay,uint64)bool'] | AtomicMarketplaceEscrowV4Args['tuple']['acknowledgePayment(pay,uint64)bool']> & {onComplete?: OnApplicationComplete.NoOpOC}) => {
      return this.appClient.createTransaction.call(AtomicMarketplaceEscrowV4ParamsFactory.acknowledgePayment(params))
    },

    /**
     * Makes a call to the AtomicMarketplaceEscrowV4 smart contract using the `acknowledgePaymentWithAsset(axfer,uint64)bool` ABI method.
     *
    * Acknowledge payment - seller confirms receipt and triggers regulator refund (ASA)
    
    Group transaction structure:
    [0] AssetTransfer (regulator sends refund to seller)
    [1] Application call (this method)

     *
     * @param params The params for the smart contract call
     * @returns The call transaction
     */
    acknowledgePaymentWithAsset: (params: CallParams<AtomicMarketplaceEscrowV4Args['obj']['acknowledgePaymentWithAsset(axfer,uint64)bool'] | AtomicMarketplaceEscrowV4Args['tuple']['acknowledgePaymentWithAsset(axfer,uint64)bool']> & {onComplete?: OnApplicationComplete.NoOpOC}) => {
      return this.appClient.createTransaction.call(AtomicMarketplaceEscrowV4ParamsFactory.acknowledgePaymentWithAsset(params))
    },

    /**
     * Makes a call to the AtomicMarketplaceEscrowV4 smart contract using the `expireTrade(uint64)bool` ABI method.
     *
     * Expire trade - admin function to cancel and refund
     *
     * @param params The params for the smart contract call
     * @returns The call transaction
     */
    expireTrade: (params: CallParams<AtomicMarketplaceEscrowV4Args['obj']['expireTrade(uint64)bool'] | AtomicMarketplaceEscrowV4Args['tuple']['expireTrade(uint64)bool']> & {onComplete?: OnApplicationComplete.NoOpOC}) => {
      return this.appClient.createTransaction.call(AtomicMarketplaceEscrowV4ParamsFactory.expireTrade(params))
    },

    /**
     * Makes a call to the AtomicMarketplaceEscrowV4 smart contract using the `getTrade(uint64)(uint64,address,address,address,uint64,uint64,uint64,uint64,uint64,uint64,address,uint64,uint64,uint64)` ABI method.
     * 
     * This method is a readonly method; calling it with onComplete of NoOp will result in a simulated transaction rather than a real transaction.
     *
     * Get trade details
     *
     * @param params The params for the smart contract call
     * @returns The call transaction
     */
    getTrade: (params: CallParams<AtomicMarketplaceEscrowV4Args['obj']['getTrade(uint64)(uint64,address,address,address,uint64,uint64,uint64,uint64,uint64,uint64,address,uint64,uint64,uint64)'] | AtomicMarketplaceEscrowV4Args['tuple']['getTrade(uint64)(uint64,address,address,address,uint64,uint64,uint64,uint64,uint64,uint64,address,uint64,uint64,uint64)']> & {onComplete?: OnApplicationComplete.NoOpOC}) => {
      return this.appClient.createTransaction.call(AtomicMarketplaceEscrowV4ParamsFactory.getTrade(params))
    },

    /**
     * Makes a call to the AtomicMarketplaceEscrowV4 smart contract using the `getTradeMetadata(uint64)(string,string,string,string,string,string)` ABI method.
     * 
     * This method is a readonly method; calling it with onComplete of NoOp will result in a simulated transaction rather than a real transaction.
     *
     * Get trade metadata
     *
     * @param params The params for the smart contract call
     * @returns The call transaction
     */
    getTradeMetadata: (params: CallParams<AtomicMarketplaceEscrowV4Args['obj']['getTradeMetadata(uint64)(string,string,string,string,string,string)'] | AtomicMarketplaceEscrowV4Args['tuple']['getTradeMetadata(uint64)(string,string,string,string,string,string)']> & {onComplete?: OnApplicationComplete.NoOpOC}) => {
      return this.appClient.createTransaction.call(AtomicMarketplaceEscrowV4ParamsFactory.getTradeMetadata(params))
    },

    /**
     * Makes a call to the AtomicMarketplaceEscrowV4 smart contract using the `getTradesByBuyer(address)uint64[]` ABI method.
     * 
     * This method is a readonly method; calling it with onComplete of NoOp will result in a simulated transaction rather than a real transaction.
     *
     * Get trades by buyer
     *
     * @param params The params for the smart contract call
     * @returns The call transaction
     */
    getTradesByBuyer: (params: CallParams<AtomicMarketplaceEscrowV4Args['obj']['getTradesByBuyer(address)uint64[]'] | AtomicMarketplaceEscrowV4Args['tuple']['getTradesByBuyer(address)uint64[]']> & {onComplete?: OnApplicationComplete.NoOpOC}) => {
      return this.appClient.createTransaction.call(AtomicMarketplaceEscrowV4ParamsFactory.getTradesByBuyer(params))
    },

    /**
     * Makes a call to the AtomicMarketplaceEscrowV4 smart contract using the `getTradesBySeller(address)uint64[]` ABI method.
     * 
     * This method is a readonly method; calling it with onComplete of NoOp will result in a simulated transaction rather than a real transaction.
     *
     * Get trades by seller
     *
     * @param params The params for the smart contract call
     * @returns The call transaction
     */
    getTradesBySeller: (params: CallParams<AtomicMarketplaceEscrowV4Args['obj']['getTradesBySeller(address)uint64[]'] | AtomicMarketplaceEscrowV4Args['tuple']['getTradesBySeller(address)uint64[]']> & {onComplete?: OnApplicationComplete.NoOpOC}) => {
      return this.appClient.createTransaction.call(AtomicMarketplaceEscrowV4ParamsFactory.getTradesBySeller(params))
    },

    /**
     * Makes a call to the AtomicMarketplaceEscrowV4 smart contract using the `calculateEscrowCost(uint64)(uint64,uint64)` ABI method.
     * 
     * This method is a readonly method; calling it with onComplete of NoOp will result in a simulated transaction rather than a real transaction.
     *
     * Calculate escrow cost (amount + fee)
     *
     * @param params The params for the smart contract call
     * @returns The call transaction
     */
    calculateEscrowCost: (params: CallParams<AtomicMarketplaceEscrowV4Args['obj']['calculateEscrowCost(uint64)(uint64,uint64)'] | AtomicMarketplaceEscrowV4Args['tuple']['calculateEscrowCost(uint64)(uint64,uint64)']> & {onComplete?: OnApplicationComplete.NoOpOC}) => {
      return this.appClient.createTransaction.call(AtomicMarketplaceEscrowV4ParamsFactory.calculateEscrowCost(params))
    },

    /**
     * Makes a call to the AtomicMarketplaceEscrowV4 smart contract using the `calculateRegulatorCosts(uint64)(uint64,uint64)` ABI method.
     * 
     * This method is a readonly method; calling it with onComplete of NoOp will result in a simulated transaction rather than a real transaction.
     *
     * Calculate regulator costs
     *
     * @param params The params for the smart contract call
     * @returns The call transaction
     */
    calculateRegulatorCosts: (params: CallParams<AtomicMarketplaceEscrowV4Args['obj']['calculateRegulatorCosts(uint64)(uint64,uint64)'] | AtomicMarketplaceEscrowV4Args['tuple']['calculateRegulatorCosts(uint64)(uint64,uint64)']> & {onComplete?: OnApplicationComplete.NoOpOC}) => {
      return this.appClient.createTransaction.call(AtomicMarketplaceEscrowV4ParamsFactory.calculateRegulatorCosts(params))
    },

    /**
     * Makes a call to the AtomicMarketplaceEscrowV4 smart contract using the `getPaymentConfig()(uint64,bool)` ABI method.
     * 
     * This method is a readonly method; calling it with onComplete of NoOp will result in a simulated transaction rather than a real transaction.
     *
     * Get payment configuration for UI
     *
     * @param params The params for the smart contract call
     * @returns The call transaction
     */
    getPaymentConfig: (params: CallParams<AtomicMarketplaceEscrowV4Args['obj']['getPaymentConfig()(uint64,bool)'] | AtomicMarketplaceEscrowV4Args['tuple']['getPaymentConfig()(uint64,bool)']> & {onComplete?: OnApplicationComplete.NoOpOC} = {args: []}) => {
      return this.appClient.createTransaction.call(AtomicMarketplaceEscrowV4ParamsFactory.getPaymentConfig(params))
    },

  }

  /**
   * Send calls to the current app
   */
  readonly send = {
    /**
     * Makes a clear_state call to an existing instance of the AtomicMarketplaceEscrowV4 smart contract.
     *
     * @param params The params for the bare (raw) call
     * @returns The clearState result
     */
    clearState: (params?: Expand<AppClientBareCallParams & SendParams>) => {
      return this.appClient.send.bare.clearState(params)
    },

    /**
     * Makes a call to the AtomicMarketplaceEscrowV4 smart contract using the `initialize(uint64,address)bool` ABI method.
     *
     * Initialize marketplace escrow
     *
     * @param params The params for the smart contract call
     * @returns The call result
     */
    initialize: async (params: CallParams<AtomicMarketplaceEscrowV4Args['obj']['initialize(uint64,address)bool'] | AtomicMarketplaceEscrowV4Args['tuple']['initialize(uint64,address)bool']> & SendParams & {onComplete?: OnApplicationComplete.NoOpOC}) => {
      const result = await this.appClient.send.call(AtomicMarketplaceEscrowV4ParamsFactory.initialize(params))
      return {...result, return: result.return as unknown as (undefined | AtomicMarketplaceEscrowV4Returns['initialize(uint64,address)bool'])}
    },

    /**
     * Makes a call to the AtomicMarketplaceEscrowV4 smart contract using the `setSettlementCurrency(uint64)bool` ABI method.
     *
     * Update settlement currency (admin only)
     *
     * @param params The params for the smart contract call
     * @returns The call result
     */
    setSettlementCurrency: async (params: CallParams<AtomicMarketplaceEscrowV4Args['obj']['setSettlementCurrency(uint64)bool'] | AtomicMarketplaceEscrowV4Args['tuple']['setSettlementCurrency(uint64)bool']> & SendParams & {onComplete?: OnApplicationComplete.NoOpOC}) => {
      const result = await this.appClient.send.call(AtomicMarketplaceEscrowV4ParamsFactory.setSettlementCurrency(params))
      return {...result, return: result.return as unknown as (undefined | AtomicMarketplaceEscrowV4Returns['setSettlementCurrency(uint64)bool'])}
    },

    /**
     * Makes a call to the AtomicMarketplaceEscrowV4 smart contract using the `setRates(uint64,uint64,uint64)bool` ABI method.
     *
     * Update configurable rates (only creator)
     *
     * @param params The params for the smart contract call
     * @returns The call result
     */
    setRates: async (params: CallParams<AtomicMarketplaceEscrowV4Args['obj']['setRates(uint64,uint64,uint64)bool'] | AtomicMarketplaceEscrowV4Args['tuple']['setRates(uint64,uint64,uint64)bool']> & SendParams & {onComplete?: OnApplicationComplete.NoOpOC}) => {
      const result = await this.appClient.send.call(AtomicMarketplaceEscrowV4ParamsFactory.setRates(params))
      return {...result, return: result.return as unknown as (undefined | AtomicMarketplaceEscrowV4Returns['setRates(uint64,uint64,uint64)bool'])}
    },

    /**
     * Makes a call to the AtomicMarketplaceEscrowV4 smart contract using the `createTrade(address,uint64,string,string,string)uint64` ABI method.
     *
    * Create trade (buyer initiates)
    
    UI MUST divide instrument price by 100,000 before calling this

     *
     * @param params The params for the smart contract call
     * @returns The call result
     */
    createTrade: async (params: CallParams<AtomicMarketplaceEscrowV4Args['obj']['createTrade(address,uint64,string,string,string)uint64'] | AtomicMarketplaceEscrowV4Args['tuple']['createTrade(address,uint64,string,string,string)uint64']> & SendParams & {onComplete?: OnApplicationComplete.NoOpOC}) => {
      const result = await this.appClient.send.call(AtomicMarketplaceEscrowV4ParamsFactory.createTrade(params))
      return {...result, return: result.return as unknown as (undefined | AtomicMarketplaceEscrowV4Returns['createTrade(address,uint64,string,string,string)uint64'])}
    },

    /**
     * Makes a call to the AtomicMarketplaceEscrowV4 smart contract using the `escrowTrade(pay,uint64)bool` ABI method.
     *
    * Escrow trade - buyer locks funds (ALGO)
    
    Group transaction structure:
    [0] Payment (buyer to contract)
    [1] Application call (this method)

     *
     * @param params The params for the smart contract call
     * @returns The call result
     */
    escrowTrade: async (params: CallParams<AtomicMarketplaceEscrowV4Args['obj']['escrowTrade(pay,uint64)bool'] | AtomicMarketplaceEscrowV4Args['tuple']['escrowTrade(pay,uint64)bool']> & SendParams & {onComplete?: OnApplicationComplete.NoOpOC}) => {
      const result = await this.appClient.send.call(AtomicMarketplaceEscrowV4ParamsFactory.escrowTrade(params))
      return {...result, return: result.return as unknown as (undefined | AtomicMarketplaceEscrowV4Returns['escrowTrade(pay,uint64)bool'])}
    },

    /**
     * Makes a call to the AtomicMarketplaceEscrowV4 smart contract using the `escrowTradeWithAsset(axfer,uint64)bool` ABI method.
     *
    * Escrow trade - buyer locks funds (ASA)
    
    Group transaction structure:
    [0] AssetTransfer (buyer to contract)
    [1] Application call (this method)

     *
     * @param params The params for the smart contract call
     * @returns The call result
     */
    escrowTradeWithAsset: async (params: CallParams<AtomicMarketplaceEscrowV4Args['obj']['escrowTradeWithAsset(axfer,uint64)bool'] | AtomicMarketplaceEscrowV4Args['tuple']['escrowTradeWithAsset(axfer,uint64)bool']> & SendParams & {onComplete?: OnApplicationComplete.NoOpOC}) => {
      const result = await this.appClient.send.call(AtomicMarketplaceEscrowV4ParamsFactory.escrowTradeWithAsset(params))
      return {...result, return: result.return as unknown as (undefined | AtomicMarketplaceEscrowV4Returns['escrowTradeWithAsset(axfer,uint64)bool'])}
    },

    /**
     * Makes a call to the AtomicMarketplaceEscrowV4 smart contract using the `escrowTradeAsFinancier(pay,uint64)bool` ABI method.
     *
    * Escrow trade as financier - third party locks funds (ALGO)
    
    Group transaction structure:
    [0] Payment (financier to contract)
    [1] Application call (this method)

     *
     * @param params The params for the smart contract call
     * @returns The call result
     */
    escrowTradeAsFinancier: async (params: CallParams<AtomicMarketplaceEscrowV4Args['obj']['escrowTradeAsFinancier(pay,uint64)bool'] | AtomicMarketplaceEscrowV4Args['tuple']['escrowTradeAsFinancier(pay,uint64)bool']> & SendParams & {onComplete?: OnApplicationComplete.NoOpOC}) => {
      const result = await this.appClient.send.call(AtomicMarketplaceEscrowV4ParamsFactory.escrowTradeAsFinancier(params))
      return {...result, return: result.return as unknown as (undefined | AtomicMarketplaceEscrowV4Returns['escrowTradeAsFinancier(pay,uint64)bool'])}
    },

    /**
     * Makes a call to the AtomicMarketplaceEscrowV4 smart contract using the `escrowTradeAsFinancierWithAsset(axfer,uint64)bool` ABI method.
     *
    * Escrow trade as financier - third party locks funds (ASA)
    
    Group transaction structure:
    [0] AssetTransfer (financier to contract)
    [1] Application call (this method)

     *
     * @param params The params for the smart contract call
     * @returns The call result
     */
    escrowTradeAsFinancierWithAsset: async (params: CallParams<AtomicMarketplaceEscrowV4Args['obj']['escrowTradeAsFinancierWithAsset(axfer,uint64)bool'] | AtomicMarketplaceEscrowV4Args['tuple']['escrowTradeAsFinancierWithAsset(axfer,uint64)bool']> & SendParams & {onComplete?: OnApplicationComplete.NoOpOC}) => {
      const result = await this.appClient.send.call(AtomicMarketplaceEscrowV4ParamsFactory.escrowTradeAsFinancierWithAsset(params))
      return {...result, return: result.return as unknown as (undefined | AtomicMarketplaceEscrowV4Returns['escrowTradeAsFinancierWithAsset(axfer,uint64)bool'])}
    },

    /**
     * Makes a call to the AtomicMarketplaceEscrowV4 smart contract using the `executeTrade(axfer,pay,uint64,uint64,uint64,string,string,string,address)bool` ABI method.
     *
    * Execute trade - seller transfers RWA instrument and receives payment (ALGO)
    
    Group transaction structure:
    [0] Asset transfer (seller sends instrument NFT to buyer/marketplace)
    [1] Payment (regulator tax payment from seller)
    [2] Application call (this method - triggers internal payments)

     *
     * @param params The params for the smart contract call
     * @returns The call result
     */
    executeTrade: async (params: CallParams<AtomicMarketplaceEscrowV4Args['obj']['executeTrade(axfer,pay,uint64,uint64,uint64,string,string,string,address)bool'] | AtomicMarketplaceEscrowV4Args['tuple']['executeTrade(axfer,pay,uint64,uint64,uint64,string,string,string,address)bool']> & SendParams & {onComplete?: OnApplicationComplete.NoOpOC}) => {
      const result = await this.appClient.send.call(AtomicMarketplaceEscrowV4ParamsFactory.executeTrade(params))
      return {...result, return: result.return as unknown as (undefined | AtomicMarketplaceEscrowV4Returns['executeTrade(axfer,pay,uint64,uint64,uint64,string,string,string,address)bool'])}
    },

    /**
     * Makes a call to the AtomicMarketplaceEscrowV4 smart contract using the `executeTradeWithAsset(axfer,axfer,uint64,uint64,uint64,string,string,string,address)bool` ABI method.
     *
    * Execute trade - seller transfers RWA instrument and receives payment (ASA)
    
    Group transaction structure:
    [0] Asset transfer (seller sends instrument NFT to buyer/marketplace)
    [1] AssetTransfer (regulator tax payment from seller)
    [2] Application call (this method - triggers internal payments)

     *
     * @param params The params for the smart contract call
     * @returns The call result
     */
    executeTradeWithAsset: async (params: CallParams<AtomicMarketplaceEscrowV4Args['obj']['executeTradeWithAsset(axfer,axfer,uint64,uint64,uint64,string,string,string,address)bool'] | AtomicMarketplaceEscrowV4Args['tuple']['executeTradeWithAsset(axfer,axfer,uint64,uint64,uint64,string,string,string,address)bool']> & SendParams & {onComplete?: OnApplicationComplete.NoOpOC}) => {
      const result = await this.appClient.send.call(AtomicMarketplaceEscrowV4ParamsFactory.executeTradeWithAsset(params))
      return {...result, return: result.return as unknown as (undefined | AtomicMarketplaceEscrowV4Returns['executeTradeWithAsset(axfer,axfer,uint64,uint64,uint64,string,string,string,address)bool'])}
    },

    /**
     * Makes a call to the AtomicMarketplaceEscrowV4 smart contract using the `acknowledgePayment(pay,uint64)bool` ABI method.
     *
    * Acknowledge payment - seller confirms receipt and triggers regulator refund (ALGO)
    
    Group transaction structure:
    [0] Payment (regulator sends refund to seller)
    [1] Application call (this method)

     *
     * @param params The params for the smart contract call
     * @returns The call result
     */
    acknowledgePayment: async (params: CallParams<AtomicMarketplaceEscrowV4Args['obj']['acknowledgePayment(pay,uint64)bool'] | AtomicMarketplaceEscrowV4Args['tuple']['acknowledgePayment(pay,uint64)bool']> & SendParams & {onComplete?: OnApplicationComplete.NoOpOC}) => {
      const result = await this.appClient.send.call(AtomicMarketplaceEscrowV4ParamsFactory.acknowledgePayment(params))
      return {...result, return: result.return as unknown as (undefined | AtomicMarketplaceEscrowV4Returns['acknowledgePayment(pay,uint64)bool'])}
    },

    /**
     * Makes a call to the AtomicMarketplaceEscrowV4 smart contract using the `acknowledgePaymentWithAsset(axfer,uint64)bool` ABI method.
     *
    * Acknowledge payment - seller confirms receipt and triggers regulator refund (ASA)
    
    Group transaction structure:
    [0] AssetTransfer (regulator sends refund to seller)
    [1] Application call (this method)

     *
     * @param params The params for the smart contract call
     * @returns The call result
     */
    acknowledgePaymentWithAsset: async (params: CallParams<AtomicMarketplaceEscrowV4Args['obj']['acknowledgePaymentWithAsset(axfer,uint64)bool'] | AtomicMarketplaceEscrowV4Args['tuple']['acknowledgePaymentWithAsset(axfer,uint64)bool']> & SendParams & {onComplete?: OnApplicationComplete.NoOpOC}) => {
      const result = await this.appClient.send.call(AtomicMarketplaceEscrowV4ParamsFactory.acknowledgePaymentWithAsset(params))
      return {...result, return: result.return as unknown as (undefined | AtomicMarketplaceEscrowV4Returns['acknowledgePaymentWithAsset(axfer,uint64)bool'])}
    },

    /**
     * Makes a call to the AtomicMarketplaceEscrowV4 smart contract using the `expireTrade(uint64)bool` ABI method.
     *
     * Expire trade - admin function to cancel and refund
     *
     * @param params The params for the smart contract call
     * @returns The call result
     */
    expireTrade: async (params: CallParams<AtomicMarketplaceEscrowV4Args['obj']['expireTrade(uint64)bool'] | AtomicMarketplaceEscrowV4Args['tuple']['expireTrade(uint64)bool']> & SendParams & {onComplete?: OnApplicationComplete.NoOpOC}) => {
      const result = await this.appClient.send.call(AtomicMarketplaceEscrowV4ParamsFactory.expireTrade(params))
      return {...result, return: result.return as unknown as (undefined | AtomicMarketplaceEscrowV4Returns['expireTrade(uint64)bool'])}
    },

    /**
     * Makes a call to the AtomicMarketplaceEscrowV4 smart contract using the `getTrade(uint64)(uint64,address,address,address,uint64,uint64,uint64,uint64,uint64,uint64,address,uint64,uint64,uint64)` ABI method.
     * 
     * This method is a readonly method; calling it with onComplete of NoOp will result in a simulated transaction rather than a real transaction.
     *
     * Get trade details
     *
     * @param params The params for the smart contract call
     * @returns The call result
     */
    getTrade: async (params: CallParams<AtomicMarketplaceEscrowV4Args['obj']['getTrade(uint64)(uint64,address,address,address,uint64,uint64,uint64,uint64,uint64,uint64,address,uint64,uint64,uint64)'] | AtomicMarketplaceEscrowV4Args['tuple']['getTrade(uint64)(uint64,address,address,address,uint64,uint64,uint64,uint64,uint64,uint64,address,uint64,uint64,uint64)']> & SendParams & {onComplete?: OnApplicationComplete.NoOpOC}) => {
      const result = await this.appClient.send.call(AtomicMarketplaceEscrowV4ParamsFactory.getTrade(params))
      return {...result, return: result.return as unknown as (undefined | AtomicMarketplaceEscrowV4Returns['getTrade(uint64)(uint64,address,address,address,uint64,uint64,uint64,uint64,uint64,uint64,address,uint64,uint64,uint64)'])}
    },

    /**
     * Makes a call to the AtomicMarketplaceEscrowV4 smart contract using the `getTradeMetadata(uint64)(string,string,string,string,string,string)` ABI method.
     * 
     * This method is a readonly method; calling it with onComplete of NoOp will result in a simulated transaction rather than a real transaction.
     *
     * Get trade metadata
     *
     * @param params The params for the smart contract call
     * @returns The call result
     */
    getTradeMetadata: async (params: CallParams<AtomicMarketplaceEscrowV4Args['obj']['getTradeMetadata(uint64)(string,string,string,string,string,string)'] | AtomicMarketplaceEscrowV4Args['tuple']['getTradeMetadata(uint64)(string,string,string,string,string,string)']> & SendParams & {onComplete?: OnApplicationComplete.NoOpOC}) => {
      const result = await this.appClient.send.call(AtomicMarketplaceEscrowV4ParamsFactory.getTradeMetadata(params))
      return {...result, return: result.return as unknown as (undefined | AtomicMarketplaceEscrowV4Returns['getTradeMetadata(uint64)(string,string,string,string,string,string)'])}
    },

    /**
     * Makes a call to the AtomicMarketplaceEscrowV4 smart contract using the `getTradesByBuyer(address)uint64[]` ABI method.
     * 
     * This method is a readonly method; calling it with onComplete of NoOp will result in a simulated transaction rather than a real transaction.
     *
     * Get trades by buyer
     *
     * @param params The params for the smart contract call
     * @returns The call result
     */
    getTradesByBuyer: async (params: CallParams<AtomicMarketplaceEscrowV4Args['obj']['getTradesByBuyer(address)uint64[]'] | AtomicMarketplaceEscrowV4Args['tuple']['getTradesByBuyer(address)uint64[]']> & SendParams & {onComplete?: OnApplicationComplete.NoOpOC}) => {
      const result = await this.appClient.send.call(AtomicMarketplaceEscrowV4ParamsFactory.getTradesByBuyer(params))
      return {...result, return: result.return as unknown as (undefined | AtomicMarketplaceEscrowV4Returns['getTradesByBuyer(address)uint64[]'])}
    },

    /**
     * Makes a call to the AtomicMarketplaceEscrowV4 smart contract using the `getTradesBySeller(address)uint64[]` ABI method.
     * 
     * This method is a readonly method; calling it with onComplete of NoOp will result in a simulated transaction rather than a real transaction.
     *
     * Get trades by seller
     *
     * @param params The params for the smart contract call
     * @returns The call result
     */
    getTradesBySeller: async (params: CallParams<AtomicMarketplaceEscrowV4Args['obj']['getTradesBySeller(address)uint64[]'] | AtomicMarketplaceEscrowV4Args['tuple']['getTradesBySeller(address)uint64[]']> & SendParams & {onComplete?: OnApplicationComplete.NoOpOC}) => {
      const result = await this.appClient.send.call(AtomicMarketplaceEscrowV4ParamsFactory.getTradesBySeller(params))
      return {...result, return: result.return as unknown as (undefined | AtomicMarketplaceEscrowV4Returns['getTradesBySeller(address)uint64[]'])}
    },

    /**
     * Makes a call to the AtomicMarketplaceEscrowV4 smart contract using the `calculateEscrowCost(uint64)(uint64,uint64)` ABI method.
     * 
     * This method is a readonly method; calling it with onComplete of NoOp will result in a simulated transaction rather than a real transaction.
     *
     * Calculate escrow cost (amount + fee)
     *
     * @param params The params for the smart contract call
     * @returns The call result
     */
    calculateEscrowCost: async (params: CallParams<AtomicMarketplaceEscrowV4Args['obj']['calculateEscrowCost(uint64)(uint64,uint64)'] | AtomicMarketplaceEscrowV4Args['tuple']['calculateEscrowCost(uint64)(uint64,uint64)']> & SendParams & {onComplete?: OnApplicationComplete.NoOpOC}) => {
      const result = await this.appClient.send.call(AtomicMarketplaceEscrowV4ParamsFactory.calculateEscrowCost(params))
      return {...result, return: result.return as unknown as (undefined | AtomicMarketplaceEscrowV4Returns['calculateEscrowCost(uint64)(uint64,uint64)'])}
    },

    /**
     * Makes a call to the AtomicMarketplaceEscrowV4 smart contract using the `calculateRegulatorCosts(uint64)(uint64,uint64)` ABI method.
     * 
     * This method is a readonly method; calling it with onComplete of NoOp will result in a simulated transaction rather than a real transaction.
     *
     * Calculate regulator costs
     *
     * @param params The params for the smart contract call
     * @returns The call result
     */
    calculateRegulatorCosts: async (params: CallParams<AtomicMarketplaceEscrowV4Args['obj']['calculateRegulatorCosts(uint64)(uint64,uint64)'] | AtomicMarketplaceEscrowV4Args['tuple']['calculateRegulatorCosts(uint64)(uint64,uint64)']> & SendParams & {onComplete?: OnApplicationComplete.NoOpOC}) => {
      const result = await this.appClient.send.call(AtomicMarketplaceEscrowV4ParamsFactory.calculateRegulatorCosts(params))
      return {...result, return: result.return as unknown as (undefined | AtomicMarketplaceEscrowV4Returns['calculateRegulatorCosts(uint64)(uint64,uint64)'])}
    },

    /**
     * Makes a call to the AtomicMarketplaceEscrowV4 smart contract using the `getPaymentConfig()(uint64,bool)` ABI method.
     * 
     * This method is a readonly method; calling it with onComplete of NoOp will result in a simulated transaction rather than a real transaction.
     *
     * Get payment configuration for UI
     *
     * @param params The params for the smart contract call
     * @returns The call result
     */
    getPaymentConfig: async (params: CallParams<AtomicMarketplaceEscrowV4Args['obj']['getPaymentConfig()(uint64,bool)'] | AtomicMarketplaceEscrowV4Args['tuple']['getPaymentConfig()(uint64,bool)']> & SendParams & {onComplete?: OnApplicationComplete.NoOpOC} = {args: []}) => {
      const result = await this.appClient.send.call(AtomicMarketplaceEscrowV4ParamsFactory.getPaymentConfig(params))
      return {...result, return: result.return as unknown as (undefined | AtomicMarketplaceEscrowV4Returns['getPaymentConfig()(uint64,bool)'])}
    },

  }

  /**
   * Clone this app client with different params
   *
   * @param params The params to use for the the cloned app client. Omit a param to keep the original value. Set a param to override the original value. Setting to undefined will clear the original value.
   * @returns A new app client with the altered params
   */
  public clone(params: CloneAppClientParams) {
    return new AtomicMarketplaceEscrowV4Client(this.appClient.clone(params))
  }

  /**
   * Makes a readonly (simulated) call to the AtomicMarketplaceEscrowV4 smart contract using the `getTrade(uint64)(uint64,address,address,address,uint64,uint64,uint64,uint64,uint64,uint64,address,uint64,uint64,uint64)` ABI method.
   * 
   * This method is a readonly method; calling it with onComplete of NoOp will result in a simulated transaction rather than a real transaction.
   *
   * Get trade details
   *
   * @param params The params for the smart contract call
   * @returns The call result
   */
  async getTrade(params: CallParams<AtomicMarketplaceEscrowV4Args['obj']['getTrade(uint64)(uint64,address,address,address,uint64,uint64,uint64,uint64,uint64,uint64,address,uint64,uint64,uint64)'] | AtomicMarketplaceEscrowV4Args['tuple']['getTrade(uint64)(uint64,address,address,address,uint64,uint64,uint64,uint64,uint64,uint64,address,uint64,uint64,uint64)']>) {
    const result = await this.appClient.send.call(AtomicMarketplaceEscrowV4ParamsFactory.getTrade(params))
    return result.return as unknown as AtomicMarketplaceEscrowV4Returns['getTrade(uint64)(uint64,address,address,address,uint64,uint64,uint64,uint64,uint64,uint64,address,uint64,uint64,uint64)']
  }

  /**
   * Makes a readonly (simulated) call to the AtomicMarketplaceEscrowV4 smart contract using the `getTradeMetadata(uint64)(string,string,string,string,string,string)` ABI method.
   * 
   * This method is a readonly method; calling it with onComplete of NoOp will result in a simulated transaction rather than a real transaction.
   *
   * Get trade metadata
   *
   * @param params The params for the smart contract call
   * @returns The call result
   */
  async getTradeMetadata(params: CallParams<AtomicMarketplaceEscrowV4Args['obj']['getTradeMetadata(uint64)(string,string,string,string,string,string)'] | AtomicMarketplaceEscrowV4Args['tuple']['getTradeMetadata(uint64)(string,string,string,string,string,string)']>) {
    const result = await this.appClient.send.call(AtomicMarketplaceEscrowV4ParamsFactory.getTradeMetadata(params))
    return result.return as unknown as AtomicMarketplaceEscrowV4Returns['getTradeMetadata(uint64)(string,string,string,string,string,string)']
  }

  /**
   * Makes a readonly (simulated) call to the AtomicMarketplaceEscrowV4 smart contract using the `getTradesByBuyer(address)uint64[]` ABI method.
   * 
   * This method is a readonly method; calling it with onComplete of NoOp will result in a simulated transaction rather than a real transaction.
   *
   * Get trades by buyer
   *
   * @param params The params for the smart contract call
   * @returns The call result
   */
  async getTradesByBuyer(params: CallParams<AtomicMarketplaceEscrowV4Args['obj']['getTradesByBuyer(address)uint64[]'] | AtomicMarketplaceEscrowV4Args['tuple']['getTradesByBuyer(address)uint64[]']>) {
    const result = await this.appClient.send.call(AtomicMarketplaceEscrowV4ParamsFactory.getTradesByBuyer(params))
    return result.return as unknown as AtomicMarketplaceEscrowV4Returns['getTradesByBuyer(address)uint64[]']
  }

  /**
   * Makes a readonly (simulated) call to the AtomicMarketplaceEscrowV4 smart contract using the `getTradesBySeller(address)uint64[]` ABI method.
   * 
   * This method is a readonly method; calling it with onComplete of NoOp will result in a simulated transaction rather than a real transaction.
   *
   * Get trades by seller
   *
   * @param params The params for the smart contract call
   * @returns The call result
   */
  async getTradesBySeller(params: CallParams<AtomicMarketplaceEscrowV4Args['obj']['getTradesBySeller(address)uint64[]'] | AtomicMarketplaceEscrowV4Args['tuple']['getTradesBySeller(address)uint64[]']>) {
    const result = await this.appClient.send.call(AtomicMarketplaceEscrowV4ParamsFactory.getTradesBySeller(params))
    return result.return as unknown as AtomicMarketplaceEscrowV4Returns['getTradesBySeller(address)uint64[]']
  }

  /**
   * Makes a readonly (simulated) call to the AtomicMarketplaceEscrowV4 smart contract using the `calculateEscrowCost(uint64)(uint64,uint64)` ABI method.
   * 
   * This method is a readonly method; calling it with onComplete of NoOp will result in a simulated transaction rather than a real transaction.
   *
   * Calculate escrow cost (amount + fee)
   *
   * @param params The params for the smart contract call
   * @returns The call result
   */
  async calculateEscrowCost(params: CallParams<AtomicMarketplaceEscrowV4Args['obj']['calculateEscrowCost(uint64)(uint64,uint64)'] | AtomicMarketplaceEscrowV4Args['tuple']['calculateEscrowCost(uint64)(uint64,uint64)']>) {
    const result = await this.appClient.send.call(AtomicMarketplaceEscrowV4ParamsFactory.calculateEscrowCost(params))
    return result.return as unknown as AtomicMarketplaceEscrowV4Returns['calculateEscrowCost(uint64)(uint64,uint64)']
  }

  /**
   * Makes a readonly (simulated) call to the AtomicMarketplaceEscrowV4 smart contract using the `calculateRegulatorCosts(uint64)(uint64,uint64)` ABI method.
   * 
   * This method is a readonly method; calling it with onComplete of NoOp will result in a simulated transaction rather than a real transaction.
   *
   * Calculate regulator costs
   *
   * @param params The params for the smart contract call
   * @returns The call result
   */
  async calculateRegulatorCosts(params: CallParams<AtomicMarketplaceEscrowV4Args['obj']['calculateRegulatorCosts(uint64)(uint64,uint64)'] | AtomicMarketplaceEscrowV4Args['tuple']['calculateRegulatorCosts(uint64)(uint64,uint64)']>) {
    const result = await this.appClient.send.call(AtomicMarketplaceEscrowV4ParamsFactory.calculateRegulatorCosts(params))
    return result.return as unknown as AtomicMarketplaceEscrowV4Returns['calculateRegulatorCosts(uint64)(uint64,uint64)']
  }

  /**
   * Makes a readonly (simulated) call to the AtomicMarketplaceEscrowV4 smart contract using the `getPaymentConfig()(uint64,bool)` ABI method.
   * 
   * This method is a readonly method; calling it with onComplete of NoOp will result in a simulated transaction rather than a real transaction.
   *
   * Get payment configuration for UI
   *
   * @param params The params for the smart contract call
   * @returns The call result
   */
  async getPaymentConfig(params: CallParams<AtomicMarketplaceEscrowV4Args['obj']['getPaymentConfig()(uint64,bool)'] | AtomicMarketplaceEscrowV4Args['tuple']['getPaymentConfig()(uint64,bool)']> = {args: []}) {
    const result = await this.appClient.send.call(AtomicMarketplaceEscrowV4ParamsFactory.getPaymentConfig(params))
    return result.return as unknown as AtomicMarketplaceEscrowV4Returns['getPaymentConfig()(uint64,bool)']
  }

  /**
   * Methods to access state for the current AtomicMarketplaceEscrowV4 app
   */
  state = {
    /**
     * Methods to access global state for the current AtomicMarketplaceEscrowV4 app
     */
    global: {
      /**
       * Get all current keyed values from global state
       */
      getAll: async (): Promise<Partial<Expand<GlobalKeysState>>> => {
        const result = await this.appClient.state.global.getAll()
        return {
          nextTradeId: result.nextTradeId,
          platformTreasury: new BinaryStateValue(result.platformTreasury),
          settlementCurrency: result.settlementCurrency,
          regulatorTaxRate: result.regulatorTaxRate,
          regulatorRefundRate: result.regulatorRefundRate,
          marketplaceFeeRate: result.marketplaceFeeRate,
        }
      },
      /**
       * Get the current value of the nextTradeId key in global state
       */
      nextTradeId: async (): Promise<bigint | undefined> => { return (await this.appClient.state.global.getValue("nextTradeId")) as bigint | undefined },
      /**
       * Get the current value of the platformTreasury key in global state
       */
      platformTreasury: async (): Promise<BinaryState> => { return new BinaryStateValue((await this.appClient.state.global.getValue("platformTreasury")) as Uint8Array | undefined) },
      /**
       * Get the current value of the settlementCurrency key in global state
       */
      settlementCurrency: async (): Promise<bigint | undefined> => { return (await this.appClient.state.global.getValue("settlementCurrency")) as bigint | undefined },
      /**
       * Get the current value of the regulatorTaxRate key in global state
       */
      regulatorTaxRate: async (): Promise<bigint | undefined> => { return (await this.appClient.state.global.getValue("regulatorTaxRate")) as bigint | undefined },
      /**
       * Get the current value of the regulatorRefundRate key in global state
       */
      regulatorRefundRate: async (): Promise<bigint | undefined> => { return (await this.appClient.state.global.getValue("regulatorRefundRate")) as bigint | undefined },
      /**
       * Get the current value of the marketplaceFeeRate key in global state
       */
      marketplaceFeeRate: async (): Promise<bigint | undefined> => { return (await this.appClient.state.global.getValue("marketplaceFeeRate")) as bigint | undefined },
    },
    /**
     * Methods to access box state for the current AtomicMarketplaceEscrowV4 app
     */
    box: {
      /**
       * Get all current keyed values from box state
       */
      getAll: async (): Promise<Partial<Expand<BoxKeysState>>> => {
        const result = await this.appClient.state.box.getAll()
        return {
        }
      },
      /**
       * Get values from the trades map in box state
       */
      trades: {
        /**
         * Get all current values of the trades map in box state
         */
        getMap: async (): Promise<Map<bigint, TradeEscrow>> => { return (await this.appClient.state.box.getMap("trades")) as Map<bigint, TradeEscrow> },
        /**
         * Get a current value of the trades map by key from box state
         */
        value: async (key: bigint | number): Promise<TradeEscrow | undefined> => { return await this.appClient.state.box.getMapValue("trades", key) as TradeEscrow | undefined },
      },
      /**
       * Get values from the metadata map in box state
       */
      metadata: {
        /**
         * Get all current values of the metadata map in box state
         */
        getMap: async (): Promise<Map<bigint, TradeMetadata>> => { return (await this.appClient.state.box.getMap("metadata")) as Map<bigint, TradeMetadata> },
        /**
         * Get a current value of the metadata map by key from box state
         */
        value: async (key: bigint | number): Promise<TradeMetadata | undefined> => { return await this.appClient.state.box.getMapValue("metadata", key) as TradeMetadata | undefined },
      },
      /**
       * Get values from the buyerTrades map in box state
       */
      buyerTrades: {
        /**
         * Get all current values of the buyerTrades map in box state
         */
        getMap: async (): Promise<Map<string, bigint[]>> => { return (await this.appClient.state.box.getMap("buyerTrades")) as Map<string, bigint[]> },
        /**
         * Get a current value of the buyerTrades map by key from box state
         */
        value: async (key: string): Promise<bigint[] | undefined> => { return await this.appClient.state.box.getMapValue("buyerTrades", key) as bigint[] | undefined },
      },
      /**
       * Get values from the sellerTrades map in box state
       */
      sellerTrades: {
        /**
         * Get all current values of the sellerTrades map in box state
         */
        getMap: async (): Promise<Map<string, bigint[]>> => { return (await this.appClient.state.box.getMap("sellerTrades")) as Map<string, bigint[]> },
        /**
         * Get a current value of the sellerTrades map by key from box state
         */
        value: async (key: string): Promise<bigint[] | undefined> => { return await this.appClient.state.box.getMapValue("sellerTrades", key) as bigint[] | undefined },
      },
    },
  }

  public newGroup(): AtomicMarketplaceEscrowV4Composer {
    const client = this
    const composer = this.algorand.newGroup()
    let promiseChain:Promise<unknown> = Promise.resolve()
    const resultMappers: Array<undefined | ((x: ABIReturn | undefined) => any)> = []
    return {
      /**
       * Add a initialize(uint64,address)bool method call against the AtomicMarketplaceEscrowV4 contract
       */
      initialize(params: CallParams<AtomicMarketplaceEscrowV4Args['obj']['initialize(uint64,address)bool'] | AtomicMarketplaceEscrowV4Args['tuple']['initialize(uint64,address)bool']> & {onComplete?: OnApplicationComplete.NoOpOC}) {
        promiseChain = promiseChain.then(async () => composer.addAppCallMethodCall(await client.params.initialize(params)))
        resultMappers.push((v) => client.decodeReturnValue('initialize(uint64,address)bool', v))
        return this
      },
      /**
       * Add a setSettlementCurrency(uint64)bool method call against the AtomicMarketplaceEscrowV4 contract
       */
      setSettlementCurrency(params: CallParams<AtomicMarketplaceEscrowV4Args['obj']['setSettlementCurrency(uint64)bool'] | AtomicMarketplaceEscrowV4Args['tuple']['setSettlementCurrency(uint64)bool']> & {onComplete?: OnApplicationComplete.NoOpOC}) {
        promiseChain = promiseChain.then(async () => composer.addAppCallMethodCall(await client.params.setSettlementCurrency(params)))
        resultMappers.push((v) => client.decodeReturnValue('setSettlementCurrency(uint64)bool', v))
        return this
      },
      /**
       * Add a setRates(uint64,uint64,uint64)bool method call against the AtomicMarketplaceEscrowV4 contract
       */
      setRates(params: CallParams<AtomicMarketplaceEscrowV4Args['obj']['setRates(uint64,uint64,uint64)bool'] | AtomicMarketplaceEscrowV4Args['tuple']['setRates(uint64,uint64,uint64)bool']> & {onComplete?: OnApplicationComplete.NoOpOC}) {
        promiseChain = promiseChain.then(async () => composer.addAppCallMethodCall(await client.params.setRates(params)))
        resultMappers.push((v) => client.decodeReturnValue('setRates(uint64,uint64,uint64)bool', v))
        return this
      },
      /**
       * Add a createTrade(address,uint64,string,string,string)uint64 method call against the AtomicMarketplaceEscrowV4 contract
       */
      createTrade(params: CallParams<AtomicMarketplaceEscrowV4Args['obj']['createTrade(address,uint64,string,string,string)uint64'] | AtomicMarketplaceEscrowV4Args['tuple']['createTrade(address,uint64,string,string,string)uint64']> & {onComplete?: OnApplicationComplete.NoOpOC}) {
        promiseChain = promiseChain.then(async () => composer.addAppCallMethodCall(await client.params.createTrade(params)))
        resultMappers.push((v) => client.decodeReturnValue('createTrade(address,uint64,string,string,string)uint64', v))
        return this
      },
      /**
       * Add a escrowTrade(pay,uint64)bool method call against the AtomicMarketplaceEscrowV4 contract
       */
      escrowTrade(params: CallParams<AtomicMarketplaceEscrowV4Args['obj']['escrowTrade(pay,uint64)bool'] | AtomicMarketplaceEscrowV4Args['tuple']['escrowTrade(pay,uint64)bool']> & {onComplete?: OnApplicationComplete.NoOpOC}) {
        promiseChain = promiseChain.then(async () => composer.addAppCallMethodCall(await client.params.escrowTrade(params)))
        resultMappers.push((v) => client.decodeReturnValue('escrowTrade(pay,uint64)bool', v))
        return this
      },
      /**
       * Add a escrowTradeWithAsset(axfer,uint64)bool method call against the AtomicMarketplaceEscrowV4 contract
       */
      escrowTradeWithAsset(params: CallParams<AtomicMarketplaceEscrowV4Args['obj']['escrowTradeWithAsset(axfer,uint64)bool'] | AtomicMarketplaceEscrowV4Args['tuple']['escrowTradeWithAsset(axfer,uint64)bool']> & {onComplete?: OnApplicationComplete.NoOpOC}) {
        promiseChain = promiseChain.then(async () => composer.addAppCallMethodCall(await client.params.escrowTradeWithAsset(params)))
        resultMappers.push((v) => client.decodeReturnValue('escrowTradeWithAsset(axfer,uint64)bool', v))
        return this
      },
      /**
       * Add a escrowTradeAsFinancier(pay,uint64)bool method call against the AtomicMarketplaceEscrowV4 contract
       */
      escrowTradeAsFinancier(params: CallParams<AtomicMarketplaceEscrowV4Args['obj']['escrowTradeAsFinancier(pay,uint64)bool'] | AtomicMarketplaceEscrowV4Args['tuple']['escrowTradeAsFinancier(pay,uint64)bool']> & {onComplete?: OnApplicationComplete.NoOpOC}) {
        promiseChain = promiseChain.then(async () => composer.addAppCallMethodCall(await client.params.escrowTradeAsFinancier(params)))
        resultMappers.push((v) => client.decodeReturnValue('escrowTradeAsFinancier(pay,uint64)bool', v))
        return this
      },
      /**
       * Add a escrowTradeAsFinancierWithAsset(axfer,uint64)bool method call against the AtomicMarketplaceEscrowV4 contract
       */
      escrowTradeAsFinancierWithAsset(params: CallParams<AtomicMarketplaceEscrowV4Args['obj']['escrowTradeAsFinancierWithAsset(axfer,uint64)bool'] | AtomicMarketplaceEscrowV4Args['tuple']['escrowTradeAsFinancierWithAsset(axfer,uint64)bool']> & {onComplete?: OnApplicationComplete.NoOpOC}) {
        promiseChain = promiseChain.then(async () => composer.addAppCallMethodCall(await client.params.escrowTradeAsFinancierWithAsset(params)))
        resultMappers.push((v) => client.decodeReturnValue('escrowTradeAsFinancierWithAsset(axfer,uint64)bool', v))
        return this
      },
      /**
       * Add a executeTrade(axfer,pay,uint64,uint64,uint64,string,string,string,address)bool method call against the AtomicMarketplaceEscrowV4 contract
       */
      executeTrade(params: CallParams<AtomicMarketplaceEscrowV4Args['obj']['executeTrade(axfer,pay,uint64,uint64,uint64,string,string,string,address)bool'] | AtomicMarketplaceEscrowV4Args['tuple']['executeTrade(axfer,pay,uint64,uint64,uint64,string,string,string,address)bool']> & {onComplete?: OnApplicationComplete.NoOpOC}) {
        promiseChain = promiseChain.then(async () => composer.addAppCallMethodCall(await client.params.executeTrade(params)))
        resultMappers.push((v) => client.decodeReturnValue('executeTrade(axfer,pay,uint64,uint64,uint64,string,string,string,address)bool', v))
        return this
      },
      /**
       * Add a executeTradeWithAsset(axfer,axfer,uint64,uint64,uint64,string,string,string,address)bool method call against the AtomicMarketplaceEscrowV4 contract
       */
      executeTradeWithAsset(params: CallParams<AtomicMarketplaceEscrowV4Args['obj']['executeTradeWithAsset(axfer,axfer,uint64,uint64,uint64,string,string,string,address)bool'] | AtomicMarketplaceEscrowV4Args['tuple']['executeTradeWithAsset(axfer,axfer,uint64,uint64,uint64,string,string,string,address)bool']> & {onComplete?: OnApplicationComplete.NoOpOC}) {
        promiseChain = promiseChain.then(async () => composer.addAppCallMethodCall(await client.params.executeTradeWithAsset(params)))
        resultMappers.push((v) => client.decodeReturnValue('executeTradeWithAsset(axfer,axfer,uint64,uint64,uint64,string,string,string,address)bool', v))
        return this
      },
      /**
       * Add a acknowledgePayment(pay,uint64)bool method call against the AtomicMarketplaceEscrowV4 contract
       */
      acknowledgePayment(params: CallParams<AtomicMarketplaceEscrowV4Args['obj']['acknowledgePayment(pay,uint64)bool'] | AtomicMarketplaceEscrowV4Args['tuple']['acknowledgePayment(pay,uint64)bool']> & {onComplete?: OnApplicationComplete.NoOpOC}) {
        promiseChain = promiseChain.then(async () => composer.addAppCallMethodCall(await client.params.acknowledgePayment(params)))
        resultMappers.push((v) => client.decodeReturnValue('acknowledgePayment(pay,uint64)bool', v))
        return this
      },
      /**
       * Add a acknowledgePaymentWithAsset(axfer,uint64)bool method call against the AtomicMarketplaceEscrowV4 contract
       */
      acknowledgePaymentWithAsset(params: CallParams<AtomicMarketplaceEscrowV4Args['obj']['acknowledgePaymentWithAsset(axfer,uint64)bool'] | AtomicMarketplaceEscrowV4Args['tuple']['acknowledgePaymentWithAsset(axfer,uint64)bool']> & {onComplete?: OnApplicationComplete.NoOpOC}) {
        promiseChain = promiseChain.then(async () => composer.addAppCallMethodCall(await client.params.acknowledgePaymentWithAsset(params)))
        resultMappers.push((v) => client.decodeReturnValue('acknowledgePaymentWithAsset(axfer,uint64)bool', v))
        return this
      },
      /**
       * Add a expireTrade(uint64)bool method call against the AtomicMarketplaceEscrowV4 contract
       */
      expireTrade(params: CallParams<AtomicMarketplaceEscrowV4Args['obj']['expireTrade(uint64)bool'] | AtomicMarketplaceEscrowV4Args['tuple']['expireTrade(uint64)bool']> & {onComplete?: OnApplicationComplete.NoOpOC}) {
        promiseChain = promiseChain.then(async () => composer.addAppCallMethodCall(await client.params.expireTrade(params)))
        resultMappers.push((v) => client.decodeReturnValue('expireTrade(uint64)bool', v))
        return this
      },
      /**
       * Add a getTrade(uint64)(uint64,address,address,address,uint64,uint64,uint64,uint64,uint64,uint64,address,uint64,uint64,uint64) method call against the AtomicMarketplaceEscrowV4 contract
       */
      getTrade(params: CallParams<AtomicMarketplaceEscrowV4Args['obj']['getTrade(uint64)(uint64,address,address,address,uint64,uint64,uint64,uint64,uint64,uint64,address,uint64,uint64,uint64)'] | AtomicMarketplaceEscrowV4Args['tuple']['getTrade(uint64)(uint64,address,address,address,uint64,uint64,uint64,uint64,uint64,uint64,address,uint64,uint64,uint64)']> & {onComplete?: OnApplicationComplete.NoOpOC}) {
        promiseChain = promiseChain.then(async () => composer.addAppCallMethodCall(await client.params.getTrade(params)))
        resultMappers.push((v) => client.decodeReturnValue('getTrade(uint64)(uint64,address,address,address,uint64,uint64,uint64,uint64,uint64,uint64,address,uint64,uint64,uint64)', v))
        return this
      },
      /**
       * Add a getTradeMetadata(uint64)(string,string,string,string,string,string) method call against the AtomicMarketplaceEscrowV4 contract
       */
      getTradeMetadata(params: CallParams<AtomicMarketplaceEscrowV4Args['obj']['getTradeMetadata(uint64)(string,string,string,string,string,string)'] | AtomicMarketplaceEscrowV4Args['tuple']['getTradeMetadata(uint64)(string,string,string,string,string,string)']> & {onComplete?: OnApplicationComplete.NoOpOC}) {
        promiseChain = promiseChain.then(async () => composer.addAppCallMethodCall(await client.params.getTradeMetadata(params)))
        resultMappers.push((v) => client.decodeReturnValue('getTradeMetadata(uint64)(string,string,string,string,string,string)', v))
        return this
      },
      /**
       * Add a getTradesByBuyer(address)uint64[] method call against the AtomicMarketplaceEscrowV4 contract
       */
      getTradesByBuyer(params: CallParams<AtomicMarketplaceEscrowV4Args['obj']['getTradesByBuyer(address)uint64[]'] | AtomicMarketplaceEscrowV4Args['tuple']['getTradesByBuyer(address)uint64[]']> & {onComplete?: OnApplicationComplete.NoOpOC}) {
        promiseChain = promiseChain.then(async () => composer.addAppCallMethodCall(await client.params.getTradesByBuyer(params)))
        resultMappers.push((v) => client.decodeReturnValue('getTradesByBuyer(address)uint64[]', v))
        return this
      },
      /**
       * Add a getTradesBySeller(address)uint64[] method call against the AtomicMarketplaceEscrowV4 contract
       */
      getTradesBySeller(params: CallParams<AtomicMarketplaceEscrowV4Args['obj']['getTradesBySeller(address)uint64[]'] | AtomicMarketplaceEscrowV4Args['tuple']['getTradesBySeller(address)uint64[]']> & {onComplete?: OnApplicationComplete.NoOpOC}) {
        promiseChain = promiseChain.then(async () => composer.addAppCallMethodCall(await client.params.getTradesBySeller(params)))
        resultMappers.push((v) => client.decodeReturnValue('getTradesBySeller(address)uint64[]', v))
        return this
      },
      /**
       * Add a calculateEscrowCost(uint64)(uint64,uint64) method call against the AtomicMarketplaceEscrowV4 contract
       */
      calculateEscrowCost(params: CallParams<AtomicMarketplaceEscrowV4Args['obj']['calculateEscrowCost(uint64)(uint64,uint64)'] | AtomicMarketplaceEscrowV4Args['tuple']['calculateEscrowCost(uint64)(uint64,uint64)']> & {onComplete?: OnApplicationComplete.NoOpOC}) {
        promiseChain = promiseChain.then(async () => composer.addAppCallMethodCall(await client.params.calculateEscrowCost(params)))
        resultMappers.push((v) => client.decodeReturnValue('calculateEscrowCost(uint64)(uint64,uint64)', v))
        return this
      },
      /**
       * Add a calculateRegulatorCosts(uint64)(uint64,uint64) method call against the AtomicMarketplaceEscrowV4 contract
       */
      calculateRegulatorCosts(params: CallParams<AtomicMarketplaceEscrowV4Args['obj']['calculateRegulatorCosts(uint64)(uint64,uint64)'] | AtomicMarketplaceEscrowV4Args['tuple']['calculateRegulatorCosts(uint64)(uint64,uint64)']> & {onComplete?: OnApplicationComplete.NoOpOC}) {
        promiseChain = promiseChain.then(async () => composer.addAppCallMethodCall(await client.params.calculateRegulatorCosts(params)))
        resultMappers.push((v) => client.decodeReturnValue('calculateRegulatorCosts(uint64)(uint64,uint64)', v))
        return this
      },
      /**
       * Add a getPaymentConfig()(uint64,bool) method call against the AtomicMarketplaceEscrowV4 contract
       */
      getPaymentConfig(params: CallParams<AtomicMarketplaceEscrowV4Args['obj']['getPaymentConfig()(uint64,bool)'] | AtomicMarketplaceEscrowV4Args['tuple']['getPaymentConfig()(uint64,bool)']> & {onComplete?: OnApplicationComplete.NoOpOC}) {
        promiseChain = promiseChain.then(async () => composer.addAppCallMethodCall(await client.params.getPaymentConfig(params)))
        resultMappers.push((v) => client.decodeReturnValue('getPaymentConfig()(uint64,bool)', v))
        return this
      },
      /**
       * Add a clear state call to the AtomicMarketplaceEscrowV4 contract
       */
      clearState(params: AppClientBareCallParams) {
        promiseChain = promiseChain.then(() => composer.addAppCall(client.params.clearState(params)))
        return this
      },
      addTransaction(txn: Transaction, signer?: TransactionSigner) {
        promiseChain = promiseChain.then(() => composer.addTransaction(txn, signer))
        return this
      },
      async composer() {
        await promiseChain
        return composer
      },
      async simulate(options?: SimulateOptions) {
        await promiseChain
        const result = await (!options ? composer.simulate() : composer.simulate(options))
        return {
          ...result,
          returns: result.returns?.map((val, i) => resultMappers[i] !== undefined ? resultMappers[i]!(val) : val.returnValue)
        }
      },
      async send(params?: SendParams) {
        await promiseChain
        const result = await composer.send(params)
        return {
          ...result,
          returns: result.returns?.map((val, i) => resultMappers[i] !== undefined ? resultMappers[i]!(val) : val.returnValue)
        }
      }
    } as unknown as AtomicMarketplaceEscrowV4Composer
  }
}
export type AtomicMarketplaceEscrowV4Composer<TReturns extends [...any[]] = []> = {
  /**
   * Calls the initialize(uint64,address)bool ABI method.
   *
   * Initialize marketplace escrow
   *
   * @param args The arguments for the contract call
   * @param params Any additional parameters for the call
   * @returns The typed transaction composer so you can fluently chain multiple calls or call execute to execute all queued up transactions
   */
  initialize(params?: CallParams<AtomicMarketplaceEscrowV4Args['obj']['initialize(uint64,address)bool'] | AtomicMarketplaceEscrowV4Args['tuple']['initialize(uint64,address)bool']>): AtomicMarketplaceEscrowV4Composer<[...TReturns, AtomicMarketplaceEscrowV4Returns['initialize(uint64,address)bool'] | undefined]>

  /**
   * Calls the setSettlementCurrency(uint64)bool ABI method.
   *
   * Update settlement currency (admin only)
   *
   * @param args The arguments for the contract call
   * @param params Any additional parameters for the call
   * @returns The typed transaction composer so you can fluently chain multiple calls or call execute to execute all queued up transactions
   */
  setSettlementCurrency(params?: CallParams<AtomicMarketplaceEscrowV4Args['obj']['setSettlementCurrency(uint64)bool'] | AtomicMarketplaceEscrowV4Args['tuple']['setSettlementCurrency(uint64)bool']>): AtomicMarketplaceEscrowV4Composer<[...TReturns, AtomicMarketplaceEscrowV4Returns['setSettlementCurrency(uint64)bool'] | undefined]>

  /**
   * Calls the setRates(uint64,uint64,uint64)bool ABI method.
   *
   * Update configurable rates (only creator)
   *
   * @param args The arguments for the contract call
   * @param params Any additional parameters for the call
   * @returns The typed transaction composer so you can fluently chain multiple calls or call execute to execute all queued up transactions
   */
  setRates(params?: CallParams<AtomicMarketplaceEscrowV4Args['obj']['setRates(uint64,uint64,uint64)bool'] | AtomicMarketplaceEscrowV4Args['tuple']['setRates(uint64,uint64,uint64)bool']>): AtomicMarketplaceEscrowV4Composer<[...TReturns, AtomicMarketplaceEscrowV4Returns['setRates(uint64,uint64,uint64)bool'] | undefined]>

  /**
   * Calls the createTrade(address,uint64,string,string,string)uint64 ABI method.
   *
  * Create trade (buyer initiates)
  
  UI MUST divide instrument price by 100,000 before calling this

   *
   * @param args The arguments for the contract call
   * @param params Any additional parameters for the call
   * @returns The typed transaction composer so you can fluently chain multiple calls or call execute to execute all queued up transactions
   */
  createTrade(params?: CallParams<AtomicMarketplaceEscrowV4Args['obj']['createTrade(address,uint64,string,string,string)uint64'] | AtomicMarketplaceEscrowV4Args['tuple']['createTrade(address,uint64,string,string,string)uint64']>): AtomicMarketplaceEscrowV4Composer<[...TReturns, AtomicMarketplaceEscrowV4Returns['createTrade(address,uint64,string,string,string)uint64'] | undefined]>

  /**
   * Calls the escrowTrade(pay,uint64)bool ABI method.
   *
  * Escrow trade - buyer locks funds (ALGO)
  
  Group transaction structure:
  [0] Payment (buyer to contract)
  [1] Application call (this method)

   *
   * @param args The arguments for the contract call
   * @param params Any additional parameters for the call
   * @returns The typed transaction composer so you can fluently chain multiple calls or call execute to execute all queued up transactions
   */
  escrowTrade(params?: CallParams<AtomicMarketplaceEscrowV4Args['obj']['escrowTrade(pay,uint64)bool'] | AtomicMarketplaceEscrowV4Args['tuple']['escrowTrade(pay,uint64)bool']>): AtomicMarketplaceEscrowV4Composer<[...TReturns, AtomicMarketplaceEscrowV4Returns['escrowTrade(pay,uint64)bool'] | undefined]>

  /**
   * Calls the escrowTradeWithAsset(axfer,uint64)bool ABI method.
   *
  * Escrow trade - buyer locks funds (ASA)
  
  Group transaction structure:
  [0] AssetTransfer (buyer to contract)
  [1] Application call (this method)

   *
   * @param args The arguments for the contract call
   * @param params Any additional parameters for the call
   * @returns The typed transaction composer so you can fluently chain multiple calls or call execute to execute all queued up transactions
   */
  escrowTradeWithAsset(params?: CallParams<AtomicMarketplaceEscrowV4Args['obj']['escrowTradeWithAsset(axfer,uint64)bool'] | AtomicMarketplaceEscrowV4Args['tuple']['escrowTradeWithAsset(axfer,uint64)bool']>): AtomicMarketplaceEscrowV4Composer<[...TReturns, AtomicMarketplaceEscrowV4Returns['escrowTradeWithAsset(axfer,uint64)bool'] | undefined]>

  /**
   * Calls the escrowTradeAsFinancier(pay,uint64)bool ABI method.
   *
  * Escrow trade as financier - third party locks funds (ALGO)
  
  Group transaction structure:
  [0] Payment (financier to contract)
  [1] Application call (this method)

   *
   * @param args The arguments for the contract call
   * @param params Any additional parameters for the call
   * @returns The typed transaction composer so you can fluently chain multiple calls or call execute to execute all queued up transactions
   */
  escrowTradeAsFinancier(params?: CallParams<AtomicMarketplaceEscrowV4Args['obj']['escrowTradeAsFinancier(pay,uint64)bool'] | AtomicMarketplaceEscrowV4Args['tuple']['escrowTradeAsFinancier(pay,uint64)bool']>): AtomicMarketplaceEscrowV4Composer<[...TReturns, AtomicMarketplaceEscrowV4Returns['escrowTradeAsFinancier(pay,uint64)bool'] | undefined]>

  /**
   * Calls the escrowTradeAsFinancierWithAsset(axfer,uint64)bool ABI method.
   *
  * Escrow trade as financier - third party locks funds (ASA)
  
  Group transaction structure:
  [0] AssetTransfer (financier to contract)
  [1] Application call (this method)

   *
   * @param args The arguments for the contract call
   * @param params Any additional parameters for the call
   * @returns The typed transaction composer so you can fluently chain multiple calls or call execute to execute all queued up transactions
   */
  escrowTradeAsFinancierWithAsset(params?: CallParams<AtomicMarketplaceEscrowV4Args['obj']['escrowTradeAsFinancierWithAsset(axfer,uint64)bool'] | AtomicMarketplaceEscrowV4Args['tuple']['escrowTradeAsFinancierWithAsset(axfer,uint64)bool']>): AtomicMarketplaceEscrowV4Composer<[...TReturns, AtomicMarketplaceEscrowV4Returns['escrowTradeAsFinancierWithAsset(axfer,uint64)bool'] | undefined]>

  /**
   * Calls the executeTrade(axfer,pay,uint64,uint64,uint64,string,string,string,address)bool ABI method.
   *
  * Execute trade - seller transfers RWA instrument and receives payment (ALGO)
  
  Group transaction structure:
  [0] Asset transfer (seller sends instrument NFT to buyer/marketplace)
  [1] Payment (regulator tax payment from seller)
  [2] Application call (this method - triggers internal payments)

   *
   * @param args The arguments for the contract call
   * @param params Any additional parameters for the call
   * @returns The typed transaction composer so you can fluently chain multiple calls or call execute to execute all queued up transactions
   */
  executeTrade(params?: CallParams<AtomicMarketplaceEscrowV4Args['obj']['executeTrade(axfer,pay,uint64,uint64,uint64,string,string,string,address)bool'] | AtomicMarketplaceEscrowV4Args['tuple']['executeTrade(axfer,pay,uint64,uint64,uint64,string,string,string,address)bool']>): AtomicMarketplaceEscrowV4Composer<[...TReturns, AtomicMarketplaceEscrowV4Returns['executeTrade(axfer,pay,uint64,uint64,uint64,string,string,string,address)bool'] | undefined]>

  /**
   * Calls the executeTradeWithAsset(axfer,axfer,uint64,uint64,uint64,string,string,string,address)bool ABI method.
   *
  * Execute trade - seller transfers RWA instrument and receives payment (ASA)
  
  Group transaction structure:
  [0] Asset transfer (seller sends instrument NFT to buyer/marketplace)
  [1] AssetTransfer (regulator tax payment from seller)
  [2] Application call (this method - triggers internal payments)

   *
   * @param args The arguments for the contract call
   * @param params Any additional parameters for the call
   * @returns The typed transaction composer so you can fluently chain multiple calls or call execute to execute all queued up transactions
   */
  executeTradeWithAsset(params?: CallParams<AtomicMarketplaceEscrowV4Args['obj']['executeTradeWithAsset(axfer,axfer,uint64,uint64,uint64,string,string,string,address)bool'] | AtomicMarketplaceEscrowV4Args['tuple']['executeTradeWithAsset(axfer,axfer,uint64,uint64,uint64,string,string,string,address)bool']>): AtomicMarketplaceEscrowV4Composer<[...TReturns, AtomicMarketplaceEscrowV4Returns['executeTradeWithAsset(axfer,axfer,uint64,uint64,uint64,string,string,string,address)bool'] | undefined]>

  /**
   * Calls the acknowledgePayment(pay,uint64)bool ABI method.
   *
  * Acknowledge payment - seller confirms receipt and triggers regulator refund (ALGO)
  
  Group transaction structure:
  [0] Payment (regulator sends refund to seller)
  [1] Application call (this method)

   *
   * @param args The arguments for the contract call
   * @param params Any additional parameters for the call
   * @returns The typed transaction composer so you can fluently chain multiple calls or call execute to execute all queued up transactions
   */
  acknowledgePayment(params?: CallParams<AtomicMarketplaceEscrowV4Args['obj']['acknowledgePayment(pay,uint64)bool'] | AtomicMarketplaceEscrowV4Args['tuple']['acknowledgePayment(pay,uint64)bool']>): AtomicMarketplaceEscrowV4Composer<[...TReturns, AtomicMarketplaceEscrowV4Returns['acknowledgePayment(pay,uint64)bool'] | undefined]>

  /**
   * Calls the acknowledgePaymentWithAsset(axfer,uint64)bool ABI method.
   *
  * Acknowledge payment - seller confirms receipt and triggers regulator refund (ASA)
  
  Group transaction structure:
  [0] AssetTransfer (regulator sends refund to seller)
  [1] Application call (this method)

   *
   * @param args The arguments for the contract call
   * @param params Any additional parameters for the call
   * @returns The typed transaction composer so you can fluently chain multiple calls or call execute to execute all queued up transactions
   */
  acknowledgePaymentWithAsset(params?: CallParams<AtomicMarketplaceEscrowV4Args['obj']['acknowledgePaymentWithAsset(axfer,uint64)bool'] | AtomicMarketplaceEscrowV4Args['tuple']['acknowledgePaymentWithAsset(axfer,uint64)bool']>): AtomicMarketplaceEscrowV4Composer<[...TReturns, AtomicMarketplaceEscrowV4Returns['acknowledgePaymentWithAsset(axfer,uint64)bool'] | undefined]>

  /**
   * Calls the expireTrade(uint64)bool ABI method.
   *
   * Expire trade - admin function to cancel and refund
   *
   * @param args The arguments for the contract call
   * @param params Any additional parameters for the call
   * @returns The typed transaction composer so you can fluently chain multiple calls or call execute to execute all queued up transactions
   */
  expireTrade(params?: CallParams<AtomicMarketplaceEscrowV4Args['obj']['expireTrade(uint64)bool'] | AtomicMarketplaceEscrowV4Args['tuple']['expireTrade(uint64)bool']>): AtomicMarketplaceEscrowV4Composer<[...TReturns, AtomicMarketplaceEscrowV4Returns['expireTrade(uint64)bool'] | undefined]>

  /**
   * Calls the getTrade(uint64)(uint64,address,address,address,uint64,uint64,uint64,uint64,uint64,uint64,address,uint64,uint64,uint64) ABI method.
   *
   * Get trade details
   *
   * @param args The arguments for the contract call
   * @param params Any additional parameters for the call
   * @returns The typed transaction composer so you can fluently chain multiple calls or call execute to execute all queued up transactions
   */
  getTrade(params?: CallParams<AtomicMarketplaceEscrowV4Args['obj']['getTrade(uint64)(uint64,address,address,address,uint64,uint64,uint64,uint64,uint64,uint64,address,uint64,uint64,uint64)'] | AtomicMarketplaceEscrowV4Args['tuple']['getTrade(uint64)(uint64,address,address,address,uint64,uint64,uint64,uint64,uint64,uint64,address,uint64,uint64,uint64)']>): AtomicMarketplaceEscrowV4Composer<[...TReturns, AtomicMarketplaceEscrowV4Returns['getTrade(uint64)(uint64,address,address,address,uint64,uint64,uint64,uint64,uint64,uint64,address,uint64,uint64,uint64)'] | undefined]>

  /**
   * Calls the getTradeMetadata(uint64)(string,string,string,string,string,string) ABI method.
   *
   * Get trade metadata
   *
   * @param args The arguments for the contract call
   * @param params Any additional parameters for the call
   * @returns The typed transaction composer so you can fluently chain multiple calls or call execute to execute all queued up transactions
   */
  getTradeMetadata(params?: CallParams<AtomicMarketplaceEscrowV4Args['obj']['getTradeMetadata(uint64)(string,string,string,string,string,string)'] | AtomicMarketplaceEscrowV4Args['tuple']['getTradeMetadata(uint64)(string,string,string,string,string,string)']>): AtomicMarketplaceEscrowV4Composer<[...TReturns, AtomicMarketplaceEscrowV4Returns['getTradeMetadata(uint64)(string,string,string,string,string,string)'] | undefined]>

  /**
   * Calls the getTradesByBuyer(address)uint64[] ABI method.
   *
   * Get trades by buyer
   *
   * @param args The arguments for the contract call
   * @param params Any additional parameters for the call
   * @returns The typed transaction composer so you can fluently chain multiple calls or call execute to execute all queued up transactions
   */
  getTradesByBuyer(params?: CallParams<AtomicMarketplaceEscrowV4Args['obj']['getTradesByBuyer(address)uint64[]'] | AtomicMarketplaceEscrowV4Args['tuple']['getTradesByBuyer(address)uint64[]']>): AtomicMarketplaceEscrowV4Composer<[...TReturns, AtomicMarketplaceEscrowV4Returns['getTradesByBuyer(address)uint64[]'] | undefined]>

  /**
   * Calls the getTradesBySeller(address)uint64[] ABI method.
   *
   * Get trades by seller
   *
   * @param args The arguments for the contract call
   * @param params Any additional parameters for the call
   * @returns The typed transaction composer so you can fluently chain multiple calls or call execute to execute all queued up transactions
   */
  getTradesBySeller(params?: CallParams<AtomicMarketplaceEscrowV4Args['obj']['getTradesBySeller(address)uint64[]'] | AtomicMarketplaceEscrowV4Args['tuple']['getTradesBySeller(address)uint64[]']>): AtomicMarketplaceEscrowV4Composer<[...TReturns, AtomicMarketplaceEscrowV4Returns['getTradesBySeller(address)uint64[]'] | undefined]>

  /**
   * Calls the calculateEscrowCost(uint64)(uint64,uint64) ABI method.
   *
   * Calculate escrow cost (amount + fee)
   *
   * @param args The arguments for the contract call
   * @param params Any additional parameters for the call
   * @returns The typed transaction composer so you can fluently chain multiple calls or call execute to execute all queued up transactions
   */
  calculateEscrowCost(params?: CallParams<AtomicMarketplaceEscrowV4Args['obj']['calculateEscrowCost(uint64)(uint64,uint64)'] | AtomicMarketplaceEscrowV4Args['tuple']['calculateEscrowCost(uint64)(uint64,uint64)']>): AtomicMarketplaceEscrowV4Composer<[...TReturns, AtomicMarketplaceEscrowV4Returns['calculateEscrowCost(uint64)(uint64,uint64)'] | undefined]>

  /**
   * Calls the calculateRegulatorCosts(uint64)(uint64,uint64) ABI method.
   *
   * Calculate regulator costs
   *
   * @param args The arguments for the contract call
   * @param params Any additional parameters for the call
   * @returns The typed transaction composer so you can fluently chain multiple calls or call execute to execute all queued up transactions
   */
  calculateRegulatorCosts(params?: CallParams<AtomicMarketplaceEscrowV4Args['obj']['calculateRegulatorCosts(uint64)(uint64,uint64)'] | AtomicMarketplaceEscrowV4Args['tuple']['calculateRegulatorCosts(uint64)(uint64,uint64)']>): AtomicMarketplaceEscrowV4Composer<[...TReturns, AtomicMarketplaceEscrowV4Returns['calculateRegulatorCosts(uint64)(uint64,uint64)'] | undefined]>

  /**
   * Calls the getPaymentConfig()(uint64,bool) ABI method.
   *
   * Get payment configuration for UI
   *
   * @param args The arguments for the contract call
   * @param params Any additional parameters for the call
   * @returns The typed transaction composer so you can fluently chain multiple calls or call execute to execute all queued up transactions
   */
  getPaymentConfig(params?: CallParams<AtomicMarketplaceEscrowV4Args['obj']['getPaymentConfig()(uint64,bool)'] | AtomicMarketplaceEscrowV4Args['tuple']['getPaymentConfig()(uint64,bool)']>): AtomicMarketplaceEscrowV4Composer<[...TReturns, AtomicMarketplaceEscrowV4Returns['getPaymentConfig()(uint64,bool)'] | undefined]>

  /**
   * Makes a clear_state call to an existing instance of the AtomicMarketplaceEscrowV4 smart contract.
   *
   * @param args The arguments for the bare call
   * @returns The typed transaction composer so you can fluently chain multiple calls or call execute to execute all queued up transactions
   */
  clearState(params?: AppClientBareCallParams): AtomicMarketplaceEscrowV4Composer<[...TReturns, undefined]>

  /**
   * Adds a transaction to the composer
   *
   * @param txn A transaction to add to the transaction group
   * @param signer The optional signer to use when signing this transaction.
   */
  addTransaction(txn: Transaction, signer?: TransactionSigner): AtomicMarketplaceEscrowV4Composer<TReturns>
  /**
   * Returns the underlying AtomicTransactionComposer instance
   */
  composer(): Promise<TransactionComposer>
  /**
   * Simulates the transaction group and returns the result
   */
  simulate(): Promise<AtomicMarketplaceEscrowV4ComposerResults<TReturns> & { simulateResponse: modelsv2.SimulateResponse }>
  simulate(options: SkipSignaturesSimulateOptions): Promise<AtomicMarketplaceEscrowV4ComposerResults<TReturns> & { simulateResponse: modelsv2.SimulateResponse }>
  simulate(options: RawSimulateOptions): Promise<AtomicMarketplaceEscrowV4ComposerResults<TReturns> & { simulateResponse: modelsv2.SimulateResponse }>
  /**
   * Sends the transaction group to the network and returns the results
   */
  send(params?: SendParams): Promise<AtomicMarketplaceEscrowV4ComposerResults<TReturns>>
}
export type AtomicMarketplaceEscrowV4ComposerResults<TReturns extends [...any[]]> = Expand<SendAtomicTransactionComposerResults & {
  returns: TReturns
}>

